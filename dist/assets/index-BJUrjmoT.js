function p0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var m0={exports:{}},nh={},g0={exports:{}},Ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tu=Symbol.for("react.element"),wC=Symbol.for("react.portal"),_C=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),TC=Symbol.for("react.profiler"),IC=Symbol.for("react.provider"),SC=Symbol.for("react.context"),bC=Symbol.for("react.forward_ref"),CC=Symbol.for("react.suspense"),AC=Symbol.for("react.memo"),PC=Symbol.for("react.lazy"),Zy=Symbol.iterator;function RC(t){return t===null||typeof t!="object"?null:(t=Zy&&t[Zy]||t["@@iterator"],typeof t=="function"?t:null)}var y0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v0=Object.assign,w0={};function Ma(t,e,n){this.props=t,this.context=e,this.refs=w0,this.updater=n||y0}Ma.prototype.isReactComponent={};Ma.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ma.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _0(){}_0.prototype=Ma.prototype;function Em(t,e,n){this.props=t,this.context=e,this.refs=w0,this.updater=n||y0}var Tm=Em.prototype=new _0;Tm.constructor=Em;v0(Tm,Ma.prototype);Tm.isPureReactComponent=!0;var ev=Array.isArray,E0=Object.prototype.hasOwnProperty,Im={current:null},T0={key:!0,ref:!0,__self:!0,__source:!0};function I0(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)E0.call(e,r)&&!T0.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var u=Array(l),d=0;d<l;d++)u[d]=arguments[d+2];i.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Tu,type:t,key:o,ref:s,props:i,_owner:Im.current}}function kC(t,e){return{$$typeof:Tu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tu}function xC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var tv=/\/+/g;function lf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xC(""+t.key):e.toString(36)}function Bc(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case Tu:case wC:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lf(s,0):r,ev(i)?(n="",t!=null&&(n=t.replace(tv,"$&/")+"/"),Bc(i,e,n,"",function(d){return d})):i!=null&&(Sm(i)&&(i=kC(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(tv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",ev(t))for(var l=0;l<t.length;l++){o=t[l];var u=r+lf(o,l);s+=Bc(o,e,n,u,i)}else if(u=RC(t),typeof u=="function")for(t=u.call(t),l=0;!(o=t.next()).done;)o=o.value,u=r+lf(o,l++),s+=Bc(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function mc(t,e,n){if(t==null)return t;var r=[],i=0;return Bc(t,r,"","",function(o){return e.call(n,o,i++)}),r}function OC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},zc={transition:null},NC={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:zc,ReactCurrentOwner:Im};function S0(){throw Error("act(...) is not supported in production builds of React.")}Ce.Children={map:mc,forEach:function(t,e,n){mc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return mc(t,function(){e++}),e},toArray:function(t){return mc(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ce.Component=Ma;Ce.Fragment=_C;Ce.Profiler=TC;Ce.PureComponent=Em;Ce.StrictMode=EC;Ce.Suspense=CC;Ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;Ce.act=S0;Ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v0({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Im.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)E0.call(e,u)&&!T0.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var d=0;d<u;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:Tu,type:t.type,key:i,ref:o,props:r,_owner:s}};Ce.createContext=function(t){return t={$$typeof:SC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:IC,_context:t},t.Consumer=t};Ce.createElement=I0;Ce.createFactory=function(t){var e=I0.bind(null,t);return e.type=t,e};Ce.createRef=function(){return{current:null}};Ce.forwardRef=function(t){return{$$typeof:bC,render:t}};Ce.isValidElement=Sm;Ce.lazy=function(t){return{$$typeof:PC,_payload:{_status:-1,_result:t},_init:OC}};Ce.memo=function(t,e){return{$$typeof:AC,type:t,compare:e===void 0?null:e}};Ce.startTransition=function(t){var e=zc.transition;zc.transition={};try{t()}finally{zc.transition=e}};Ce.unstable_act=S0;Ce.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Ce.useContext=function(t){return Tn.current.useContext(t)};Ce.useDebugValue=function(){};Ce.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Ce.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Ce.useId=function(){return Tn.current.useId()};Ce.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Ce.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Ce.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Ce.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Ce.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Ce.useRef=function(t){return Tn.current.useRef(t)};Ce.useState=function(t){return Tn.current.useState(t)};Ce.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Ce.useTransition=function(){return Tn.current.useTransition()};Ce.version="18.3.1";g0.exports=Ce;var K=g0.exports;const _i=th(K),DC=p0({__proto__:null,default:_i},[K]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=K,MC=Symbol.for("react.element"),VC=Symbol.for("react.fragment"),FC=Object.prototype.hasOwnProperty,UC=LC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function b0(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)FC.call(e,r)&&!jC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:MC,type:t,key:o,ref:s,props:i,_owner:UC.current}}nh.Fragment=VC;nh.jsx=b0;nh.jsxs=b0;m0.exports=nh;var j=m0.exports,ep={},C0={exports:{}},Kn={},A0={exports:{}},P0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,Z){var pe=re.length;re.push(Z);e:for(;0<pe;){var Re=pe-1>>>1,be=re[Re];if(0<i(be,Z))re[Re]=Z,re[pe]=be,pe=Re;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var Z=re[0],pe=re.pop();if(pe!==Z){re[0]=pe;e:for(var Re=0,be=re.length,He=be>>>1;Re<He;){var $=2*(Re+1)-1,Rt=re[$],mt=$+1,Sn=re[mt];if(0>i(Rt,pe))mt<be&&0>i(Sn,Rt)?(re[Re]=Sn,re[mt]=pe,Re=mt):(re[Re]=Rt,re[$]=pe,Re=$);else if(mt<be&&0>i(Sn,pe))re[Re]=Sn,re[mt]=pe,Re=mt;else break e}}return Z}function i(re,Z){var pe=re.sortIndex-Z.sortIndex;return pe!==0?pe:re.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],d=[],p=1,y=null,w=3,C=!1,x=!1,O=!1,V=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(re){for(var Z=n(d);Z!==null;){if(Z.callback===null)r(d);else if(Z.startTime<=re)r(d),Z.sortIndex=Z.expirationTime,e(u,Z);else break;Z=n(d)}}function B(re){if(O=!1,P(re),!x)if(n(u)!==null)x=!0,Ke(G);else{var Z=n(d);Z!==null&&xe(B,Z.startTime-re)}}function G(re,Z){x=!1,O&&(O=!1,b(E),E=-1),C=!0;var pe=w;try{for(P(Z),y=n(u);y!==null&&(!(y.expirationTime>Z)||re&&!D());){var Re=y.callback;if(typeof Re=="function"){y.callback=null,w=y.priorityLevel;var be=Re(y.expirationTime<=Z);Z=t.unstable_now(),typeof be=="function"?y.callback=be:y===n(u)&&r(u),P(Z)}else r(u);y=n(u)}if(y!==null)var He=!0;else{var $=n(d);$!==null&&xe(B,$.startTime-Z),He=!1}return He}finally{y=null,w=pe,C=!1}}var L=!1,S=null,E=-1,I=5,R=-1;function D(){return!(t.unstable_now()-R<I)}function F(){if(S!==null){var re=t.unstable_now();R=re;var Z=!0;try{Z=S(!0,re)}finally{Z?k():(L=!1,S=null)}}else L=!1}var k;if(typeof T=="function")k=function(){T(F)};else if(typeof MessageChannel<"u"){var Fe=new MessageChannel,tn=Fe.port2;Fe.port1.onmessage=F,k=function(){tn.postMessage(null)}}else k=function(){V(F,0)};function Ke(re){S=re,L||(L=!0,k())}function xe(re,Z){E=V(function(){re(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){x||C||(x=!0,Ke(G))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(re){switch(w){case 1:case 2:case 3:var Z=3;break;default:Z=w}var pe=w;w=Z;try{return re()}finally{w=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,Z){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=w;w=re;try{return Z()}finally{w=pe}},t.unstable_scheduleCallback=function(re,Z,pe){var Re=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Re+pe:Re):pe=Re,re){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=pe+be,re={id:p++,callback:Z,priorityLevel:re,startTime:pe,expirationTime:be,sortIndex:-1},pe>Re?(re.sortIndex=pe,e(d,re),n(u)===null&&re===n(d)&&(O?(b(E),E=-1):O=!0,xe(B,pe-Re))):(re.sortIndex=be,e(u,re),x||C||(x=!0,Ke(G))),re},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(re){var Z=w;return function(){var pe=w;w=Z;try{return re.apply(this,arguments)}finally{w=pe}}}})(P0);A0.exports=P0;var BC=A0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zC=K,Wn=BC;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R0=new Set,Bl={};function Es(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(Bl[t]=e,t=0;t<e.length;t++)R0.add(e[t])}var bi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tp=Object.prototype.hasOwnProperty,$C=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nv={},rv={};function HC(t){return tp.call(rv,t)?!0:tp.call(nv,t)?!1:$C.test(t)?rv[t]=!0:(nv[t]=!0,!1)}function qC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WC(t,e,n,r){if(e===null||typeof e>"u"||qC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function In(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Zt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Zt[t]=new In(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Zt[e]=new In(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Zt[t]=new In(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Zt[t]=new In(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Zt[t]=new In(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Zt[t]=new In(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Zt[t]=new In(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Zt[t]=new In(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Zt[t]=new In(t,5,!1,t.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Cm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bm,Cm);Zt[e]=new In(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bm,Cm);Zt[e]=new In(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bm,Cm);Zt[e]=new In(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Zt[t]=new In(t,1,!1,t.toLowerCase(),null,!1,!1)});Zt.xlinkHref=new In("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Zt[t]=new In(t,1,!1,t.toLowerCase(),null,!0,!0)});function Am(t,e,n,r){var i=Zt.hasOwnProperty(e)?Zt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WC(e,n,i,r)&&(n=null),r||i===null?HC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Di=zC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Qs=Symbol.for("react.fragment"),Pm=Symbol.for("react.strict_mode"),np=Symbol.for("react.profiler"),k0=Symbol.for("react.provider"),x0=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),ip=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),O0=Symbol.for("react.offscreen"),iv=Symbol.iterator;function tl(t){return t===null||typeof t!="object"?null:(t=iv&&t[iv]||t["@@iterator"],typeof t=="function"?t:null)}var ht=Object.assign,uf;function pl(t){if(uf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uf=e&&e[1]||""}return`
`+uf+t}var cf=!1;function df(t,e){if(!t||cf)return"";cf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,l=o.length-1;1<=s&&0<=l&&i[s]!==o[l];)l--;for(;1<=s&&0<=l;s--,l--)if(i[s]!==o[l]){if(s!==1||l!==1)do if(s--,l--,0>l||i[s]!==o[l]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=l);break}}}finally{cf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?pl(t):""}function KC(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=df(t.type,!1),t;case 11:return t=df(t.type.render,!1),t;case 1:return t=df(t.type,!0),t;default:return""}}function op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qs:return"Fragment";case Gs:return"Portal";case np:return"Profiler";case Pm:return"StrictMode";case rp:return"Suspense";case ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case x0:return(t.displayName||"Context")+".Consumer";case k0:return(t._context.displayName||"Context")+".Provider";case Rm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case km:return e=t.displayName||null,e!==null?e:op(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return op(t(e))}catch{}}return null}function GC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return op(e);case 8:return e===Pm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QC(t){var e=N0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yc(t){t._valueTracker||(t._valueTracker=QC(t))}function D0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function ud(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sp(t,e){var n=e.checked;return ht({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ov(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=mo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function L0(t,e){e=e.checked,e!=null&&Am(t,"checked",e,!1)}function ap(t,e){L0(t,e);var n=mo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lp(t,e.type,n):e.hasOwnProperty("defaultValue")&&lp(t,e.type,mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lp(t,e,n){(e!=="number"||ud(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ml=Array.isArray;function ua(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+mo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function up(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return ht({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function av(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(J(92));if(ml(n)){if(1<n.length)throw Error(J(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:mo(n)}}function M0(t,e){var n=mo(e.value),r=mo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function lv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vc,F0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YC=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(t){YC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),bl[e]=bl[t]})});function U0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||bl.hasOwnProperty(t)&&bl[t]?(""+e).trim():e+"px"}function j0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=U0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var XC=ht({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dp(t,e){if(e){if(XC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function hp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fp=null;function xm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pp=null,ca=null,da=null;function uv(t){if(t=bu(t)){if(typeof pp!="function")throw Error(J(280));var e=t.stateNode;e&&(e=ah(e),pp(t.stateNode,t.type,e))}}function B0(t){ca?da?da.push(t):da=[t]:ca=t}function z0(){if(ca){var t=ca,e=da;if(da=ca=null,uv(t),e)for(t=0;t<e.length;t++)uv(e[t])}}function $0(t,e){return t(e)}function H0(){}var hf=!1;function q0(t,e,n){if(hf)return t(e,n);hf=!0;try{return $0(t,e,n)}finally{hf=!1,(ca!==null||da!==null)&&(H0(),z0())}}function $l(t,e){var n=t.stateNode;if(n===null)return null;var r=ah(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(J(231,e,typeof n));return n}var mp=!1;if(bi)try{var nl={};Object.defineProperty(nl,"passive",{get:function(){mp=!0}}),window.addEventListener("test",nl,nl),window.removeEventListener("test",nl,nl)}catch{mp=!1}function JC(t,e,n,r,i,o,s,l,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Cl=!1,cd=null,dd=!1,gp=null,ZC={onError:function(t){Cl=!0,cd=t}};function eA(t,e,n,r,i,o,s,l,u){Cl=!1,cd=null,JC.apply(ZC,arguments)}function tA(t,e,n,r,i,o,s,l,u){if(eA.apply(this,arguments),Cl){if(Cl){var d=cd;Cl=!1,cd=null}else throw Error(J(198));dd||(dd=!0,gp=d)}}function Ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function W0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cv(t){if(Ts(t)!==t)throw Error(J(188))}function nA(t){var e=t.alternate;if(!e){if(e=Ts(t),e===null)throw Error(J(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return cv(i),t;if(o===r)return cv(i),e;o=o.sibling}throw Error(J(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(J(189))}}if(n.alternate!==r)throw Error(J(190))}if(n.tag!==3)throw Error(J(188));return n.stateNode.current===n?t:e}function K0(t){return t=nA(t),t!==null?G0(t):null}function G0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=G0(t);if(e!==null)return e;t=t.sibling}return null}var Q0=Wn.unstable_scheduleCallback,dv=Wn.unstable_cancelCallback,rA=Wn.unstable_shouldYield,iA=Wn.unstable_requestPaint,Tt=Wn.unstable_now,oA=Wn.unstable_getCurrentPriorityLevel,Om=Wn.unstable_ImmediatePriority,Y0=Wn.unstable_UserBlockingPriority,hd=Wn.unstable_NormalPriority,sA=Wn.unstable_LowPriority,X0=Wn.unstable_IdlePriority,rh=null,Wr=null;function aA(t){if(Wr&&typeof Wr.onCommitFiberRoot=="function")try{Wr.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:cA,lA=Math.log,uA=Math.LN2;function cA(t){return t>>>=0,t===0?32:31-(lA(t)/uA|0)|0}var wc=64,_c=4194304;function gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function fd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var l=s&~i;l!==0?r=gl(l):(o&=s,o!==0&&(r=gl(o)))}else s=n&~i,s!==0?r=gl(s):o!==0&&(r=gl(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Pr(e),i=1<<n,r|=t[n],e&=~i;return r}function dA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Pr(o),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=dA(l,e)):u<=e&&(t.expiredLanes|=l),o&=~l}}function yp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function J0(){var t=wc;return wc<<=1,!(wc&4194240)&&(wc=64),t}function ff(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Iu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Pr(e),t[e]=n}function fA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Pr(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Nm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Pr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var We=0;function Z0(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eE,Dm,tE,nE,rE,vp=!1,Ec=[],io=null,oo=null,so=null,Hl=new Map,ql=new Map,Gi=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hv(t,e){switch(t){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":so=null;break;case"pointerover":case"pointerout":Hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function rl(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=bu(e),e!==null&&Dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mA(t,e,n,r,i){switch(e){case"focusin":return io=rl(io,t,e,n,r,i),!0;case"dragenter":return oo=rl(oo,t,e,n,r,i),!0;case"mouseover":return so=rl(so,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Hl.set(o,rl(Hl.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ql.set(o,rl(ql.get(o)||null,t,e,n,r,i)),!0}return!1}function iE(t){var e=qo(t.target);if(e!==null){var n=Ts(e);if(n!==null){if(e=n.tag,e===13){if(e=W0(n),e!==null){t.blockedOn=e,rE(t.priority,function(){tE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function $c(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=wp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fp=r,n.target.dispatchEvent(r),fp=null}else return e=bu(n),e!==null&&Dm(e),t.blockedOn=n,!1;e.shift()}return!0}function fv(t,e,n){$c(t)&&n.delete(e)}function gA(){vp=!1,io!==null&&$c(io)&&(io=null),oo!==null&&$c(oo)&&(oo=null),so!==null&&$c(so)&&(so=null),Hl.forEach(fv),ql.forEach(fv)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,vp||(vp=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,gA)))}function Wl(t){function e(i){return il(i,t)}if(0<Ec.length){il(Ec[0],t);for(var n=1;n<Ec.length;n++){var r=Ec[n];r.blockedOn===t&&(r.blockedOn=null)}}for(io!==null&&il(io,t),oo!==null&&il(oo,t),so!==null&&il(so,t),Hl.forEach(e),ql.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)iE(n),n.blockedOn===null&&Gi.shift()}var ha=Di.ReactCurrentBatchConfig,pd=!0;function yA(t,e,n,r){var i=We,o=ha.transition;ha.transition=null;try{We=1,Lm(t,e,n,r)}finally{We=i,ha.transition=o}}function vA(t,e,n,r){var i=We,o=ha.transition;ha.transition=null;try{We=4,Lm(t,e,n,r)}finally{We=i,ha.transition=o}}function Lm(t,e,n,r){if(pd){var i=wp(t,e,n,r);if(i===null)If(t,e,r,md,n),hv(t,r);else if(mA(i,t,e,n,r))r.stopPropagation();else if(hv(t,r),e&4&&-1<pA.indexOf(t)){for(;i!==null;){var o=bu(i);if(o!==null&&eE(o),o=wp(t,e,n,r),o===null&&If(t,e,r,md,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else If(t,e,r,null,n)}}var md=null;function wp(t,e,n,r){if(md=null,t=xm(r),t=qo(t),t!==null)if(e=Ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=W0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return md=t,null}function oE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(oA()){case Om:return 1;case Y0:return 4;case hd:case sA:return 16;case X0:return 536870912;default:return 16}default:return 16}}var eo=null,Mm=null,Hc=null;function sE(){if(Hc)return Hc;var t,e=Mm,n=e.length,r,i="value"in eo?eo.value:eo.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Hc=i.slice(t,1<r?1-r:void 0)}function qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Tc(){return!0}function pv(){return!1}function Gn(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Tc:pv,this.isPropagationStopped=pv,this}return ht(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Tc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Tc)},persist:function(){},isPersistent:Tc}),e}var Va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vm=Gn(Va),Su=ht({},Va,{view:0,detail:0}),wA=Gn(Su),pf,mf,ol,ih=ht({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(pf=t.screenX-ol.screenX,mf=t.screenY-ol.screenY):mf=pf=0,ol=t),pf)},movementY:function(t){return"movementY"in t?t.movementY:mf}}),mv=Gn(ih),_A=ht({},ih,{dataTransfer:0}),EA=Gn(_A),TA=ht({},Su,{relatedTarget:0}),gf=Gn(TA),IA=ht({},Va,{animationName:0,elapsedTime:0,pseudoElement:0}),SA=Gn(IA),bA=ht({},Va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CA=Gn(bA),AA=ht({},Va,{data:0}),gv=Gn(AA),PA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kA[t])?!!e[t]:!1}function Fm(){return xA}var OA=ht({},Su,{key:function(t){if(t.key){var e=PA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?RA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fm,charCode:function(t){return t.type==="keypress"?qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NA=Gn(OA),DA=ht({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yv=Gn(DA),LA=ht({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fm}),MA=Gn(LA),VA=ht({},Va,{propertyName:0,elapsedTime:0,pseudoElement:0}),FA=Gn(VA),UA=ht({},ih,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jA=Gn(UA),BA=[9,13,27,32],Um=bi&&"CompositionEvent"in window,Al=null;bi&&"documentMode"in document&&(Al=document.documentMode);var zA=bi&&"TextEvent"in window&&!Al,aE=bi&&(!Um||Al&&8<Al&&11>=Al),vv=" ",wv=!1;function lE(t,e){switch(t){case"keyup":return BA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ys=!1;function $A(t,e){switch(t){case"compositionend":return uE(e);case"keypress":return e.which!==32?null:(wv=!0,vv);case"textInput":return t=e.data,t===vv&&wv?null:t;default:return null}}function HA(t,e){if(Ys)return t==="compositionend"||!Um&&lE(t,e)?(t=sE(),Hc=Mm=eo=null,Ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aE&&e.locale!=="ko"?null:e.data;default:return null}}var qA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qA[t.type]:e==="textarea"}function cE(t,e,n,r){B0(r),e=gd(e,"onChange"),0<e.length&&(n=new Vm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Pl=null,Kl=null;function WA(t){EE(t,0)}function oh(t){var e=Zs(t);if(D0(e))return t}function KA(t,e){if(t==="change")return e}var dE=!1;if(bi){var yf;if(bi){var vf="oninput"in document;if(!vf){var Ev=document.createElement("div");Ev.setAttribute("oninput","return;"),vf=typeof Ev.oninput=="function"}yf=vf}else yf=!1;dE=yf&&(!document.documentMode||9<document.documentMode)}function Tv(){Pl&&(Pl.detachEvent("onpropertychange",hE),Kl=Pl=null)}function hE(t){if(t.propertyName==="value"&&oh(Kl)){var e=[];cE(e,Kl,t,xm(t)),q0(WA,e)}}function GA(t,e,n){t==="focusin"?(Tv(),Pl=e,Kl=n,Pl.attachEvent("onpropertychange",hE)):t==="focusout"&&Tv()}function QA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oh(Kl)}function YA(t,e){if(t==="click")return oh(e)}function XA(t,e){if(t==="input"||t==="change")return oh(e)}function JA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:JA;function Gl(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tp.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function Iv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sv(t,e){var n=Iv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Iv(n)}}function fE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?fE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pE(){for(var t=window,e=ud();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=ud(t.document)}return e}function jm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ZA(t){var e=pE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&fE(n.ownerDocument.documentElement,n)){if(r!==null&&jm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Sv(n,o);var s=Sv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var e2=bi&&"documentMode"in document&&11>=document.documentMode,Xs=null,_p=null,Rl=null,Ep=!1;function bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ep||Xs==null||Xs!==ud(r)||(r=Xs,"selectionStart"in r&&jm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Gl(Rl,r)||(Rl=r,r=gd(_p,"onSelect"),0<r.length&&(e=new Vm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Xs)))}function Ic(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Js={animationend:Ic("Animation","AnimationEnd"),animationiteration:Ic("Animation","AnimationIteration"),animationstart:Ic("Animation","AnimationStart"),transitionend:Ic("Transition","TransitionEnd")},wf={},mE={};bi&&(mE=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function sh(t){if(wf[t])return wf[t];if(!Js[t])return t;var e=Js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mE)return wf[t]=e[n];return t}var gE=sh("animationend"),yE=sh("animationiteration"),vE=sh("animationstart"),wE=sh("transitionend"),_E=new Map,Cv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _o(t,e){_E.set(t,e),Es(e,[t])}for(var _f=0;_f<Cv.length;_f++){var Ef=Cv[_f],t2=Ef.toLowerCase(),n2=Ef[0].toUpperCase()+Ef.slice(1);_o(t2,"on"+n2)}_o(gE,"onAnimationEnd");_o(yE,"onAnimationIteration");_o(vE,"onAnimationStart");_o("dblclick","onDoubleClick");_o("focusin","onFocus");_o("focusout","onBlur");_o(wE,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r2=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function Av(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,tA(r,e,void 0,t),t.currentTarget=null}function EE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,d=l.currentTarget;if(l=l.listener,u!==o&&i.isPropagationStopped())break e;Av(i,l,d),o=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,d=l.currentTarget,l=l.listener,u!==o&&i.isPropagationStopped())break e;Av(i,l,d),o=u}}}if(dd)throw t=gp,dd=!1,gp=null,t}function et(t,e){var n=e[Cp];n===void 0&&(n=e[Cp]=new Set);var r=t+"__bubble";n.has(r)||(TE(e,t,2,!1),n.add(r))}function Tf(t,e,n){var r=0;e&&(r|=4),TE(n,t,r,e)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[Sc]){t[Sc]=!0,R0.forEach(function(n){n!=="selectionchange"&&(r2.has(n)||Tf(n,!1,t),Tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Sc]||(e[Sc]=!0,Tf("selectionchange",!1,e))}}function TE(t,e,n,r){switch(oE(e)){case 1:var i=yA;break;case 4:i=vA;break;default:i=Lm}n=i.bind(null,e,n,t),i=void 0,!mp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function If(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;l!==null;){if(s=qo(l),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}l=l.parentNode}}r=r.return}q0(function(){var d=o,p=xm(n),y=[];e:{var w=_E.get(t);if(w!==void 0){var C=Vm,x=t;switch(t){case"keypress":if(qc(n)===0)break e;case"keydown":case"keyup":C=NA;break;case"focusin":x="focus",C=gf;break;case"focusout":x="blur",C=gf;break;case"beforeblur":case"afterblur":C=gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=mv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=EA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=MA;break;case gE:case yE:case vE:C=SA;break;case wE:C=FA;break;case"scroll":C=wA;break;case"wheel":C=jA;break;case"copy":case"cut":case"paste":C=CA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=yv}var O=(e&4)!==0,V=!O&&t==="scroll",b=O?w!==null?w+"Capture":null:w;O=[];for(var T=d,P;T!==null;){P=T;var B=P.stateNode;if(P.tag===5&&B!==null&&(P=B,b!==null&&(B=$l(T,b),B!=null&&O.push(Yl(T,B,P)))),V)break;T=T.return}0<O.length&&(w=new C(w,x,null,n,p),y.push({event:w,listeners:O}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",C=t==="mouseout"||t==="pointerout",w&&n!==fp&&(x=n.relatedTarget||n.fromElement)&&(qo(x)||x[Ci]))break e;if((C||w)&&(w=p.window===p?p:(w=p.ownerDocument)?w.defaultView||w.parentWindow:window,C?(x=n.relatedTarget||n.toElement,C=d,x=x?qo(x):null,x!==null&&(V=Ts(x),x!==V||x.tag!==5&&x.tag!==6)&&(x=null)):(C=null,x=d),C!==x)){if(O=mv,B="onMouseLeave",b="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(O=yv,B="onPointerLeave",b="onPointerEnter",T="pointer"),V=C==null?w:Zs(C),P=x==null?w:Zs(x),w=new O(B,T+"leave",C,n,p),w.target=V,w.relatedTarget=P,B=null,qo(p)===d&&(O=new O(b,T+"enter",x,n,p),O.target=P,O.relatedTarget=V,B=O),V=B,C&&x)t:{for(O=C,b=x,T=0,P=O;P;P=js(P))T++;for(P=0,B=b;B;B=js(B))P++;for(;0<T-P;)O=js(O),T--;for(;0<P-T;)b=js(b),P--;for(;T--;){if(O===b||b!==null&&O===b.alternate)break t;O=js(O),b=js(b)}O=null}else O=null;C!==null&&Pv(y,w,C,O,!1),x!==null&&V!==null&&Pv(y,V,x,O,!0)}}e:{if(w=d?Zs(d):window,C=w.nodeName&&w.nodeName.toLowerCase(),C==="select"||C==="input"&&w.type==="file")var G=KA;else if(_v(w))if(dE)G=XA;else{G=QA;var L=GA}else(C=w.nodeName)&&C.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(G=YA);if(G&&(G=G(t,d))){cE(y,G,n,p);break e}L&&L(t,w,d),t==="focusout"&&(L=w._wrapperState)&&L.controlled&&w.type==="number"&&lp(w,"number",w.value)}switch(L=d?Zs(d):window,t){case"focusin":(_v(L)||L.contentEditable==="true")&&(Xs=L,_p=d,Rl=null);break;case"focusout":Rl=_p=Xs=null;break;case"mousedown":Ep=!0;break;case"contextmenu":case"mouseup":case"dragend":Ep=!1,bv(y,n,p);break;case"selectionchange":if(e2)break;case"keydown":case"keyup":bv(y,n,p)}var S;if(Um)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Ys?lE(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(aE&&n.locale!=="ko"&&(Ys||E!=="onCompositionStart"?E==="onCompositionEnd"&&Ys&&(S=sE()):(eo=p,Mm="value"in eo?eo.value:eo.textContent,Ys=!0)),L=gd(d,E),0<L.length&&(E=new gv(E,t,null,n,p),y.push({event:E,listeners:L}),S?E.data=S:(S=uE(n),S!==null&&(E.data=S)))),(S=zA?$A(t,n):HA(t,n))&&(d=gd(d,"onBeforeInput"),0<d.length&&(p=new gv("onBeforeInput","beforeinput",null,n,p),y.push({event:p,listeners:d}),p.data=S))}EE(y,e)})}function Yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function gd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=$l(t,n),o!=null&&r.unshift(Yl(t,o,i)),o=$l(t,e),o!=null&&r.push(Yl(t,o,i))),t=t.return}return r}function js(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,d=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&d!==null&&(l=d,i?(u=$l(n,o),u!=null&&s.unshift(Yl(n,u,l))):i||(u=$l(n,o),u!=null&&s.push(Yl(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var i2=/\r\n?/g,o2=/\u0000|\uFFFD/g;function Rv(t){return(typeof t=="string"?t:""+t).replace(i2,`
`).replace(o2,"")}function bc(t,e,n){if(e=Rv(e),Rv(t)!==e&&n)throw Error(J(425))}function yd(){}var Tp=null,Ip=null;function Sp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,s2=typeof clearTimeout=="function"?clearTimeout:void 0,kv=typeof Promise=="function"?Promise:void 0,a2=typeof queueMicrotask=="function"?queueMicrotask:typeof kv<"u"?function(t){return kv.resolve(null).then(t).catch(l2)}:bp;function l2(t){setTimeout(function(){throw t})}function Sf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wl(e)}function ao(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fa=Math.random().toString(36).slice(2),Hr="__reactFiber$"+Fa,Xl="__reactProps$"+Fa,Ci="__reactContainer$"+Fa,Cp="__reactEvents$"+Fa,u2="__reactListeners$"+Fa,c2="__reactHandles$"+Fa;function qo(t){var e=t[Hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ci]||n[Hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xv(t);t!==null;){if(n=t[Hr])return n;t=xv(t)}return e}t=n,n=t.parentNode}return null}function bu(t){return t=t[Hr]||t[Ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function ah(t){return t[Xl]||null}var Ap=[],ea=-1;function Eo(t){return{current:t}}function nt(t){0>ea||(t.current=Ap[ea],Ap[ea]=null,ea--)}function Je(t,e){ea++,Ap[ea]=t.current,t.current=e}var go={},hn=Eo(go),Nn=Eo(!1),os=go;function Ea(t,e){var n=t.type.contextTypes;if(!n)return go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Dn(t){return t=t.childContextTypes,t!=null}function vd(){nt(Nn),nt(hn)}function Ov(t,e,n){if(hn.current!==go)throw Error(J(168));Je(hn,e),Je(Nn,n)}function IE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(J(108,GC(t)||"Unknown",i));return ht({},n,r)}function wd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||go,os=hn.current,Je(hn,t),Je(Nn,Nn.current),!0}function Nv(t,e,n){var r=t.stateNode;if(!r)throw Error(J(169));n?(t=IE(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,nt(Nn),nt(hn),Je(hn,t)):nt(Nn),Je(Nn,n)}var fi=null,lh=!1,bf=!1;function SE(t){fi===null?fi=[t]:fi.push(t)}function d2(t){lh=!0,SE(t)}function To(){if(!bf&&fi!==null){bf=!0;var t=0,e=We;try{var n=fi;for(We=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}fi=null,lh=!1}catch(i){throw fi!==null&&(fi=fi.slice(t+1)),Q0(Om,To),i}finally{We=e,bf=!1}}return null}var ta=[],na=0,_d=null,Ed=0,rr=[],ir=0,ss=null,mi=1,gi="";function Bo(t,e){ta[na++]=Ed,ta[na++]=_d,_d=t,Ed=e}function bE(t,e,n){rr[ir++]=mi,rr[ir++]=gi,rr[ir++]=ss,ss=t;var r=mi;t=gi;var i=32-Pr(r)-1;r&=~(1<<i),n+=1;var o=32-Pr(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,mi=1<<32-Pr(e)+i|n<<i|r,gi=o+t}else mi=1<<o|n<<i|r,gi=t}function Bm(t){t.return!==null&&(Bo(t,1),bE(t,1,0))}function zm(t){for(;t===_d;)_d=ta[--na],ta[na]=null,Ed=ta[--na],ta[na]=null;for(;t===ss;)ss=rr[--ir],rr[ir]=null,gi=rr[--ir],rr[ir]=null,mi=rr[--ir],rr[ir]=null}var Hn=null,zn=null,st=!1,br=null;function CE(t,e){var n=sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hn=t,zn=ao(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ss!==null?{id:mi,overflow:gi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Hn=t,zn=null,!0):!1;default:return!1}}function Pp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rp(t){if(st){var e=zn;if(e){var n=e;if(!Dv(t,e)){if(Pp(t))throw Error(J(418));e=ao(n.nextSibling);var r=Hn;e&&Dv(t,e)?CE(r,n):(t.flags=t.flags&-4097|2,st=!1,Hn=t)}}else{if(Pp(t))throw Error(J(418));t.flags=t.flags&-4097|2,st=!1,Hn=t}}}function Lv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hn=t}function Cc(t){if(t!==Hn)return!1;if(!st)return Lv(t),st=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sp(t.type,t.memoizedProps)),e&&(e=zn)){if(Pp(t))throw AE(),Error(J(418));for(;e;)CE(t,e),e=ao(e.nextSibling)}if(Lv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=ao(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Hn?ao(t.stateNode.nextSibling):null;return!0}function AE(){for(var t=zn;t;)t=ao(t.nextSibling)}function Ta(){zn=Hn=null,st=!1}function $m(t){br===null?br=[t]:br.push(t)}var h2=Di.ReactCurrentBatchConfig;function sl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(J(309));var r=n.stateNode}if(!r)throw Error(J(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var l=i.refs;s===null?delete l[o]:l[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(J(284));if(!n._owner)throw Error(J(290,t))}return t}function Ac(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mv(t){var e=t._init;return e(t._payload)}function PE(t){function e(b,T){if(t){var P=b.deletions;P===null?(b.deletions=[T],b.flags|=16):P.push(T)}}function n(b,T){if(!t)return null;for(;T!==null;)e(b,T),T=T.sibling;return null}function r(b,T){for(b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(b,T){return b=ho(b,T),b.index=0,b.sibling=null,b}function o(b,T,P){return b.index=P,t?(P=b.alternate,P!==null?(P=P.index,P<T?(b.flags|=2,T):P):(b.flags|=2,T)):(b.flags|=1048576,T)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function l(b,T,P,B){return T===null||T.tag!==6?(T=Of(P,b.mode,B),T.return=b,T):(T=i(T,P),T.return=b,T)}function u(b,T,P,B){var G=P.type;return G===Qs?p(b,T,P.props.children,B,P.key):T!==null&&(T.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Wi&&Mv(G)===T.type)?(B=i(T,P.props),B.ref=sl(b,T,P),B.return=b,B):(B=Jc(P.type,P.key,P.props,null,b.mode,B),B.ref=sl(b,T,P),B.return=b,B)}function d(b,T,P,B){return T===null||T.tag!==4||T.stateNode.containerInfo!==P.containerInfo||T.stateNode.implementation!==P.implementation?(T=Nf(P,b.mode,B),T.return=b,T):(T=i(T,P.children||[]),T.return=b,T)}function p(b,T,P,B,G){return T===null||T.tag!==7?(T=es(P,b.mode,B,G),T.return=b,T):(T=i(T,P),T.return=b,T)}function y(b,T,P){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Of(""+T,b.mode,P),T.return=b,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case gc:return P=Jc(T.type,T.key,T.props,null,b.mode,P),P.ref=sl(b,null,T),P.return=b,P;case Gs:return T=Nf(T,b.mode,P),T.return=b,T;case Wi:var B=T._init;return y(b,B(T._payload),P)}if(ml(T)||tl(T))return T=es(T,b.mode,P,null),T.return=b,T;Ac(b,T)}return null}function w(b,T,P,B){var G=T!==null?T.key:null;if(typeof P=="string"&&P!==""||typeof P=="number")return G!==null?null:l(b,T,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case gc:return P.key===G?u(b,T,P,B):null;case Gs:return P.key===G?d(b,T,P,B):null;case Wi:return G=P._init,w(b,T,G(P._payload),B)}if(ml(P)||tl(P))return G!==null?null:p(b,T,P,B,null);Ac(b,P)}return null}function C(b,T,P,B,G){if(typeof B=="string"&&B!==""||typeof B=="number")return b=b.get(P)||null,l(T,b,""+B,G);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case gc:return b=b.get(B.key===null?P:B.key)||null,u(T,b,B,G);case Gs:return b=b.get(B.key===null?P:B.key)||null,d(T,b,B,G);case Wi:var L=B._init;return C(b,T,P,L(B._payload),G)}if(ml(B)||tl(B))return b=b.get(P)||null,p(T,b,B,G,null);Ac(T,B)}return null}function x(b,T,P,B){for(var G=null,L=null,S=T,E=T=0,I=null;S!==null&&E<P.length;E++){S.index>E?(I=S,S=null):I=S.sibling;var R=w(b,S,P[E],B);if(R===null){S===null&&(S=I);break}t&&S&&R.alternate===null&&e(b,S),T=o(R,T,E),L===null?G=R:L.sibling=R,L=R,S=I}if(E===P.length)return n(b,S),st&&Bo(b,E),G;if(S===null){for(;E<P.length;E++)S=y(b,P[E],B),S!==null&&(T=o(S,T,E),L===null?G=S:L.sibling=S,L=S);return st&&Bo(b,E),G}for(S=r(b,S);E<P.length;E++)I=C(S,b,E,P[E],B),I!==null&&(t&&I.alternate!==null&&S.delete(I.key===null?E:I.key),T=o(I,T,E),L===null?G=I:L.sibling=I,L=I);return t&&S.forEach(function(D){return e(b,D)}),st&&Bo(b,E),G}function O(b,T,P,B){var G=tl(P);if(typeof G!="function")throw Error(J(150));if(P=G.call(P),P==null)throw Error(J(151));for(var L=G=null,S=T,E=T=0,I=null,R=P.next();S!==null&&!R.done;E++,R=P.next()){S.index>E?(I=S,S=null):I=S.sibling;var D=w(b,S,R.value,B);if(D===null){S===null&&(S=I);break}t&&S&&D.alternate===null&&e(b,S),T=o(D,T,E),L===null?G=D:L.sibling=D,L=D,S=I}if(R.done)return n(b,S),st&&Bo(b,E),G;if(S===null){for(;!R.done;E++,R=P.next())R=y(b,R.value,B),R!==null&&(T=o(R,T,E),L===null?G=R:L.sibling=R,L=R);return st&&Bo(b,E),G}for(S=r(b,S);!R.done;E++,R=P.next())R=C(S,b,E,R.value,B),R!==null&&(t&&R.alternate!==null&&S.delete(R.key===null?E:R.key),T=o(R,T,E),L===null?G=R:L.sibling=R,L=R);return t&&S.forEach(function(F){return e(b,F)}),st&&Bo(b,E),G}function V(b,T,P,B){if(typeof P=="object"&&P!==null&&P.type===Qs&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case gc:e:{for(var G=P.key,L=T;L!==null;){if(L.key===G){if(G=P.type,G===Qs){if(L.tag===7){n(b,L.sibling),T=i(L,P.props.children),T.return=b,b=T;break e}}else if(L.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Wi&&Mv(G)===L.type){n(b,L.sibling),T=i(L,P.props),T.ref=sl(b,L,P),T.return=b,b=T;break e}n(b,L);break}else e(b,L);L=L.sibling}P.type===Qs?(T=es(P.props.children,b.mode,B,P.key),T.return=b,b=T):(B=Jc(P.type,P.key,P.props,null,b.mode,B),B.ref=sl(b,T,P),B.return=b,b=B)}return s(b);case Gs:e:{for(L=P.key;T!==null;){if(T.key===L)if(T.tag===4&&T.stateNode.containerInfo===P.containerInfo&&T.stateNode.implementation===P.implementation){n(b,T.sibling),T=i(T,P.children||[]),T.return=b,b=T;break e}else{n(b,T);break}else e(b,T);T=T.sibling}T=Nf(P,b.mode,B),T.return=b,b=T}return s(b);case Wi:return L=P._init,V(b,T,L(P._payload),B)}if(ml(P))return x(b,T,P,B);if(tl(P))return O(b,T,P,B);Ac(b,P)}return typeof P=="string"&&P!==""||typeof P=="number"?(P=""+P,T!==null&&T.tag===6?(n(b,T.sibling),T=i(T,P),T.return=b,b=T):(n(b,T),T=Of(P,b.mode,B),T.return=b,b=T),s(b)):n(b,T)}return V}var Ia=PE(!0),RE=PE(!1),Td=Eo(null),Id=null,ra=null,Hm=null;function qm(){Hm=ra=Id=null}function Wm(t){var e=Td.current;nt(Td),t._currentValue=e}function kp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fa(t,e){Id=t,Hm=ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(On=!0),t.firstContext=null)}function lr(t){var e=t._currentValue;if(Hm!==t)if(t={context:t,memoizedValue:e,next:null},ra===null){if(Id===null)throw Error(J(308));ra=t,Id.dependencies={lanes:0,firstContext:t}}else ra=ra.next=t;return e}var Wo=null;function Km(t){Wo===null?Wo=[t]:Wo.push(t)}function kE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Km(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ai(t,r)}function Ai(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ki=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function xE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ei(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ai(t,n)}return i=r.interleaved,i===null?(e.next=e,Km(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ai(t,n)}function Wc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}function Vv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Sd(t,e,n,r){var i=t.updateQueue;Ki=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,d=u.next;u.next=null,s===null?o=d:s.next=d,s=u;var p=t.alternate;p!==null&&(p=p.updateQueue,l=p.lastBaseUpdate,l!==s&&(l===null?p.firstBaseUpdate=d:l.next=d,p.lastBaseUpdate=u))}if(o!==null){var y=i.baseState;s=0,p=d=u=null,l=o;do{var w=l.lane,C=l.eventTime;if((r&w)===w){p!==null&&(p=p.next={eventTime:C,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,O=l;switch(w=e,C=n,O.tag){case 1:if(x=O.payload,typeof x=="function"){y=x.call(C,y,w);break e}y=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=O.payload,w=typeof x=="function"?x.call(C,y,w):x,w==null)break e;y=ht({},y,w);break e;case 2:Ki=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,w=i.effects,w===null?i.effects=[l]:w.push(l))}else C={eventTime:C,lane:w,tag:l.tag,payload:l.payload,callback:l.callback,next:null},p===null?(d=p=C,u=y):p=p.next=C,s|=w;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;w=l,l=w.next,w.next=null,i.lastBaseUpdate=w,i.shared.pending=null}}while(!0);if(p===null&&(u=y),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);ls|=s,t.lanes=s,t.memoizedState=y}}function Fv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(J(191,i));i.call(r)}}}var Cu={},Kr=Eo(Cu),Jl=Eo(Cu),Zl=Eo(Cu);function Ko(t){if(t===Cu)throw Error(J(174));return t}function Qm(t,e){switch(Je(Zl,e),Je(Jl,t),Je(Kr,Cu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:cp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=cp(e,t)}nt(Kr),Je(Kr,e)}function Sa(){nt(Kr),nt(Jl),nt(Zl)}function OE(t){Ko(Zl.current);var e=Ko(Kr.current),n=cp(e,t.type);e!==n&&(Je(Jl,t),Je(Kr,n))}function Ym(t){Jl.current===t&&(nt(Kr),nt(Jl))}var ct=Eo(0);function bd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cf=[];function Xm(){for(var t=0;t<Cf.length;t++)Cf[t]._workInProgressVersionPrimary=null;Cf.length=0}var Kc=Di.ReactCurrentDispatcher,Af=Di.ReactCurrentBatchConfig,as=0,dt=null,Lt=null,qt=null,Cd=!1,kl=!1,eu=0,f2=0;function on(){throw Error(J(321))}function Jm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function Zm(t,e,n,r,i,o){if(as=o,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Kc.current=t===null||t.memoizedState===null?y2:v2,t=n(r,i),kl){o=0;do{if(kl=!1,eu=0,25<=o)throw Error(J(301));o+=1,qt=Lt=null,e.updateQueue=null,Kc.current=w2,t=n(r,i)}while(kl)}if(Kc.current=Ad,e=Lt!==null&&Lt.next!==null,as=0,qt=Lt=dt=null,Cd=!1,e)throw Error(J(300));return t}function eg(){var t=eu!==0;return eu=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?dt.memoizedState=qt=t:qt=qt.next=t,qt}function ur(){if(Lt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Lt.next;var e=qt===null?dt.memoizedState:qt.next;if(e!==null)qt=e,Lt=t;else{if(t===null)throw Error(J(310));Lt=t,t={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},qt===null?dt.memoizedState=qt=t:qt=qt.next=t}return qt}function tu(t,e){return typeof e=="function"?e(t):e}function Pf(t){var e=ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=Lt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var l=s=null,u=null,d=o;do{var p=d.lane;if((as&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var y={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(l=u=y,s=r):u=u.next=y,dt.lanes|=p,ls|=p}d=d.next}while(d!==null&&d!==o);u===null?s=r:u.next=l,xr(r,e.memoizedState)||(On=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,dt.lanes|=o,ls|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rf(t){var e=ur(),n=e.queue;if(n===null)throw Error(J(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);xr(o,e.memoizedState)||(On=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NE(){}function DE(t,e){var n=dt,r=ur(),i=e(),o=!xr(r.memoizedState,i);if(o&&(r.memoizedState=i,On=!0),r=r.queue,tg(VE.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,nu(9,ME.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(J(349));as&30||LE(n,e,i)}return i}function LE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ME(t,e,n,r){e.value=n,e.getSnapshot=r,FE(e)&&UE(t)}function VE(t,e,n){return n(function(){FE(e)&&UE(t)})}function FE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function UE(t){var e=Ai(t,1);e!==null&&Rr(e,t,1,-1)}function Uv(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=g2.bind(null,dt,t),[e.memoizedState,t]}function nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jE(){return ur().memoizedState}function Gc(t,e,n,r){var i=$r();dt.flags|=t,i.memoizedState=nu(1|e,n,void 0,r===void 0?null:r)}function uh(t,e,n,r){var i=ur();r=r===void 0?null:r;var o=void 0;if(Lt!==null){var s=Lt.memoizedState;if(o=s.destroy,r!==null&&Jm(r,s.deps)){i.memoizedState=nu(e,n,o,r);return}}dt.flags|=t,i.memoizedState=nu(1|e,n,o,r)}function jv(t,e){return Gc(8390656,8,t,e)}function tg(t,e){return uh(2048,8,t,e)}function BE(t,e){return uh(4,2,t,e)}function zE(t,e){return uh(4,4,t,e)}function $E(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function HE(t,e,n){return n=n!=null?n.concat([t]):null,uh(4,4,$E.bind(null,e,t),n)}function ng(){}function qE(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WE(t,e){var n=ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function KE(t,e,n){return as&21?(xr(n,e)||(n=J0(),dt.lanes|=n,ls|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,On=!0),t.memoizedState=n)}function p2(t,e){var n=We;We=n!==0&&4>n?n:4,t(!0);var r=Af.transition;Af.transition={};try{t(!1),e()}finally{We=n,Af.transition=r}}function GE(){return ur().memoizedState}function m2(t,e,n){var r=co(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QE(t))YE(e,n);else if(n=kE(t,e,n,r),n!==null){var i=En();Rr(n,t,r,i),XE(n,e,r)}}function g2(t,e,n){var r=co(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QE(t))YE(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,l=o(s,n);if(i.hasEagerState=!0,i.eagerState=l,xr(l,s)){var u=e.interleaved;u===null?(i.next=i,Km(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=kE(t,e,i,r),n!==null&&(i=En(),Rr(n,t,r,i),XE(n,e,r))}}function QE(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function YE(t,e){kl=Cd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Nm(t,n)}}var Ad={readContext:lr,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useInsertionEffect:on,useLayoutEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useMutableSource:on,useSyncExternalStore:on,useId:on,unstable_isNewReconciler:!1},y2={readContext:lr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:lr,useEffect:jv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gc(4194308,4,$E.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gc(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=m2.bind(null,dt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:Uv,useDebugValue:ng,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=Uv(!1),e=t[0];return t=p2.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=dt,i=$r();if(st){if(n===void 0)throw Error(J(407));n=n()}else{if(n=e(),Wt===null)throw Error(J(349));as&30||LE(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,jv(VE.bind(null,r,o,t),[t]),r.flags|=2048,nu(9,ME.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$r(),e=Wt.identifierPrefix;if(st){var n=gi,r=mi;n=(r&~(1<<32-Pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=eu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=f2++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},v2={readContext:lr,useCallback:qE,useContext:lr,useEffect:tg,useImperativeHandle:HE,useInsertionEffect:BE,useLayoutEffect:zE,useMemo:WE,useReducer:Pf,useRef:jE,useState:function(){return Pf(tu)},useDebugValue:ng,useDeferredValue:function(t){var e=ur();return KE(e,Lt.memoizedState,t)},useTransition:function(){var t=Pf(tu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1},w2={readContext:lr,useCallback:qE,useContext:lr,useEffect:tg,useImperativeHandle:HE,useInsertionEffect:BE,useLayoutEffect:zE,useMemo:WE,useReducer:Rf,useRef:jE,useState:function(){return Rf(tu)},useDebugValue:ng,useDeferredValue:function(t){var e=ur();return Lt===null?e.memoizedState=t:KE(e,Lt.memoizedState,t)},useTransition:function(){var t=Rf(tu)[0],e=ur().memoizedState;return[t,e]},useMutableSource:NE,useSyncExternalStore:DE,useId:GE,unstable_isNewReconciler:!1};function Tr(t,e){if(t&&t.defaultProps){e=ht({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ht({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ch={isMounted:function(t){return(t=t._reactInternals)?Ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=En(),i=co(t),o=Ei(r,i);o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,i),e!==null&&(Rr(e,t,i,r),Wc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=En(),i=co(t),o=Ei(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=lo(t,o,i),e!==null&&(Rr(e,t,i,r),Wc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=En(),r=co(t),i=Ei(n,r);i.tag=2,e!=null&&(i.callback=e),e=lo(t,i,r),e!==null&&(Rr(e,t,r,n),Wc(e,t,r))}};function Bv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(i,o):!0}function JE(t,e,n){var r=!1,i=go,o=e.contextType;return typeof o=="object"&&o!==null?o=lr(o):(i=Dn(e)?os:hn.current,r=e.contextTypes,o=(r=r!=null)?Ea(t,i):go),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ch,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function zv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ch.enqueueReplaceState(e,e.state,null)}function Op(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=lr(o):(o=Dn(e)?os:hn.current,i.context=Ea(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xp(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ch.enqueueReplaceState(i,i.state,null),Sd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ba(t,e){try{var n="",r=e;do n+=KC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function kf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Np(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _2=typeof WeakMap=="function"?WeakMap:Map;function ZE(t,e,n){n=Ei(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Rd||(Rd=!0,$p=r),Np(t,e)},n}function e1(t,e,n){n=Ei(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Np(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Np(t,e),typeof r!="function"&&(uo===null?uo=new Set([this]):uo.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function $v(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new _2;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=D2.bind(null,t,e,n),e.then(t,t))}function Hv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function qv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ei(-1,1),e.tag=2,lo(n,e,1))),n.lanes|=1),t)}var E2=Di.ReactCurrentOwner,On=!1;function _n(t,e,n,r){e.child=t===null?RE(e,null,n,r):Ia(e,t.child,n,r)}function Wv(t,e,n,r,i){n=n.render;var o=e.ref;return fa(e,i),r=Zm(t,e,n,r,o,i),n=eg(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(st&&n&&Bm(e),e.flags|=1,_n(t,e,r,i),e.child)}function Kv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!cg(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,t1(t,e,o,r,i)):(t=Jc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(s,r)&&t.ref===e.ref)return Pi(t,e,i)}return e.flags|=1,t=ho(o,r),t.ref=e.ref,t.return=e,e.child=t}function t1(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Gl(o,r)&&t.ref===e.ref)if(On=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(On=!0);else return e.lanes=t.lanes,Pi(t,e,i)}return Dp(t,e,n,r,i)}function n1(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Je(oa,jn),jn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Je(oa,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Je(oa,jn),jn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Je(oa,jn),jn|=r;return _n(t,e,i,n),e.child}function r1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dp(t,e,n,r,i){var o=Dn(n)?os:hn.current;return o=Ea(e,o),fa(e,i),n=Zm(t,e,n,r,o,i),r=eg(),t!==null&&!On?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Pi(t,e,i)):(st&&r&&Bm(e),e.flags|=1,_n(t,e,n,i),e.child)}function Gv(t,e,n,r,i){if(Dn(n)){var o=!0;wd(e)}else o=!1;if(fa(e,i),e.stateNode===null)Qc(t,e),JE(e,n,r),Op(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,l=e.memoizedProps;s.props=l;var u=s.context,d=n.contextType;typeof d=="object"&&d!==null?d=lr(d):(d=Dn(n)?os:hn.current,d=Ea(e,d));var p=n.getDerivedStateFromProps,y=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function";y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==r||u!==d)&&zv(e,s,r,d),Ki=!1;var w=e.memoizedState;s.state=w,Sd(e,r,s,i),u=e.memoizedState,l!==r||w!==u||Nn.current||Ki?(typeof p=="function"&&(xp(e,n,p,r),u=e.memoizedState),(l=Ki||Bv(e,n,l,r,w,u,d))?(y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=d,r=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,xE(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Tr(e.type,l),s.props=d,y=e.pendingProps,w=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=lr(u):(u=Dn(n)?os:hn.current,u=Ea(e,u));var C=n.getDerivedStateFromProps;(p=typeof C=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==y||w!==u)&&zv(e,s,r,u),Ki=!1,w=e.memoizedState,s.state=w,Sd(e,r,s,i);var x=e.memoizedState;l!==y||w!==x||Nn.current||Ki?(typeof C=="function"&&(xp(e,n,C,r),x=e.memoizedState),(d=Ki||Bv(e,n,d,r,w,x,u)||!1)?(p||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,x,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,x,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=x),s.props=r,s.state=x,s.context=u,r=d):(typeof s.componentDidUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return Lp(t,e,n,r,o,i)}function Lp(t,e,n,r,i,o){r1(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&Nv(e,n,!1),Pi(t,e,o);r=e.stateNode,E2.current=e;var l=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ia(e,t.child,null,o),e.child=Ia(e,null,l,o)):_n(t,e,l,o),e.memoizedState=r.state,i&&Nv(e,n,!0),e.child}function i1(t){var e=t.stateNode;e.pendingContext?Ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ov(t,e.context,!1),Qm(t,e.containerInfo)}function Qv(t,e,n,r,i){return Ta(),$m(i),e.flags|=256,_n(t,e,n,r),e.child}var Mp={dehydrated:null,treeContext:null,retryLane:0};function Vp(t){return{baseLanes:t,cachePool:null,transitions:null}}function o1(t,e,n){var r=e.pendingProps,i=ct.current,o=!1,s=(e.flags&128)!==0,l;if((l=s)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Je(ct,i&1),t===null)return Rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fh(s,r,0,null),t=es(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Vp(n),e.memoizedState=Mp,t):rg(e,s));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return T2(t,e,s,r,l,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=ho(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?o=ho(l,o):(o=es(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Vp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Mp,r}return o=t.child,t=o.sibling,r=ho(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rg(t,e){return e=fh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pc(t,e,n,r){return r!==null&&$m(r),Ia(e,t.child,null,n),t=rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function T2(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=kf(Error(J(422))),Pc(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=fh({mode:"visible",children:r.children},i,0,null),o=es(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Ia(e,t.child,null,s),e.child.memoizedState=Vp(s),e.memoizedState=Mp,o);if(!(e.mode&1))return Pc(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(J(419)),r=kf(o,r,void 0),Pc(t,e,s,r)}if(l=(s&t.childLanes)!==0,On||l){if(r=Wt,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(t,i),Rr(r,t,i,-1))}return ug(),r=kf(Error(J(421))),Pc(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=L2.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,zn=ao(i.nextSibling),Hn=e,st=!0,br=null,t!==null&&(rr[ir++]=mi,rr[ir++]=gi,rr[ir++]=ss,mi=t.id,gi=t.overflow,ss=e),e=rg(e,r.children),e.flags|=4096,e)}function Yv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),kp(t.return,e,n)}function xf(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function s1(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(_n(t,e,r.children,n),r=ct.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yv(t,n,e);else if(t.tag===19)Yv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Je(ct,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&bd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xf(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xf(e,!0,n,null,o);break;case"together":xf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ls|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,n=ho(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ho(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I2(t,e,n){switch(e.tag){case 3:i1(e),Ta();break;case 5:OE(e);break;case 1:Dn(e.type)&&wd(e);break;case 4:Qm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Je(Td,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Je(ct,ct.current&1),e.flags|=128,null):n&e.child.childLanes?o1(t,e,n):(Je(ct,ct.current&1),t=Pi(t,e,n),t!==null?t.sibling:null);Je(ct,ct.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return s1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Je(ct,ct.current),r)break;return null;case 22:case 23:return e.lanes=0,n1(t,e,n)}return Pi(t,e,n)}var a1,Fp,l1,u1;a1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Fp=function(){};l1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ko(Kr.current);var o=null;switch(n){case"input":i=sp(t,i),r=sp(t,r),o=[];break;case"select":i=ht({},i,{value:void 0}),r=ht({},r,{value:void 0}),o=[];break;case"textarea":i=up(t,i),r=up(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=yd)}dp(n,r);var s;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var l=i[d];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bl.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var u=r[d];if(l=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==l&&(u!=null||l!=null))if(d==="style")if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(o=o||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&et("scroll",t),o||l===u||(o=[])):(o=o||[]).push(d,u))}n&&(o=o||[]).push("style",n);var d=o;(e.updateQueue=d)&&(e.flags|=4)}};u1=function(t,e,n,r){n!==r&&(e.flags|=4)};function al(t,e){if(!st)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function S2(t,e,n){var r=e.pendingProps;switch(zm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(e),null;case 1:return Dn(e.type)&&vd(),sn(e),null;case 3:return r=e.stateNode,Sa(),nt(Nn),nt(hn),Xm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,br!==null&&(Wp(br),br=null))),Fp(t,e),sn(e),null;case 5:Ym(e);var i=Ko(Zl.current);if(n=e.type,t!==null&&e.stateNode!=null)l1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(J(166));return sn(e),null}if(t=Ko(Kr.current),Cc(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Hr]=e,r[Xl]=o,t=(e.mode&1)!==0,n){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(i=0;i<yl.length;i++)et(yl[i],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":ov(r,o),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},et("invalid",r);break;case"textarea":av(r,o),et("invalid",r)}dp(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&bc(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&bc(r.textContent,l,t),i=["children",""+l]):Bl.hasOwnProperty(s)&&l!=null&&s==="onScroll"&&et("scroll",r)}switch(n){case"input":yc(r),sv(r,o,!0);break;case"textarea":yc(r),lv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=yd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Hr]=e,t[Xl]=r,a1(t,e,!1,!1),e.stateNode=t;e:{switch(s=hp(n,r),n){case"dialog":et("cancel",t),et("close",t),i=r;break;case"iframe":case"object":case"embed":et("load",t),i=r;break;case"video":case"audio":for(i=0;i<yl.length;i++)et(yl[i],t);i=r;break;case"source":et("error",t),i=r;break;case"img":case"image":case"link":et("error",t),et("load",t),i=r;break;case"details":et("toggle",t),i=r;break;case"input":ov(t,r),i=sp(t,r),et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ht({},r,{value:void 0}),et("invalid",t);break;case"textarea":av(t,r),i=up(t,r),et("invalid",t);break;default:i=r}dp(n,i),l=i;for(o in l)if(l.hasOwnProperty(o)){var u=l[o];o==="style"?j0(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&F0(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&zl(t,u):typeof u=="number"&&zl(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bl.hasOwnProperty(o)?u!=null&&o==="onScroll"&&et("scroll",t):u!=null&&Am(t,o,u,s))}switch(n){case"input":yc(t),sv(t,r,!1);break;case"textarea":yc(t),lv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+mo(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?ua(t,!!r.multiple,o,!1):r.defaultValue!=null&&ua(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return sn(e),null;case 6:if(t&&e.stateNode!=null)u1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(J(166));if(n=Ko(Zl.current),Ko(Kr.current),Cc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hr]=e,(o=r.nodeValue!==n)&&(t=Hn,t!==null))switch(t.tag){case 3:bc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bc(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hr]=e,e.stateNode=r}return sn(e),null;case 13:if(nt(ct),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(st&&zn!==null&&e.mode&1&&!(e.flags&128))AE(),Ta(),e.flags|=98560,o=!1;else if(o=Cc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(J(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(J(317));o[Hr]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;sn(e),o=!1}else br!==null&&(Wp(br),br=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Mt===0&&(Mt=3):ug())),e.updateQueue!==null&&(e.flags|=4),sn(e),null);case 4:return Sa(),Fp(t,e),t===null&&Ql(e.stateNode.containerInfo),sn(e),null;case 10:return Wm(e.type._context),sn(e),null;case 17:return Dn(e.type)&&vd(),sn(e),null;case 19:if(nt(ct),o=e.memoizedState,o===null)return sn(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)al(o,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=bd(t),s!==null){for(e.flags|=128,al(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Je(ct,ct.current&1|2),e.child}t=t.sibling}o.tail!==null&&Tt()>Ca&&(e.flags|=128,r=!0,al(o,!1),e.lanes=4194304)}else{if(!r)if(t=bd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),al(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!st)return sn(e),null}else 2*Tt()-o.renderingStartTime>Ca&&n!==1073741824&&(e.flags|=128,r=!0,al(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Tt(),e.sibling=null,n=ct.current,Je(ct,r?n&1|2:n&1),e):(sn(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jn&1073741824&&(sn(e),e.subtreeFlags&6&&(e.flags|=8192)):sn(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function b2(t,e){switch(zm(e),e.tag){case 1:return Dn(e.type)&&vd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sa(),nt(Nn),nt(hn),Xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(nt(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return nt(ct),null;case 4:return Sa(),null;case 10:return Wm(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var Rc=!1,un=!1,C2=typeof WeakSet=="function"?WeakSet:Set,oe=null;function ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function Up(t,e,n){try{n()}catch(r){vt(t,e,r)}}var Xv=!1;function A2(t,e){if(Tp=pd,t=pE(),jm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,d=0,p=0,y=t,w=null;t:for(;;){for(var C;y!==n||i!==0&&y.nodeType!==3||(l=s+i),y!==o||r!==0&&y.nodeType!==3||(u=s+r),y.nodeType===3&&(s+=y.nodeValue.length),(C=y.firstChild)!==null;)w=y,y=C;for(;;){if(y===t)break t;if(w===n&&++d===i&&(l=s),w===o&&++p===r&&(u=s),(C=y.nextSibling)!==null)break;y=w,w=y.parentNode}y=C}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:t,selectionRange:n},pd=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var O=x.memoizedProps,V=x.memoizedState,b=e.stateNode,T=b.getSnapshotBeforeUpdate(e.elementType===e.type?O:Tr(e.type,O),V);b.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var P=e.stateNode.containerInfo;P.nodeType===1?P.textContent="":P.nodeType===9&&P.documentElement&&P.removeChild(P.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(B){vt(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return x=Xv,Xv=!1,x}function xl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Up(e,n,o)}i=i.next}while(i!==r)}}function dh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function c1(t){var e=t.alternate;e!==null&&(t.alternate=null,c1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hr],delete e[Xl],delete e[Cp],delete e[u2],delete e[c2])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function d1(t){return t.tag===5||t.tag===3||t.tag===4}function Jv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||d1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=yd));else if(r!==4&&(t=t.child,t!==null))for(Bp(t,e,n),t=t.sibling;t!==null;)Bp(t,e,n),t=t.sibling}function zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(zp(t,e,n),t=t.sibling;t!==null;)zp(t,e,n),t=t.sibling}var Kt=null,Ir=!1;function zi(t,e,n){for(n=n.child;n!==null;)h1(t,e,n),n=n.sibling}function h1(t,e,n){if(Wr&&typeof Wr.onCommitFiberUnmount=="function")try{Wr.onCommitFiberUnmount(rh,n)}catch{}switch(n.tag){case 5:un||ia(n,e);case 6:var r=Kt,i=Ir;Kt=null,zi(t,e,n),Kt=r,Ir=i,Kt!==null&&(Ir?(t=Kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Kt.removeChild(n.stateNode));break;case 18:Kt!==null&&(Ir?(t=Kt,n=n.stateNode,t.nodeType===8?Sf(t.parentNode,n):t.nodeType===1&&Sf(t,n),Wl(t)):Sf(Kt,n.stateNode));break;case 4:r=Kt,i=Ir,Kt=n.stateNode.containerInfo,Ir=!0,zi(t,e,n),Kt=r,Ir=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Up(n,e,s),i=i.next}while(i!==r)}zi(t,e,n);break;case 1:if(!un&&(ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){vt(n,e,l)}zi(t,e,n);break;case 21:zi(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,zi(t,e,n),un=r):zi(t,e,n);break;default:zi(t,e,n)}}function Zv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new C2),e.forEach(function(r){var i=M2.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 5:Kt=l.stateNode,Ir=!1;break e;case 3:Kt=l.stateNode.containerInfo,Ir=!0;break e;case 4:Kt=l.stateNode.containerInfo,Ir=!0;break e}l=l.return}if(Kt===null)throw Error(J(160));h1(o,s,i),Kt=null,Ir=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){vt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)f1(e,t),e=e.sibling}function f1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),zr(t),r&4){try{xl(3,t,t.return),dh(3,t)}catch(O){vt(t,t.return,O)}try{xl(5,t,t.return)}catch(O){vt(t,t.return,O)}}break;case 1:Er(e,t),zr(t),r&512&&n!==null&&ia(n,n.return);break;case 5:if(Er(e,t),zr(t),r&512&&n!==null&&ia(n,n.return),t.flags&32){var i=t.stateNode;try{zl(i,"")}catch(O){vt(t,t.return,O)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&L0(i,o),hp(l,s);var d=hp(l,o);for(s=0;s<u.length;s+=2){var p=u[s],y=u[s+1];p==="style"?j0(i,y):p==="dangerouslySetInnerHTML"?F0(i,y):p==="children"?zl(i,y):Am(i,p,y,d)}switch(l){case"input":ap(i,o);break;case"textarea":M0(i,o);break;case"select":var w=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var C=o.value;C!=null?ua(i,!!o.multiple,C,!1):w!==!!o.multiple&&(o.defaultValue!=null?ua(i,!!o.multiple,o.defaultValue,!0):ua(i,!!o.multiple,o.multiple?[]:"",!1))}i[Xl]=o}catch(O){vt(t,t.return,O)}}break;case 6:if(Er(e,t),zr(t),r&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(O){vt(t,t.return,O)}}break;case 3:if(Er(e,t),zr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(O){vt(t,t.return,O)}break;case 4:Er(e,t),zr(t);break;case 13:Er(e,t),zr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sg=Tt())),r&4&&Zv(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(un=(d=un)||p,Er(e,t),un=d):Er(e,t),zr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(oe=t,p=t.child;p!==null;){for(y=oe=p;oe!==null;){switch(w=oe,C=w.child,w.tag){case 0:case 11:case 14:case 15:xl(4,w,w.return);break;case 1:ia(w,w.return);var x=w.stateNode;if(typeof x.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(O){vt(r,n,O)}}break;case 5:ia(w,w.return);break;case 22:if(w.memoizedState!==null){tw(y);continue}}C!==null?(C.return=w,oe=C):tw(y)}p=p.sibling}e:for(p=null,y=t;;){if(y.tag===5){if(p===null){p=y;try{i=y.stateNode,d?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=y.stateNode,u=y.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=U0("display",s))}catch(O){vt(t,t.return,O)}}}else if(y.tag===6){if(p===null)try{y.stateNode.nodeValue=d?"":y.memoizedProps}catch(O){vt(t,t.return,O)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===t)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===t)break e;for(;y.sibling===null;){if(y.return===null||y.return===t)break e;p===y&&(p=null),y=y.return}p===y&&(p=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Er(e,t),zr(t),r&4&&Zv(t);break;case 21:break;default:Er(e,t),zr(t)}}function zr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(d1(n)){var r=n;break e}n=n.return}throw Error(J(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(zl(i,""),r.flags&=-33);var o=Jv(t);zp(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,l=Jv(t);Bp(t,l,s);break;default:throw Error(J(161))}}catch(u){vt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function P2(t,e,n){oe=t,p1(t)}function p1(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Rc;if(!s){var l=i.alternate,u=l!==null&&l.memoizedState!==null||un;l=Rc;var d=un;if(Rc=s,(un=u)&&!d)for(oe=i;oe!==null;)s=oe,u=s.child,s.tag===22&&s.memoizedState!==null?nw(i):u!==null?(u.return=s,oe=u):nw(i);for(;o!==null;)oe=o,p1(o),o=o.sibling;oe=i,Rc=l,un=d}ew(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,oe=o):ew(t)}}function ew(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||dh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Tr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Fv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fv(e,s,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var y=p.dehydrated;y!==null&&Wl(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}un||e.flags&512&&jp(e)}catch(w){vt(e,e.return,w)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function tw(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function nw(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{dh(4,e)}catch(u){vt(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){vt(e,i,u)}}var o=e.return;try{jp(e)}catch(u){vt(e,o,u)}break;case 5:var s=e.return;try{jp(e)}catch(u){vt(e,s,u)}}}catch(u){vt(e,e.return,u)}if(e===t){oe=null;break}var l=e.sibling;if(l!==null){l.return=e.return,oe=l;break}oe=e.return}}var R2=Math.ceil,Pd=Di.ReactCurrentDispatcher,ig=Di.ReactCurrentOwner,ar=Di.ReactCurrentBatchConfig,Ve=0,Wt=null,At=null,Xt=0,jn=0,oa=Eo(0),Mt=0,ru=null,ls=0,hh=0,og=0,Ol=null,xn=null,sg=0,Ca=1/0,hi=null,Rd=!1,$p=null,uo=null,kc=!1,to=null,kd=0,Nl=0,Hp=null,Yc=-1,Xc=0;function En(){return Ve&6?Tt():Yc!==-1?Yc:Yc=Tt()}function co(t){return t.mode&1?Ve&2&&Xt!==0?Xt&-Xt:h2.transition!==null?(Xc===0&&(Xc=J0()),Xc):(t=We,t!==0||(t=window.event,t=t===void 0?16:oE(t.type)),t):1}function Rr(t,e,n,r){if(50<Nl)throw Nl=0,Hp=null,Error(J(185));Iu(t,n,r),(!(Ve&2)||t!==Wt)&&(t===Wt&&(!(Ve&2)&&(hh|=n),Mt===4&&Qi(t,Xt)),Ln(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Ca=Tt()+500,lh&&To()))}function Ln(t,e){var n=t.callbackNode;hA(t,e);var r=fd(t,t===Wt?Xt:0);if(r===0)n!==null&&dv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dv(n),e===1)t.tag===0?d2(rw.bind(null,t)):SE(rw.bind(null,t)),a2(function(){!(Ve&6)&&To()}),n=null;else{switch(Z0(r)){case 1:n=Om;break;case 4:n=Y0;break;case 16:n=hd;break;case 536870912:n=X0;break;default:n=hd}n=T1(n,m1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function m1(t,e){if(Yc=-1,Xc=0,Ve&6)throw Error(J(327));var n=t.callbackNode;if(pa()&&t.callbackNode!==n)return null;var r=fd(t,t===Wt?Xt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xd(t,r);else{e=r;var i=Ve;Ve|=2;var o=y1();(Wt!==t||Xt!==e)&&(hi=null,Ca=Tt()+500,Zo(t,e));do try{O2();break}catch(l){g1(t,l)}while(!0);qm(),Pd.current=o,Ve=i,At!==null?e=0:(Wt=null,Xt=0,e=Mt)}if(e!==0){if(e===2&&(i=yp(t),i!==0&&(r=i,e=qp(t,i))),e===1)throw n=ru,Zo(t,0),Qi(t,r),Ln(t,Tt()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!k2(i)&&(e=xd(t,r),e===2&&(o=yp(t),o!==0&&(r=o,e=qp(t,o))),e===1))throw n=ru,Zo(t,0),Qi(t,r),Ln(t,Tt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(J(345));case 2:zo(t,xn,hi);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=sg+500-Tt(),10<e)){if(fd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){En(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=bp(zo.bind(null,t,xn,hi),e);break}zo(t,xn,hi);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Pr(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Tt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*R2(r/1960))-r,10<r){t.timeoutHandle=bp(zo.bind(null,t,xn,hi),r);break}zo(t,xn,hi);break;case 5:zo(t,xn,hi);break;default:throw Error(J(329))}}}return Ln(t,Tt()),t.callbackNode===n?m1.bind(null,t):null}function qp(t,e){var n=Ol;return t.current.memoizedState.isDehydrated&&(Zo(t,e).flags|=256),t=xd(t,e),t!==2&&(e=xn,xn=n,e!==null&&Wp(e)),t}function Wp(t){xn===null?xn=t:xn.push.apply(xn,t)}function k2(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!xr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~og,e&=~hh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Pr(e),r=1<<n;t[n]=-1,e&=~r}}function rw(t){if(Ve&6)throw Error(J(327));pa();var e=fd(t,0);if(!(e&1))return Ln(t,Tt()),null;var n=xd(t,e);if(t.tag!==0&&n===2){var r=yp(t);r!==0&&(e=r,n=qp(t,r))}if(n===1)throw n=ru,Zo(t,0),Qi(t,e),Ln(t,Tt()),n;if(n===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zo(t,xn,hi),Ln(t,Tt()),null}function ag(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Ca=Tt()+500,lh&&To())}}function us(t){to!==null&&to.tag===0&&!(Ve&6)&&pa();var e=Ve;Ve|=1;var n=ar.transition,r=We;try{if(ar.transition=null,We=1,t)return t()}finally{We=r,ar.transition=n,Ve=e,!(Ve&6)&&To()}}function lg(){jn=oa.current,nt(oa)}function Zo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,s2(n)),At!==null)for(n=At.return;n!==null;){var r=n;switch(zm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vd();break;case 3:Sa(),nt(Nn),nt(hn),Xm();break;case 5:Ym(r);break;case 4:Sa();break;case 13:nt(ct);break;case 19:nt(ct);break;case 10:Wm(r.type._context);break;case 22:case 23:lg()}n=n.return}if(Wt=t,At=t=ho(t.current,null),Xt=jn=e,Mt=0,ru=null,og=hh=ls=0,xn=Ol=null,Wo!==null){for(e=0;e<Wo.length;e++)if(n=Wo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Wo=null}return t}function g1(t,e){do{var n=At;try{if(qm(),Kc.current=Ad,Cd){for(var r=dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Cd=!1}if(as=0,qt=Lt=dt=null,kl=!1,eu=0,ig.current=null,n===null||n.return===null){Mt=1,ru=e,At=null;break}e:{var o=t,s=n.return,l=n,u=e;if(e=Xt,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=l,y=p.tag;if(!(p.mode&1)&&(y===0||y===11||y===15)){var w=p.alternate;w?(p.updateQueue=w.updateQueue,p.memoizedState=w.memoizedState,p.lanes=w.lanes):(p.updateQueue=null,p.memoizedState=null)}var C=Hv(s);if(C!==null){C.flags&=-257,qv(C,s,l,o,e),C.mode&1&&$v(o,d,e),e=C,u=d;var x=e.updateQueue;if(x===null){var O=new Set;O.add(u),e.updateQueue=O}else x.add(u);break e}else{if(!(e&1)){$v(o,d,e),ug();break e}u=Error(J(426))}}else if(st&&l.mode&1){var V=Hv(s);if(V!==null){!(V.flags&65536)&&(V.flags|=256),qv(V,s,l,o,e),$m(ba(u,l));break e}}o=u=ba(u,l),Mt!==4&&(Mt=2),Ol===null?Ol=[o]:Ol.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=ZE(o,u,e);Vv(o,b);break e;case 1:l=u;var T=o.type,P=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(uo===null||!uo.has(P)))){o.flags|=65536,e&=-e,o.lanes|=e;var B=e1(o,l,e);Vv(o,B);break e}}o=o.return}while(o!==null)}w1(n)}catch(G){e=G,At===n&&n!==null&&(At=n=n.return);continue}break}while(!0)}function y1(){var t=Pd.current;return Pd.current=Ad,t===null?Ad:t}function ug(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),Wt===null||!(ls&268435455)&&!(hh&268435455)||Qi(Wt,Xt)}function xd(t,e){var n=Ve;Ve|=2;var r=y1();(Wt!==t||Xt!==e)&&(hi=null,Zo(t,e));do try{x2();break}catch(i){g1(t,i)}while(!0);if(qm(),Ve=n,Pd.current=r,At!==null)throw Error(J(261));return Wt=null,Xt=0,Mt}function x2(){for(;At!==null;)v1(At)}function O2(){for(;At!==null&&!rA();)v1(At)}function v1(t){var e=E1(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?w1(t):At=e,ig.current=null}function w1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b2(n,e),n!==null){n.flags&=32767,At=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,At=null;return}}else if(n=S2(n,e,jn),n!==null){At=n;return}if(e=e.sibling,e!==null){At=e;return}At=e=t}while(e!==null);Mt===0&&(Mt=5)}function zo(t,e,n){var r=We,i=ar.transition;try{ar.transition=null,We=1,N2(t,e,n,r)}finally{ar.transition=i,We=r}return null}function N2(t,e,n,r){do pa();while(to!==null);if(Ve&6)throw Error(J(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(fA(t,o),t===Wt&&(At=Wt=null,Xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kc||(kc=!0,T1(hd,function(){return pa(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ar.transition,ar.transition=null;var s=We;We=1;var l=Ve;Ve|=4,ig.current=null,A2(t,n),f1(n,t),ZA(Ip),pd=!!Tp,Ip=Tp=null,t.current=n,P2(n),iA(),Ve=l,We=s,ar.transition=o}else t.current=n;if(kc&&(kc=!1,to=t,kd=i),o=t.pendingLanes,o===0&&(uo=null),aA(n.stateNode),Ln(t,Tt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Rd)throw Rd=!1,t=$p,$p=null,t;return kd&1&&t.tag!==0&&pa(),o=t.pendingLanes,o&1?t===Hp?Nl++:(Nl=0,Hp=t):Nl=0,To(),null}function pa(){if(to!==null){var t=Z0(kd),e=ar.transition,n=We;try{if(ar.transition=null,We=16>t?16:t,to===null)var r=!1;else{if(t=to,to=null,kd=0,Ve&6)throw Error(J(331));var i=Ve;for(Ve|=4,oe=t.current;oe!==null;){var o=oe,s=o.child;if(oe.flags&16){var l=o.deletions;if(l!==null){for(var u=0;u<l.length;u++){var d=l[u];for(oe=d;oe!==null;){var p=oe;switch(p.tag){case 0:case 11:case 15:xl(8,p,o)}var y=p.child;if(y!==null)y.return=p,oe=y;else for(;oe!==null;){p=oe;var w=p.sibling,C=p.return;if(c1(p),p===d){oe=null;break}if(w!==null){w.return=C,oe=w;break}oe=C}}}var x=o.alternate;if(x!==null){var O=x.child;if(O!==null){x.child=null;do{var V=O.sibling;O.sibling=null,O=V}while(O!==null)}}oe=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,oe=s;else e:for(;oe!==null;){if(o=oe,o.flags&2048)switch(o.tag){case 0:case 11:case 15:xl(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,oe=b;break e}oe=o.return}}var T=t.current;for(oe=T;oe!==null;){s=oe;var P=s.child;if(s.subtreeFlags&2064&&P!==null)P.return=s,oe=P;else e:for(s=T;oe!==null;){if(l=oe,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:dh(9,l)}}catch(G){vt(l,l.return,G)}if(l===s){oe=null;break e}var B=l.sibling;if(B!==null){B.return=l.return,oe=B;break e}oe=l.return}}if(Ve=i,To(),Wr&&typeof Wr.onPostCommitFiberRoot=="function")try{Wr.onPostCommitFiberRoot(rh,t)}catch{}r=!0}return r}finally{We=n,ar.transition=e}}return!1}function iw(t,e,n){e=ba(n,e),e=ZE(t,e,1),t=lo(t,e,1),e=En(),t!==null&&(Iu(t,1,e),Ln(t,e))}function vt(t,e,n){if(t.tag===3)iw(t,t,n);else for(;e!==null;){if(e.tag===3){iw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(uo===null||!uo.has(r))){t=ba(n,t),t=e1(e,t,1),e=lo(e,t,1),t=En(),e!==null&&(Iu(e,1,t),Ln(e,t));break}}e=e.return}}function D2(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=En(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Xt&n)===n&&(Mt===4||Mt===3&&(Xt&130023424)===Xt&&500>Tt()-sg?Zo(t,0):og|=n),Ln(t,e)}function _1(t,e){e===0&&(t.mode&1?(e=_c,_c<<=1,!(_c&130023424)&&(_c=4194304)):e=1);var n=En();t=Ai(t,e),t!==null&&(Iu(t,e,n),Ln(t,n))}function L2(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_1(t,n)}function M2(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(J(314))}r!==null&&r.delete(e),_1(t,n)}var E1;E1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)On=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return On=!1,I2(t,e,n);On=!!(t.flags&131072)}else On=!1,st&&e.flags&1048576&&bE(e,Ed,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Qc(t,e),t=e.pendingProps;var i=Ea(e,hn.current);fa(e,n),i=Zm(null,e,r,t,i,n);var o=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Dn(r)?(o=!0,wd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=ch,e.stateNode=i,i._reactInternals=e,Op(e,r,t,n),e=Lp(null,e,r,!0,o,n)):(e.tag=0,st&&o&&Bm(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Qc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=F2(r),t=Tr(r,t),i){case 0:e=Dp(null,e,r,t,n);break e;case 1:e=Gv(null,e,r,t,n);break e;case 11:e=Wv(null,e,r,t,n);break e;case 14:e=Kv(null,e,r,Tr(r.type,t),n);break e}throw Error(J(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Gv(t,e,r,i,n);case 3:e:{if(i1(e),t===null)throw Error(J(387));r=e.pendingProps,o=e.memoizedState,i=o.element,xE(t,e),Sd(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=ba(Error(J(423)),e),e=Qv(t,e,r,n,i);break e}else if(r!==i){i=ba(Error(J(424)),e),e=Qv(t,e,r,n,i);break e}else for(zn=ao(e.stateNode.containerInfo.firstChild),Hn=e,st=!0,br=null,n=RE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ta(),r===i){e=Pi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return OE(e),t===null&&Rp(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Sp(r,i)?s=null:o!==null&&Sp(r,o)&&(e.flags|=32),r1(t,e),_n(t,e,s,n),e.child;case 6:return t===null&&Rp(e),null;case 13:return o1(t,e,n);case 4:return Qm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ia(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Wv(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Je(Td,r._currentValue),r._currentValue=s,o!==null)if(xr(o.value,s)){if(o.children===i.children&&!Nn.current){e=Pi(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){s=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Ei(-1,n&-n),u.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),kp(o.return,n,e),l.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(J(341));s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),kp(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fa(e,n),i=lr(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=Tr(r,e.pendingProps),i=Tr(r.type,i),Kv(t,e,r,i,n);case 15:return t1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Tr(r,i),Qc(t,e),e.tag=1,Dn(r)?(t=!0,wd(e)):t=!1,fa(e,n),JE(e,r,i),Op(e,r,i,n),Lp(null,e,r,!0,t,n);case 19:return s1(t,e,n);case 22:return n1(t,e,n)}throw Error(J(156,e.tag))};function T1(t,e){return Q0(t,e)}function V2(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(t,e,n,r){return new V2(t,e,n,r)}function cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F2(t){if(typeof t=="function")return cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Rm)return 11;if(t===km)return 14}return 2}function ho(t,e){var n=t.alternate;return n===null?(n=sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Jc(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")cg(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Qs:return es(n.children,i,o,e);case Pm:s=8,i|=8;break;case np:return t=sr(12,n,e,i|2),t.elementType=np,t.lanes=o,t;case rp:return t=sr(13,n,e,i),t.elementType=rp,t.lanes=o,t;case ip:return t=sr(19,n,e,i),t.elementType=ip,t.lanes=o,t;case O0:return fh(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k0:s=10;break e;case x0:s=9;break e;case Rm:s=11;break e;case km:s=14;break e;case Wi:s=16,r=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=sr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function es(t,e,n,r){return t=sr(7,t,r,e),t.lanes=n,t}function fh(t,e,n,r){return t=sr(22,t,r,e),t.elementType=O0,t.lanes=n,t.stateNode={isHidden:!1},t}function Of(t,e,n){return t=sr(6,t,null,e),t.lanes=n,t}function Nf(t,e,n){return e=sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function U2(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dg(t,e,n,r,i,o,s,l,u){return t=new U2(t,e,n,l,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=sr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(o),t}function j2(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function I1(t){if(!t)return go;t=t._reactInternals;e:{if(Ts(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var n=t.type;if(Dn(n))return IE(t,n,e)}return e}function S1(t,e,n,r,i,o,s,l,u){return t=dg(n,r,!0,t,i,o,s,l,u),t.context=I1(null),n=t.current,r=En(),i=co(n),o=Ei(r,i),o.callback=e??null,lo(n,o,i),t.current.lanes=i,Iu(t,i,r),Ln(t,r),t}function ph(t,e,n,r){var i=e.current,o=En(),s=co(i);return n=I1(n),e.context===null?e.context=n:e.pendingContext=n,e=Ei(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=lo(i,e,s),t!==null&&(Rr(t,i,s,o),Wc(t,i,s)),s}function Od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ow(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function hg(t,e){ow(t,e),(t=t.alternate)&&ow(t,e)}function B2(){return null}var b1=typeof reportError=="function"?reportError:function(t){console.error(t)};function fg(t){this._internalRoot=t}mh.prototype.render=fg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));ph(t,e,null,null)};mh.prototype.unmount=fg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;us(function(){ph(null,t,null,null)}),e[Ci]=null}};function mh(t){this._internalRoot=t}mh.prototype.unstable_scheduleHydration=function(t){if(t){var e=nE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&iE(t)}};function pg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sw(){}function z2(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var d=Od(s);o.call(d)}}var s=S1(e,r,t,0,null,!1,!1,"",sw);return t._reactRootContainer=s,t[Ci]=s.current,Ql(t.nodeType===8?t.parentNode:t),us(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var d=Od(u);l.call(d)}}var u=dg(t,0,!1,null,null,!1,!1,"",sw);return t._reactRootContainer=u,t[Ci]=u.current,Ql(t.nodeType===8?t.parentNode:t),us(function(){ph(e,u,n,r)}),u}function yh(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var l=i;i=function(){var u=Od(s);l.call(u)}}ph(e,s,t,i)}else s=z2(n,e,t,i,r);return Od(s)}eE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gl(e.pendingLanes);n!==0&&(Nm(e,n|1),Ln(e,Tt()),!(Ve&6)&&(Ca=Tt()+500,To()))}break;case 13:us(function(){var r=Ai(t,1);if(r!==null){var i=En();Rr(r,t,1,i)}}),hg(t,1)}};Dm=function(t){if(t.tag===13){var e=Ai(t,134217728);if(e!==null){var n=En();Rr(e,t,134217728,n)}hg(t,134217728)}};tE=function(t){if(t.tag===13){var e=co(t),n=Ai(t,e);if(n!==null){var r=En();Rr(n,t,e,r)}hg(t,e)}};nE=function(){return We};rE=function(t,e){var n=We;try{return We=t,e()}finally{We=n}};pp=function(t,e,n){switch(e){case"input":if(ap(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ah(r);if(!i)throw Error(J(90));D0(r),ap(r,i)}}}break;case"textarea":M0(t,n);break;case"select":e=n.value,e!=null&&ua(t,!!n.multiple,e,!1)}};$0=ag;H0=us;var $2={usingClientEntryPoint:!1,Events:[bu,Zs,ah,B0,z0,ag]},ll={findFiberByHostInstance:qo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},H2={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Di.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K0(t),t===null?null:t.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||B2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{rh=xc.inject(H2),Wr=xc}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$2;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pg(e))throw Error(J(200));return j2(t,e,null,n)};Kn.createRoot=function(t,e){if(!pg(t))throw Error(J(299));var n=!1,r="",i=b1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dg(t,1,!1,null,null,n,!1,r,i),t[Ci]=e.current,Ql(t.nodeType===8?t.parentNode:t),new fg(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=K0(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return us(t)};Kn.hydrate=function(t,e,n){if(!gh(e))throw Error(J(200));return yh(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!pg(t))throw Error(J(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=b1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=S1(e,null,t,1,n??null,i,!1,o,s),t[Ci]=e.current,Ql(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new mh(e)};Kn.render=function(t,e,n){if(!gh(e))throw Error(J(200));return yh(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!gh(t))throw Error(J(40));return t._reactRootContainer?(us(function(){yh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ci]=null})}),!0):!1};Kn.unstable_batchedUpdates=ag;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!gh(n))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return yh(t,e,n,!1,r)};Kn.version="18.3.1-next-f1338f8080-20240426";function C1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(C1)}catch(t){console.error(t)}}C1(),C0.exports=Kn;var mg=C0.exports;const q2=th(mg),W2=p0({__proto__:null,default:q2},[mg]);var aw=mg;ep.createRoot=aw.createRoot,ep.hydrateRoot=aw.hydrateRoot;/**
 * @remix-run/router v1.18.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ot(){return ot=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ot.apply(this,arguments)}var bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bt||(bt={}));const lw="popstate";function K2(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:l}=r.location;return iu("",{pathname:o,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cs(i)}return Q2(e,n,null,t)}function Se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Aa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function G2(){return Math.random().toString(36).substr(2,8)}function uw(t,e){return{usr:t.state,key:t.key,idx:e}}function iu(t,e,n,r){return n===void 0&&(n=null),ot({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Io(e):e,{state:n,key:e&&e.key||r||G2()})}function cs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Io(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Q2(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,l=bt.Pop,u=null,d=p();d==null&&(d=0,s.replaceState(ot({},s.state,{idx:d}),""));function p(){return(s.state||{idx:null}).idx}function y(){l=bt.Pop;let V=p(),b=V==null?null:V-d;d=V,u&&u({action:l,location:O.location,delta:b})}function w(V,b){l=bt.Push;let T=iu(O.location,V,b);d=p()+1;let P=uw(T,d),B=O.createHref(T);try{s.pushState(P,"",B)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;i.location.assign(B)}o&&u&&u({action:l,location:O.location,delta:1})}function C(V,b){l=bt.Replace;let T=iu(O.location,V,b);d=p();let P=uw(T,d),B=O.createHref(T);s.replaceState(P,"",B),o&&u&&u({action:l,location:O.location,delta:0})}function x(V){let b=i.location.origin!=="null"?i.location.origin:i.location.href,T=typeof V=="string"?V:cs(V);return T=T.replace(/ $/,"%20"),Se(b,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,b)}let O={get action(){return l},get location(){return t(i,s)},listen(V){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(lw,y),u=V,()=>{i.removeEventListener(lw,y),u=null}},createHref(V){return e(i,V)},createURL:x,encodeLocation(V){let b=x(V);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:w,replace:C,go(V){return s.go(V)}};return O}var Xe;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xe||(Xe={}));const Y2=new Set(["lazy","caseSensitive","path","id","index","children"]);function X2(t){return t.index===!0}function ou(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],l=typeof i.id=="string"?i.id:s.join("-");if(Se(i.index!==!0||!i.children,"Cannot specify children on an index route"),Se(!r[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),X2(i)){let u=ot({},i,e(i),{id:l});return r[l]=u,u}else{let u=ot({},i,e(i),{id:l,children:void 0});return r[l]=u,i.children&&(u.children=ou(i.children,e,s,r)),u}})}function Ho(t,e,n){return n===void 0&&(n="/"),Zc(t,e,n,!1)}function Zc(t,e,n,r){let i=typeof e=="string"?Io(e):e,o=Ua(i.pathname||"/",n);if(o==null)return null;let s=A1(t);Z2(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let d=cP(o);l=lP(s[u],d,r)}return l}function J2(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function A1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,l)=>{let u={relativePath:l===void 0?o.path||"":l,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(Se(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Ti([r,u.relativePath]),p=n.concat(u);o.children&&o.children.length>0&&(Se(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),A1(o.children,e,p,d)),!(o.path==null&&!o.index)&&e.push({path:d,score:sP(d,o.index),routesMeta:p})};return t.forEach((o,s)=>{var l;if(o.path===""||!((l=o.path)!=null&&l.includes("?")))i(o,s);else for(let u of P1(o.path))i(o,s,u)}),e}function P1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=P1(r.join("/")),l=[];return l.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Z2(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:aP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const eP=/^:[\w-]+$/,tP=3,nP=2,rP=1,iP=10,oP=-2,cw=t=>t==="*";function sP(t,e){let n=t.split("/"),r=n.length;return n.some(cw)&&(r+=oP),e&&(r+=nP),n.filter(i=>!cw(i)).reduce((i,o)=>i+(eP.test(o)?tP:o===""?rP:iP),r)}function aP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function lP(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],d=l===r.length-1,p=o==="/"?e:e.slice(o.length)||"/",y=dw({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),w=u.route;if(!y&&d&&n&&!r[r.length-1].route.index&&(y=dw({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!y)return null;Object.assign(i,y.params),s.push({params:i,pathname:Ti([o,y.pathname]),pathnameBase:fP(Ti([o,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(o=Ti([o,y.pathnameBase]))}return s}function dw(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=uP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((d,p,y)=>{let{paramName:w,isOptional:C}=p;if(w==="*"){let O=l[y]||"";s=o.slice(0,o.length-O.length).replace(/(.)\/+$/,"$1")}const x=l[y];return C&&!x?d[w]=void 0:d[w]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:s,pattern:t}}function uP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Aa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function cP(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Aa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ua(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function dP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Io(t):t;return{pathname:n?n.startsWith("/")?n:hP(n,e):e,search:pP(r),hash:mP(i)}}function hP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Df(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R1(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function gg(t,e){let n=R1(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function yg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Io(t):(i=ot({},t),Se(!i.pathname||!i.pathname.includes("?"),Df("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),Df("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),Df("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,l;if(s==null)l=n;else{let y=e.length-1;if(!r&&s.startsWith("..")){let w=s.split("/");for(;w[0]==="..";)w.shift(),y-=1;i.pathname=w.join("/")}l=y>=0?e[y]:"/"}let u=dP(i,l),d=s&&s!=="/"&&s.endsWith("/"),p=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),fP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),pP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,mP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gP=function(e,n){n===void 0&&(n=302);let r=n;typeof r=="number"?r={status:r}:typeof r.status>"u"&&(r.status=302);let i=new Headers(r.headers);return i.set("Location",e),new Response(null,ot({},r,{headers:i}))};class vg{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function vh(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const k1=["post","put","patch","delete"],yP=new Set(k1),vP=["get",...k1],wP=new Set(vP),_P=new Set([301,302,303,307,308]),EP=new Set([307,308]),Lf={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TP={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ul={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},wg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IP=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),x1="remix-router-transitions";function SP(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Se(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=M=>({hasErrorBoundary:N(M)})}else i=IP;let o={},s=ou(t.routes,i,void 0,o),l,u=t.basename||"/",d=t.unstable_dataStrategy||RP,p=t.unstable_patchRoutesOnMiss,y=ot({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),w=null,C=new Set,x=null,O=null,V=null,b=t.hydrationData!=null,T=Ho(s,t.history.location,u),P=null;if(T==null&&!p){let N=wn(404,{pathname:t.history.location.pathname}),{matches:M,route:z}=Ew(s);T=M,P={[z.id]:N}}T&&p&&!t.hydrationData&&Jn(T,s,t.history.location.pathname).active&&(T=null);let B;if(!T)B=!1,T=[];else if(T.some(N=>N.route.lazy))B=!1;else if(!T.some(N=>N.route.loader))B=!0;else if(y.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,M=t.hydrationData?t.hydrationData.errors:null,z=q=>q.route.loader?typeof q.route.loader=="function"&&q.route.loader.hydrate===!0?!1:N&&N[q.route.id]!==void 0||M&&M[q.route.id]!==void 0:!0;if(M){let q=T.findIndex(ne=>M[ne.route.id]!==void 0);B=T.slice(0,q+1).every(z)}else B=T.every(z)}else B=t.hydrationData!=null;let G,L={historyAction:t.history.action,location:t.history.location,matches:T,initialized:B,navigation:Lf,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||P,fetchers:new Map,blockers:new Map},S=bt.Pop,E=!1,I,R=!1,D=new Map,F=null,k=!1,Fe=!1,tn=[],Ke=[],xe=new Map,re=0,Z=-1,pe=new Map,Re=new Set,be=new Map,He=new Map,$=new Set,Rt=new Map,mt=new Map,Sn=new Map,ti=!1;function Ft(){if(w=t.history.listen(N=>{let{action:M,location:z,delta:q}=N;if(ti){ti=!1;return}Aa(mt.size===0||q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ne=li({currentLocation:L.location,nextLocation:z,historyAction:M});if(ne&&q!=null){ti=!0,t.history.go(q*-1),gr(ne,{state:"blocked",location:z,proceed(){gr(ne,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),t.history.go(q)},reset(){let ae=new Map(L.blockers);ae.set(ne,ul),wt({blockers:ae})}});return}return nn(M,z)}),n){zP(e,D);let N=()=>$P(e,D);e.addEventListener("pagehide",N),F=()=>e.removeEventListener("pagehide",N)}return L.initialized||nn(bt.Pop,L.location,{initialHydration:!0}),G}function bn(){w&&w(),F&&F(),C.clear(),I&&I.abort(),L.fetchers.forEach((N,M)=>Cn(M)),L.blockers.forEach((N,M)=>Li(M))}function ni(N){return C.add(N),()=>C.delete(N)}function wt(N,M){M===void 0&&(M={}),L=ot({},L,N);let z=[],q=[];y.v7_fetcherPersist&&L.fetchers.forEach((ne,ae)=>{ne.state==="idle"&&($.has(ae)?q.push(ae):z.push(ae))}),[...C].forEach(ne=>ne(L,{deletedFetchers:q,unstable_viewTransitionOpts:M.viewTransitionOpts,unstable_flushSync:M.flushSync===!0})),y.v7_fetcherPersist&&(z.forEach(ne=>L.fetchers.delete(ne)),q.forEach(ne=>Cn(ne)))}function Fn(N,M,z){var q,ne;let{flushSync:ae}=z===void 0?{}:z,de=L.actionData!=null&&L.navigation.formMethod!=null&&Sr(L.navigation.formMethod)&&L.navigation.state==="loading"&&((q=N.state)==null?void 0:q._isRedirect)!==!0,Y;M.actionData?Object.keys(M.actionData).length>0?Y=M.actionData:Y=null:de?Y=L.actionData:Y=null;let ge=M.loaderData?ww(L.loaderData,M.loaderData,M.matches||[],M.errors):L.loaderData,ue=L.blockers;ue.size>0&&(ue=new Map(ue),ue.forEach((Ne,Me)=>ue.set(Me,ul)));let ce=E===!0||L.navigation.formMethod!=null&&Sr(L.navigation.formMethod)&&((ne=N.state)==null?void 0:ne._isRedirect)!==!0;l&&(s=l,l=void 0),k||S===bt.Pop||(S===bt.Push?t.history.push(N,N.state):S===bt.Replace&&t.history.replace(N,N.state));let Te;if(S===bt.Pop){let Ne=D.get(L.location.pathname);Ne&&Ne.has(N.pathname)?Te={currentLocation:L.location,nextLocation:N}:D.has(N.pathname)&&(Te={currentLocation:N,nextLocation:L.location})}else if(R){let Ne=D.get(L.location.pathname);Ne?Ne.add(N.pathname):(Ne=new Set([N.pathname]),D.set(L.location.pathname,Ne)),Te={currentLocation:L.location,nextLocation:N}}wt(ot({},M,{actionData:Y,loaderData:ge,historyAction:S,location:N,initialized:!0,navigation:Lf,revalidation:"idle",restoreScrollPosition:Lr(N,M.matches||L.matches),preventScrollReset:ce,blockers:ue}),{viewTransitionOpts:Te,flushSync:ae===!0}),S=bt.Pop,E=!1,R=!1,k=!1,Fe=!1,tn=[],Ke=[]}async function fr(N,M){if(typeof N=="number"){t.history.go(N);return}let z=Kp(L.location,L.matches,u,y.v7_prependBasename,N,y.v7_relativeSplatPath,M==null?void 0:M.fromRouteId,M==null?void 0:M.relative),{path:q,submission:ne,error:ae}=hw(y.v7_normalizeFormMethod,!1,z,M),de=L.location,Y=iu(L.location,q,M&&M.state);Y=ot({},Y,t.history.encodeLocation(Y));let ge=M&&M.replace!=null?M.replace:void 0,ue=bt.Push;ge===!0?ue=bt.Replace:ge===!1||ne!=null&&Sr(ne.formMethod)&&ne.formAction===L.location.pathname+L.location.search&&(ue=bt.Replace);let ce=M&&"preventScrollReset"in M?M.preventScrollReset===!0:void 0,Te=(M&&M.unstable_flushSync)===!0,Ne=li({currentLocation:de,nextLocation:Y,historyAction:ue});if(Ne){gr(Ne,{state:"blocked",location:Y,proceed(){gr(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:Y}),fr(N,M)},reset(){let Me=new Map(L.blockers);Me.set(Ne,ul),wt({blockers:Me})}});return}return await nn(ue,Y,{submission:ne,pendingError:ae,preventScrollReset:ce,replace:M&&M.replace,enableViewTransition:M&&M.unstable_viewTransition,flushSync:Te})}function ri(){if(at(),wt({revalidation:"loading"}),L.navigation.state!=="submitting"){if(L.navigation.state==="idle"){nn(L.historyAction,L.location,{startUninterruptedRevalidation:!0});return}nn(S||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation})}}async function nn(N,M,z){I&&I.abort(),I=null,S=N,k=(z&&z.startUninterruptedRevalidation)===!0,Ot(L.location,L.matches),E=(z&&z.preventScrollReset)===!0,R=(z&&z.enableViewTransition)===!0;let q=l||s,ne=z&&z.overrideNavigation,ae=Ho(q,M,u),de=(z&&z.flushSync)===!0,Y=Jn(ae,q,M.pathname);if(Y.active&&Y.matches&&(ae=Y.matches),!ae){let{error:Ae,notFoundMatches:ut,route:Be}=An(M.pathname);Fn(M,{matches:ut,loaderData:{},errors:{[Be.id]:Ae}},{flushSync:de});return}if(L.initialized&&!Fe&&LP(L.location,M)&&!(z&&z.submission&&Sr(z.submission.formMethod))){Fn(M,{matches:ae},{flushSync:de});return}I=new AbortController;let ge=Bs(t.history,M,I.signal,z&&z.submission),ue;if(z&&z.pendingError)ue=[sa(ae).route.id,{type:Xe.error,error:z.pendingError}];else if(z&&z.submission&&Sr(z.submission.formMethod)){let Ae=await Ro(ge,M,z.submission,ae,Y.active,{replace:z.replace,flushSync:de});if(Ae.shortCircuited)return;if(Ae.pendingActionResult){let[ut,Be]=Ae.pendingActionResult;if(Bn(Be)&&vh(Be.error)&&Be.error.status===404){I=null,Fn(M,{matches:Ae.matches,loaderData:{},errors:{[ut]:Be.error}});return}}ae=Ae.matches||ae,ue=Ae.pendingActionResult,ne=Mf(M,z.submission),de=!1,Y.active=!1,ge=Bs(t.history,ge.url,ge.signal)}let{shortCircuited:ce,matches:Te,loaderData:Ne,errors:Me}=await Ut(ge,M,ae,Y.active,ne,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,de,ue);ce||(I=null,Fn(M,ot({matches:Te||ae},_w(ue),{loaderData:Ne,errors:Me})))}async function Ro(N,M,z,q,ne,ae){ae===void 0&&(ae={}),at();let de=jP(M,z);if(wt({navigation:de},{flushSync:ae.flushSync===!0}),ne){let ue=await Mr(q,M.pathname,N.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let{boundaryId:ce,error:Te}=Dr(M.pathname,ue);return{matches:ue.partialMatches,pendingActionResult:[ce,{type:Xe.error,error:Te}]}}else if(ue.matches)q=ue.matches;else{let{notFoundMatches:ce,error:Te,route:Ne}=An(M.pathname);return{matches:ce,pendingActionResult:[Ne.id,{type:Xe.error,error:Te}]}}}let Y,ge=vl(q,M);if(!ge.route.action&&!ge.route.lazy)Y={type:Xe.error,error:wn(405,{method:N.method,pathname:M.pathname,routeId:ge.route.id})};else if(Y=(await Yn("action",N,[ge],q))[0],N.signal.aborted)return{shortCircuited:!0};if(Qo(Y)){let ue;return ae&&ae.replace!=null?ue=ae.replace:ue=gw(Y.response.headers.get("Location"),new URL(N.url),u)===L.location.pathname+L.location.search,await Qn(N,Y,{submission:z,replace:ue}),{shortCircuited:!0}}if(Go(Y))throw wn(400,{type:"defer-action"});if(Bn(Y)){let ue=sa(q,ge.route.id);return(ae&&ae.replace)!==!0&&(S=bt.Push),{matches:q,pendingActionResult:[ue.route.id,Y]}}return{matches:q,pendingActionResult:[ge.route.id,Y]}}async function Ut(N,M,z,q,ne,ae,de,Y,ge,ue,ce){let Te=ne||Mf(M,ae),Ne=ae||de||Sw(Te),Me=!k&&(!y.v7_partialHydration||!ge);if(q){if(Me){let Ge=pr(ce);wt(ot({navigation:Te},Ge!==void 0?{actionData:Ge}:{}),{flushSync:ue})}let ve=await Mr(z,M.pathname,N.signal);if(ve.type==="aborted")return{shortCircuited:!0};if(ve.type==="error"){let{boundaryId:Ge,error:zt}=Dr(M.pathname,ve);return{matches:ve.partialMatches,loaderData:{},errors:{[Ge]:zt}}}else if(ve.matches)z=ve.matches;else{let{error:Ge,notFoundMatches:zt,route:Ue}=An(M.pathname);return{matches:zt,loaderData:{},errors:{[Ue.id]:Ge}}}}let Ae=l||s,[ut,Be]=fw(t.history,L,z,Ne,M,y.v7_partialHydration&&ge===!0,y.v7_skipActionErrorRevalidation,Fe,tn,Ke,$,be,Re,Ae,u,ce);if(_t(ve=>!(z&&z.some(Ge=>Ge.route.id===ve))||ut&&ut.some(Ge=>Ge.route.id===ve)),Z=++re,ut.length===0&&Be.length===0){let ve=si();return Fn(M,ot({matches:z,loaderData:{},errors:ce&&Bn(ce[1])?{[ce[0]]:ce[1].error}:null},_w(ce),ve?{fetchers:new Map(L.fetchers)}:{}),{flushSync:ue}),{shortCircuited:!0}}if(Me){let ve={};if(!q){ve.navigation=Te;let Ge=pr(ce);Ge!==void 0&&(ve.actionData=Ge)}Be.length>0&&(ve.fetchers=kt(Be)),wt(ve,{flushSync:ue})}Be.forEach(ve=>{xe.has(ve.key)&&Bt(ve.key),ve.controller&&xe.set(ve.key,ve.controller)});let Vr=()=>Be.forEach(ve=>Bt(ve.key));I&&I.signal.addEventListener("abort",Vr);let{loaderResults:Zn,fetcherResults:Un}=await gt(L.matches,z,ut,Be,N);if(N.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Vr),Be.forEach(ve=>xe.delete(ve.key));let yr=Tw([...Zn,...Un]);if(yr){if(yr.idx>=ut.length){let ve=Be[yr.idx-ut.length].key;Re.add(ve)}return await Qn(N,yr.result,{replace:Y}),{shortCircuited:!0}}let{loaderData:er,errors:It}=vw(L,z,ut,Zn,ce,Be,Un,Rt);Rt.forEach((ve,Ge)=>{ve.subscribe(zt=>{(zt||ve.done)&&Rt.delete(Ge)})}),y.v7_partialHydration&&ge&&L.errors&&Object.entries(L.errors).filter(ve=>{let[Ge]=ve;return!ut.some(zt=>zt.route.id===Ge)}).forEach(ve=>{let[Ge,zt]=ve;It=Object.assign(It||{},{[Ge]:zt})});let Pn=si(),Fr=ai(Z),Rn=Pn||Fr||Be.length>0;return ot({matches:z,loaderData:er,errors:It},Rn?{fetchers:new Map(L.fetchers)}:{})}function pr(N){if(N&&!Bn(N[1]))return{[N[0]]:N[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function kt(N){return N.forEach(M=>{let z=L.fetchers.get(M.key),q=cl(void 0,z?z.data:void 0);L.fetchers.set(M.key,q)}),new Map(L.fetchers)}function Oe(N,M,z,q){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xe.has(N)&&Bt(N);let ne=(q&&q.unstable_flushSync)===!0,ae=l||s,de=Kp(L.location,L.matches,u,y.v7_prependBasename,z,y.v7_relativeSplatPath,M,q==null?void 0:q.relative),Y=Ho(ae,de,u),ge=Jn(Y,ae,de);if(ge.active&&ge.matches&&(Y=ge.matches),!Y){lt(N,M,wn(404,{pathname:de}),{flushSync:ne});return}let{path:ue,submission:ce,error:Te}=hw(y.v7_normalizeFormMethod,!0,de,q);if(Te){lt(N,M,Te,{flushSync:ne});return}let Ne=vl(Y,ue);if(E=(q&&q.preventScrollReset)===!0,ce&&Sr(ce.formMethod)){ii(N,M,ue,Ne,Y,ge.active,ne,ce);return}be.set(N,{routeId:M,path:ue}),ko(N,M,ue,Ne,Y,ge.active,ne,ce)}async function ii(N,M,z,q,ne,ae,de,Y){at(),be.delete(N);function ge(Ue){if(!Ue.route.action&&!Ue.route.lazy){let mn=wn(405,{method:Y.formMethod,pathname:z,routeId:M});return lt(N,M,mn,{flushSync:de}),!0}return!1}if(!ae&&ge(q))return;let ue=L.fetchers.get(N);jt(N,BP(Y,ue),{flushSync:de});let ce=new AbortController,Te=Bs(t.history,z,ce.signal,Y);if(ae){let Ue=await Mr(ne,z,Te.signal);if(Ue.type==="aborted")return;if(Ue.type==="error"){let{error:mn}=Dr(z,Ue);lt(N,M,mn,{flushSync:de});return}else if(Ue.matches){if(ne=Ue.matches,q=vl(ne,z),ge(q))return}else{lt(N,M,wn(404,{pathname:z}),{flushSync:de});return}}xe.set(N,ce);let Ne=re,Ae=(await Yn("action",Te,[q],ne))[0];if(Te.signal.aborted){xe.get(N)===ce&&xe.delete(N);return}if(y.v7_fetcherPersist&&$.has(N)){if(Qo(Ae)||Bn(Ae)){jt(N,qi(void 0));return}}else{if(Qo(Ae))if(xe.delete(N),Z>Ne){jt(N,qi(void 0));return}else return Re.add(N),jt(N,cl(Y)),Qn(Te,Ae,{fetcherSubmission:Y});if(Bn(Ae)){lt(N,M,Ae.error);return}}if(Go(Ae))throw wn(400,{type:"defer-action"});let ut=L.navigation.location||L.location,Be=Bs(t.history,ut,ce.signal),Vr=l||s,Zn=L.navigation.state!=="idle"?Ho(Vr,L.navigation.location,u):L.matches;Se(Zn,"Didn't find any matches after fetcher action");let Un=++re;pe.set(N,Un);let yr=cl(Y,Ae.data);L.fetchers.set(N,yr);let[er,It]=fw(t.history,L,Zn,Y,ut,!1,y.v7_skipActionErrorRevalidation,Fe,tn,Ke,$,be,Re,Vr,u,[q.route.id,Ae]);It.filter(Ue=>Ue.key!==N).forEach(Ue=>{let mn=Ue.key,No=L.fetchers.get(mn),Ps=cl(void 0,No?No.data:void 0);L.fetchers.set(mn,Ps),xe.has(mn)&&Bt(mn),Ue.controller&&xe.set(mn,Ue.controller)}),wt({fetchers:new Map(L.fetchers)});let Pn=()=>It.forEach(Ue=>Bt(Ue.key));ce.signal.addEventListener("abort",Pn);let{loaderResults:Fr,fetcherResults:Rn}=await gt(L.matches,Zn,er,It,Be);if(ce.signal.aborted)return;ce.signal.removeEventListener("abort",Pn),pe.delete(N),xe.delete(N),It.forEach(Ue=>xe.delete(Ue.key));let ve=Tw([...Fr,...Rn]);if(ve){if(ve.idx>=er.length){let Ue=It[ve.idx-er.length].key;Re.add(Ue)}return Qn(Be,ve.result)}let{loaderData:Ge,errors:zt}=vw(L,L.matches,er,Fr,void 0,It,Rn,Rt);if(L.fetchers.has(N)){let Ue=qi(Ae.data);L.fetchers.set(N,Ue)}ai(Un),L.navigation.state==="loading"&&Un>Z?(Se(S,"Expected pending action"),I&&I.abort(),Fn(L.navigation.location,{matches:Zn,loaderData:Ge,errors:zt,fetchers:new Map(L.fetchers)})):(wt({errors:zt,loaderData:ww(L.loaderData,Ge,Zn,zt),fetchers:new Map(L.fetchers)}),Fe=!1)}async function ko(N,M,z,q,ne,ae,de,Y){let ge=L.fetchers.get(N);jt(N,cl(Y,ge?ge.data:void 0),{flushSync:de});let ue=new AbortController,ce=Bs(t.history,z,ue.signal);if(ae){let Ae=await Mr(ne,z,ce.signal);if(Ae.type==="aborted")return;if(Ae.type==="error"){let{error:ut}=Dr(z,Ae);lt(N,M,ut,{flushSync:de});return}else if(Ae.matches)ne=Ae.matches,q=vl(ne,z);else{lt(N,M,wn(404,{pathname:z}),{flushSync:de});return}}xe.set(N,ue);let Te=re,Me=(await Yn("loader",ce,[q],ne))[0];if(Go(Me)&&(Me=await M1(Me,ce.signal,!0)||Me),xe.get(N)===ue&&xe.delete(N),!ce.signal.aborted){if($.has(N)){jt(N,qi(void 0));return}if(Qo(Me))if(Z>Te){jt(N,qi(void 0));return}else{Re.add(N),await Qn(ce,Me);return}if(Bn(Me)){lt(N,M,Me.error);return}Se(!Go(Me),"Unhandled fetcher deferred data"),jt(N,qi(Me.data))}}async function Qn(N,M,z){let{submission:q,fetcherSubmission:ne,replace:ae}=z===void 0?{}:z;M.response.headers.has("X-Remix-Revalidate")&&(Fe=!0);let de=M.response.headers.get("Location");Se(de,"Expected a Location header on the redirect Response"),de=gw(de,new URL(N.url),u);let Y=iu(L.location,de,{_isRedirect:!0});if(n){let Me=!1;if(M.response.headers.has("X-Remix-Reload-Document"))Me=!0;else if(wg.test(de)){const Ae=t.history.createURL(de);Me=Ae.origin!==e.location.origin||Ua(Ae.pathname,u)==null}if(Me){ae?e.location.replace(de):e.location.assign(de);return}}I=null;let ge=ae===!0?bt.Replace:bt.Push,{formMethod:ue,formAction:ce,formEncType:Te}=L.navigation;!q&&!ne&&ue&&ce&&Te&&(q=Sw(L.navigation));let Ne=q||ne;if(EP.has(M.response.status)&&Ne&&Sr(Ne.formMethod))await nn(ge,Y,{submission:ot({},Ne,{formAction:de}),preventScrollReset:E});else{let Me=Mf(Y,q);await nn(ge,Y,{overrideNavigation:Me,fetcherSubmission:ne,preventScrollReset:E})}}async function Yn(N,M,z,q){try{let ne=await kP(d,N,M,z,q,o,i);return await Promise.all(ne.map((ae,de)=>{if(VP(ae)){let Y=ae.result;return{type:Xe.redirect,response:NP(Y,M,z[de].route.id,q,u,y.v7_relativeSplatPath)}}return OP(ae)}))}catch(ne){return z.map(()=>({type:Xe.error,error:ne}))}}async function gt(N,M,z,q,ne){let[ae,...de]=await Promise.all([z.length?Yn("loader",ne,z,M):[],...q.map(Y=>{if(Y.matches&&Y.match&&Y.controller){let ge=Bs(t.history,Y.path,Y.controller.signal);return Yn("loader",ge,[Y.match],Y.matches).then(ue=>ue[0])}else return Promise.resolve({type:Xe.error,error:wn(404,{pathname:Y.path})})})]);return await Promise.all([Iw(N,z,ae,ae.map(()=>ne.signal),!1,L.loaderData),Iw(N,q.map(Y=>Y.match),de,q.map(Y=>Y.controller?Y.controller.signal:null),!0)]),{loaderResults:ae,fetcherResults:de}}function at(){Fe=!0,tn.push(..._t()),be.forEach((N,M)=>{xe.has(M)&&(Ke.push(M),Bt(M))})}function jt(N,M,z){z===void 0&&(z={}),L.fetchers.set(N,M),wt({fetchers:new Map(L.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function lt(N,M,z,q){q===void 0&&(q={});let ne=sa(L.matches,M);Cn(N),wt({errors:{[ne.route.id]:z},fetchers:new Map(L.fetchers)},{flushSync:(q&&q.flushSync)===!0})}function Xn(N){return y.v7_fetcherPersist&&(He.set(N,(He.get(N)||0)+1),$.has(N)&&$.delete(N)),L.fetchers.get(N)||TP}function Cn(N){let M=L.fetchers.get(N);xe.has(N)&&!(M&&M.state==="loading"&&pe.has(N))&&Bt(N),be.delete(N),pe.delete(N),Re.delete(N),$.delete(N),L.fetchers.delete(N)}function oi(N){if(y.v7_fetcherPersist){let M=(He.get(N)||0)-1;M<=0?(He.delete(N),$.add(N)):He.set(N,M)}else Cn(N);wt({fetchers:new Map(L.fetchers)})}function Bt(N){let M=xe.get(N);Se(M,"Expected fetch controller: "+N),M.abort(),xe.delete(N)}function mr(N){for(let M of N){let z=Xn(M),q=qi(z.data);L.fetchers.set(M,q)}}function si(){let N=[],M=!1;for(let z of Re){let q=L.fetchers.get(z);Se(q,"Expected fetcher: "+z),q.state==="loading"&&(Re.delete(z),N.push(z),M=!0)}return mr(N),M}function ai(N){let M=[];for(let[z,q]of pe)if(q<N){let ne=L.fetchers.get(z);Se(ne,"Expected fetcher: "+z),ne.state==="loading"&&(Bt(z),pe.delete(z),M.push(z))}return mr(M),M.length>0}function xo(N,M){let z=L.blockers.get(N)||ul;return mt.get(N)!==M&&mt.set(N,M),z}function Li(N){L.blockers.delete(N),mt.delete(N)}function gr(N,M){let z=L.blockers.get(N)||ul;Se(z.state==="unblocked"&&M.state==="blocked"||z.state==="blocked"&&M.state==="blocked"||z.state==="blocked"&&M.state==="proceeding"||z.state==="blocked"&&M.state==="unblocked"||z.state==="proceeding"&&M.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+M.state);let q=new Map(L.blockers);q.set(N,M),wt({blockers:q})}function li(N){let{currentLocation:M,nextLocation:z,historyAction:q}=N;if(mt.size===0)return;mt.size>1&&Aa(!1,"A router only supports one blocker at a time");let ne=Array.from(mt.entries()),[ae,de]=ne[ne.length-1],Y=L.blockers.get(ae);if(!(Y&&Y.state==="proceeding")&&de({currentLocation:M,nextLocation:z,historyAction:q}))return ae}function An(N){let M=wn(404,{pathname:N}),z=l||s,{matches:q,route:ne}=Ew(z);return _t(),{notFoundMatches:q,route:ne,error:M}}function Dr(N,M){return{boundaryId:sa(M.partialMatches).route.id,error:wn(400,{type:"route-discovery",pathname:N,message:M.error!=null&&"message"in M.error?M.error:String(M.error)})}}function _t(N){let M=[];return Rt.forEach((z,q)=>{(!N||N(q))&&(z.cancel(),M.push(q),Rt.delete(q))}),M}function xt(N,M,z){if(x=N,V=M,O=z||null,!b&&L.navigation===Lf){b=!0;let q=Lr(L.location,L.matches);q!=null&&wt({restoreScrollPosition:q})}return()=>{x=null,V=null,O=null}}function Oo(N,M){return O&&O(N,M.map(q=>J2(q,L.loaderData)))||N.key}function Ot(N,M){if(x&&V){let z=Oo(N,M);x[z]=V()}}function Lr(N,M){if(x){let z=Oo(N,M),q=x[z];if(typeof q=="number")return q}return null}function Jn(N,M,z){if(p)if(N){let q=N[N.length-1].route;if(q.path&&(q.path==="*"||q.path.endsWith("/*")))return{active:!0,matches:Zc(M,z,u,!0)}}else return{active:!0,matches:Zc(M,z,u,!0)||[]};return{active:!1,matches:null}}async function Mr(N,M,z){let q=N,ne=q.length>0?q[q.length-1].route:null;for(;;){let ae=l==null,de=l||s;try{await PP(p,M,q,de,o,i,Sn,z)}catch(ce){return{type:"error",error:ce,partialMatches:q}}finally{ae&&(s=[...s])}if(z.aborted)return{type:"aborted"};let Y=Ho(de,M,u),ge=!1;if(Y){let ce=Y[Y.length-1].route;if(ce.index)return{type:"success",matches:Y};if(ce.path&&ce.path.length>0)if(ce.path==="*")ge=!0;else return{type:"success",matches:Y}}let ue=Zc(de,M,u,!0);if(!ue||q.map(ce=>ce.route.id).join("-")===ue.map(ce=>ce.route.id).join("-"))return{type:"success",matches:ge?Y:null};if(q=ue,ne=q[q.length-1].route,ne.path==="*")return{type:"success",matches:q}}}function fe(N){o={},l=ou(N,i,void 0,o)}function pn(N,M){let z=l==null;N1(N,M,l||s,o,i),z&&(s=[...s],wt({}))}return G={get basename(){return u},get future(){return y},get state(){return L},get routes(){return s},get window(){return e},initialize:Ft,subscribe:ni,enableScrollRestoration:xt,navigate:fr,fetch:Oe,revalidate:ri,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:Xn,deleteFetcher:oi,dispose:bn,getBlocker:xo,deleteBlocker:Li,patchRoutes:pn,_internalFetchControllers:xe,_internalActiveDeferreds:Rt,_internalSetRoutes:fe},G}function bP(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Kp(t,e,n,r,i,o,s,l){let u,d;if(s){u=[];for(let y of e)if(u.push(y),y.route.id===s){d=y;break}}else u=e,d=e[e.length-1];let p=yg(i||".",gg(u,o),Ua(t.pathname,n)||t.pathname,l==="path");return i==null&&(p.search=t.search,p.hash=t.hash),(i==null||i===""||i===".")&&d&&d.route.index&&!_g(p.search)&&(p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(p.pathname=p.pathname==="/"?n:Ti([n,p.pathname])),cs(p)}function hw(t,e,n,r){if(!r||!bP(r))return{path:n};if(r.formMethod&&!UP(r.formMethod))return{path:n,error:wn(405,{method:r.formMethod})};let i=()=>({path:n,error:wn(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),l=D1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Sr(s))return i();let w=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((C,x)=>{let[O,V]=x;return""+C+O+"="+V+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:void 0,text:w}}}else if(r.formEncType==="application/json"){if(!Sr(s))return i();try{let w=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:l,formEncType:r.formEncType,formData:void 0,json:w,text:void 0}}}catch{return i()}}}Se(typeof FormData=="function","FormData is not available in this environment");let u,d;if(r.formData)u=Gp(r.formData),d=r.formData;else if(r.body instanceof FormData)u=Gp(r.body),d=r.body;else if(r.body instanceof URLSearchParams)u=r.body,d=yw(u);else if(r.body==null)u=new URLSearchParams,d=new FormData;else try{u=new URLSearchParams(r.body),d=yw(u)}catch{return i()}let p={formMethod:s,formAction:l,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:d,json:void 0,text:void 0};if(Sr(p.formMethod))return{path:n,submission:p};let y=Io(n);return e&&y.search&&_g(y.search)&&u.append("index",""),y.search="?"+u,{path:cs(y),submission:p}}function CP(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function fw(t,e,n,r,i,o,s,l,u,d,p,y,w,C,x,O){let V=O?Bn(O[1])?O[1].error:O[1].data:void 0,b=t.createURL(e.location),T=t.createURL(i),P=O&&Bn(O[1])?O[0]:void 0,B=P?CP(n,P):n,G=O?O[1].statusCode:void 0,L=s&&G&&G>=400,S=B.filter((I,R)=>{let{route:D}=I;if(D.lazy)return!0;if(D.loader==null)return!1;if(o)return typeof D.loader!="function"||D.loader.hydrate?!0:e.loaderData[D.id]===void 0&&(!e.errors||e.errors[D.id]===void 0);if(AP(e.loaderData,e.matches[R],I)||u.some(Fe=>Fe===I.route.id))return!0;let F=e.matches[R],k=I;return pw(I,ot({currentUrl:b,currentParams:F.params,nextUrl:T,nextParams:k.params},r,{actionResult:V,actionStatus:G,defaultShouldRevalidate:L?!1:l||b.pathname+b.search===T.pathname+T.search||b.search!==T.search||O1(F,k)}))}),E=[];return y.forEach((I,R)=>{if(o||!n.some(tn=>tn.route.id===I.routeId)||p.has(R))return;let D=Ho(C,I.path,x);if(!D){E.push({key:R,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let F=e.fetchers.get(R),k=vl(D,I.path),Fe=!1;w.has(R)?Fe=!1:d.includes(R)?Fe=!0:F&&F.state!=="idle"&&F.data===void 0?Fe=l:Fe=pw(k,ot({currentUrl:b,currentParams:e.matches[e.matches.length-1].params,nextUrl:T,nextParams:n[n.length-1].params},r,{actionResult:V,actionStatus:G,defaultShouldRevalidate:L?!1:l})),Fe&&E.push({key:R,routeId:I.routeId,path:I.path,matches:D,match:k,controller:new AbortController})}),[S,E]}function AP(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function O1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function pw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function PP(t,e,n,r,i,o,s,l){let u=[e,...n.map(d=>d.route.id)].join("-");try{let d=s.get(u);d||(d=t({path:e,matches:n,patch:(p,y)=>{l.aborted||N1(p,y,r,i,o)}}),s.set(u,d)),d&&MP(d)&&await d}finally{s.delete(u)}}function N1(t,e,n,r,i){if(t){var o;let s=r[t];Se(s,"No route found to patch children into: routeId = "+t);let l=ou(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...l):s.children=l}else{let s=ou(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function mw(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Se(i,"No route found in manifest");let o={};for(let s in r){let u=i[s]!==void 0&&s!=="hasErrorBoundary";Aa(!u,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!u&&!Y2.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,ot({},e(i),{lazy:void 0}))}function RP(t){return Promise.all(t.matches.map(e=>e.resolve()))}async function kP(t,e,n,r,i,o,s,l){let u=r.reduce((y,w)=>y.add(w.route.id),new Set),d=new Set,p=await t({matches:i.map(y=>{let w=u.has(y.route.id);return ot({},y,{shouldLoad:w,resolve:x=>(d.add(y.route.id),w?xP(e,n,y,o,s,x,l):Promise.resolve({type:Xe.data,result:void 0}))})}),request:n,params:i[0].params,context:l});return i.forEach(y=>Se(d.has(y.route.id),'`match.resolve()` was not called for route id "'+y.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),p.filter((y,w)=>u.has(i[w].route.id))}async function xP(t,e,n,r,i,o,s){let l,u,d=p=>{let y,w=new Promise((O,V)=>y=V);u=()=>y(),e.signal.addEventListener("abort",u);let C=O=>typeof p!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):p({request:e,params:n.params,context:s},...O!==void 0?[O]:[]),x;return o?x=o(O=>C(O)):x=(async()=>{try{return{type:"data",result:await C()}}catch(O){return{type:"error",result:O}}})(),Promise.race([x,w])};try{let p=n.route[t];if(n.route.lazy)if(p){let y,[w]=await Promise.all([d(p).catch(C=>{y=C}),mw(n.route,i,r)]);if(y!==void 0)throw y;l=w}else if(await mw(n.route,i,r),p=n.route[t],p)l=await d(p);else if(t==="action"){let y=new URL(e.url),w=y.pathname+y.search;throw wn(405,{method:e.method,pathname:w,routeId:n.route.id})}else return{type:Xe.data,result:void 0};else if(p)l=await d(p);else{let y=new URL(e.url),w=y.pathname+y.search;throw wn(404,{pathname:w})}Se(l.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(p){return{type:Xe.error,result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function OP(t){let{result:e,type:n,status:r}=t;if(L1(e)){let s;try{let l=e.headers.get("Content-Type");l&&/\bapplication\/json\b/.test(l)?e.body==null?s=null:s=await e.json():s=await e.text()}catch(l){return{type:Xe.error,error:l}}return n===Xe.error?{type:Xe.error,error:new vg(e.status,e.statusText,s),statusCode:e.status,headers:e.headers}:{type:Xe.data,data:s,statusCode:e.status,headers:e.headers}}if(n===Xe.error)return{type:Xe.error,error:e,statusCode:vh(e)?e.status:r};if(FP(e)){var i,o;return{type:Xe.deferred,deferredData:e,statusCode:(i=e.init)==null?void 0:i.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}return{type:Xe.data,data:e,statusCode:r}}function NP(t,e,n,r,i,o){let s=t.headers.get("Location");if(Se(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!wg.test(s)){let l=r.slice(0,r.findIndex(u=>u.route.id===n)+1);s=Kp(new URL(e.url),l,i,!0,s,o),t.headers.set("Location",s)}return t}function gw(t,e,n){if(wg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ua(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Bs(t,e,n,r){let i=t.createURL(D1(e)).toString(),o={signal:n};if(r&&Sr(r.formMethod)){let{formMethod:s,formEncType:l}=r;o.method=s.toUpperCase(),l==="application/json"?(o.headers=new Headers({"Content-Type":l}),o.body=JSON.stringify(r.json)):l==="text/plain"?o.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?o.body=Gp(r.formData):o.body=r.formData}return new Request(i,o)}function Gp(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function yw(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function DP(t,e,n,r,i,o){let s={},l=null,u,d=!1,p={},y=r&&Bn(r[1])?r[1].error:void 0;return n.forEach((w,C)=>{let x=e[C].route.id;if(Se(!Qo(w),"Cannot handle redirect results in processLoaderData"),Bn(w)){let O=w.error;y!==void 0&&(O=y,y=void 0),l=l||{};{let V=sa(t,x);l[V.route.id]==null&&(l[V.route.id]=O)}s[x]=void 0,d||(d=!0,u=vh(w.error)?w.error.status:500),w.headers&&(p[x]=w.headers)}else Go(w)?(i.set(x,w.deferredData),s[x]=w.deferredData.data,w.statusCode!=null&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(p[x]=w.headers)):(s[x]=w.data,w.statusCode&&w.statusCode!==200&&!d&&(u=w.statusCode),w.headers&&(p[x]=w.headers))}),y!==void 0&&r&&(l={[r[0]]:y},s[r[0]]=void 0),{loaderData:s,errors:l,statusCode:u||200,loaderHeaders:p}}function vw(t,e,n,r,i,o,s,l){let{loaderData:u,errors:d}=DP(e,n,r,i,l);for(let p=0;p<o.length;p++){let{key:y,match:w,controller:C}=o[p];Se(s!==void 0&&s[p]!==void 0,"Did not find corresponding fetcher result");let x=s[p];if(!(C&&C.signal.aborted))if(Bn(x)){let O=sa(t.matches,w==null?void 0:w.route.id);d&&d[O.route.id]||(d=ot({},d,{[O.route.id]:x.error})),t.fetchers.delete(y)}else if(Qo(x))Se(!1,"Unhandled fetcher revalidation redirect");else if(Go(x))Se(!1,"Unhandled fetcher deferred data");else{let O=qi(x.data);t.fetchers.set(y,O)}}return{loaderData:u,errors:d}}function ww(t,e,n,r){let i=ot({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function _w(t){return t?Bn(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function sa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Ew(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function wn(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,l="Unknown Server Error",u="Unknown @remix-run/router error";return t===400?(l="Bad Request",o==="route-discovery"?u='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnMiss()` '+(`function threw the following error:
`+s):i&&n&&r?u="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?u="defer() is not supported in actions":o==="invalid-body"&&(u="Unable to encode submission body")):t===403?(l="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):t===404?(l="Not Found",u='No route matches URL "'+n+'"'):t===405&&(l="Method Not Allowed",i&&n&&r?u="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(u='Invalid request method "'+i.toUpperCase()+'"')),new vg(t||500,l,new Error(u),!0)}function Tw(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(Qo(n))return{result:n,idx:e}}}function D1(t){let e=typeof t=="string"?Io(t):t;return cs(ot({},e,{hash:""}))}function LP(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function MP(t){return typeof t=="object"&&t!=null&&"then"in t}function VP(t){return L1(t.result)&&_P.has(t.result.status)}function Go(t){return t.type===Xe.deferred}function Bn(t){return t.type===Xe.error}function Qo(t){return(t&&t.type)===Xe.redirect}function FP(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function L1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function UP(t){return wP.has(t.toLowerCase())}function Sr(t){return yP.has(t.toLowerCase())}async function Iw(t,e,n,r,i,o){for(let s=0;s<n.length;s++){let l=n[s],u=e[s];if(!u)continue;let d=t.find(y=>y.route.id===u.route.id),p=d!=null&&!O1(d,u)&&(o&&o[u.route.id])!==void 0;if(Go(l)&&(i||p)){let y=r[s];Se(y,"Expected an AbortSignal for revalidating fetcher deferred result"),await M1(l,y,i).then(w=>{w&&(n[s]=w||n[s])})}}}async function M1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Xe.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Xe.error,error:i}}return{type:Xe.data,data:t.deferredData.data}}}function _g(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function vl(t,e){let n=typeof e=="string"?Io(e).search:e.search;if(t[t.length-1].route.index&&_g(n||""))return t[t.length-1];let r=R1(t);return r[r.length-1]}function Sw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Mf(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function jP(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function cl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function BP(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function zP(t,e){try{let n=t.sessionStorage.getItem(x1);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function $P(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(x1,JSON.stringify(n))}catch(r){Aa(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}const wh=K.createContext(null),V1=K.createContext(null),Is=K.createContext(null),Eg=K.createContext(null),So=K.createContext({outlet:null,matches:[],isDataRoute:!1}),F1=K.createContext(null);function HP(t,e){let{relative:n}=e===void 0?{}:e;Au()||Se(!1);let{basename:r,navigator:i}=K.useContext(Is),{hash:o,pathname:s,search:l}=j1(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:Ti([r,s])),i.createHref({pathname:u,search:l,hash:o})}function Au(){return K.useContext(Eg)!=null}function _h(){return Au()||Se(!1),K.useContext(Eg).location}function U1(t){K.useContext(Is).static||K.useLayoutEffect(t)}function Eh(){let{isDataRoute:t}=K.useContext(So);return t?iR():qP()}function qP(){Au()||Se(!1);let t=K.useContext(wh),{basename:e,future:n,navigator:r}=K.useContext(Is),{matches:i}=K.useContext(So),{pathname:o}=_h(),s=JSON.stringify(gg(i,n.v7_relativeSplatPath)),l=K.useRef(!1);return U1(()=>{l.current=!0}),K.useCallback(function(d,p){if(p===void 0&&(p={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let y=yg(d,JSON.parse(s),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ti([e,y.pathname])),(p.replace?r.replace:r.push)(y,p.state,p)},[e,r,s,o,t])}const WP=K.createContext(null);function KP(t){let e=K.useContext(So).outlet;return e&&K.createElement(WP.Provider,{value:t},e)}function j1(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=K.useContext(Is),{matches:i}=K.useContext(So),{pathname:o}=_h(),s=JSON.stringify(gg(i,r.v7_relativeSplatPath));return K.useMemo(()=>yg(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function GP(t,e,n,r){Au()||Se(!1);let{navigator:i}=K.useContext(Is),{matches:o}=K.useContext(So),s=o[o.length-1],l=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let d=_h(),p;p=d;let y=p.pathname||"/",w=y;if(u!=="/"){let O=u.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(O.length).join("/")}let C=Ho(t,{pathname:w});return ZP(C&&C.map(O=>Object.assign({},O,{params:Object.assign({},l,O.params),pathname:Ti([u,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?u:Ti([u,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),o,n,r)}function QP(){let t=rR(),e=vh(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),n?K.createElement("pre",{style:i},n):null,null)}const YP=K.createElement(QP,null);class XP extends K.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?K.createElement(So.Provider,{value:this.props.routeContext},K.createElement(F1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JP(t){let{routeContext:e,match:n,children:r}=t,i=K.useContext(wh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),K.createElement(So.Provider,{value:e},r)}function ZP(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let s=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let p=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);p>=0||Se(!1),s=s.slice(0,Math.min(s.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(d=p),y.route.id){let{loaderData:w,errors:C}=n,x=y.route.loader&&w[y.route.id]===void 0&&(!C||C[y.route.id]===void 0);if(y.route.lazy||x){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((p,y,w)=>{let C,x=!1,O=null,V=null;n&&(C=l&&y.route.id?l[y.route.id]:void 0,O=y.route.errorElement||YP,u&&(d<0&&w===0?(oR("route-fallback"),x=!0,V=null):d===w&&(x=!0,V=y.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,w+1)),T=()=>{let P;return C?P=O:x?P=V:y.route.Component?P=K.createElement(y.route.Component,null):y.route.element?P=y.route.element:P=p,K.createElement(JP,{match:y,routeContext:{outlet:p,matches:b,isDataRoute:n!=null},children:P})};return n&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?K.createElement(XP,{location:n.location,revalidation:n.revalidation,component:O,error:C,children:T(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):T()},null)}var B1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(B1||{}),Dd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Dd||{});function eR(t){let e=K.useContext(wh);return e||Se(!1),e}function tR(t){let e=K.useContext(V1);return e||Se(!1),e}function nR(t){let e=K.useContext(So);return e||Se(!1),e}function z1(t){let e=nR(),n=e.matches[e.matches.length-1];return n.route.id||Se(!1),n.route.id}function rR(){var t;let e=K.useContext(F1),n=tR(Dd.UseRouteError),r=z1(Dd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function iR(){let{router:t}=eR(B1.UseNavigateStable),e=z1(Dd.UseNavigateStable),n=K.useRef(!1);return U1(()=>{n.current=!0}),K.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Nd({fromRouteId:e},o)))},[t,e])}const bw={};function oR(t,e,n){bw[t]||(bw[t]=!0)}function sR(t){return KP(t.context)}function aR(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bt.Pop,navigator:o,static:s=!1,future:l}=t;Au()&&Se(!1);let u=e.replace(/^\/*/,"/"),d=K.useMemo(()=>({basename:u,navigator:o,static:s,future:Nd({v7_relativeSplatPath:!1},l)}),[u,l,o,s]);typeof r=="string"&&(r=Io(r));let{pathname:p="/",search:y="",hash:w="",state:C=null,key:x="default"}=r,O=K.useMemo(()=>{let V=Ua(p,u);return V==null?null:{location:{pathname:V,search:y,hash:w,state:C,key:x},navigationType:i}},[u,p,y,w,C,x,i]);return O==null?null:K.createElement(Is.Provider,{value:d},K.createElement(Eg.Provider,{children:n,value:O}))}new Promise(()=>{});function lR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:K.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:K.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:K.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.25.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},su.apply(this,arguments)}function uR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function cR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dR(t,e){return t.button===0&&(!e||e==="_self")&&!cR(t)}const hR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],fR="6";try{window.__reactRouterVersion=fR}catch{}function pR(t,e){return SP({basename:void 0,future:su({},void 0,{v7_prependBasename:!0}),history:K2({window:void 0}),hydrationData:mR(),routes:t,mapRouteProperties:lR,unstable_dataStrategy:void 0,unstable_patchRoutesOnMiss:void 0,window:void 0}).initialize()}function mR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=su({},e,{errors:gR(e.errors)})),e}function gR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new vg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const yR=K.createContext({isTransitioning:!1}),vR=K.createContext(new Map),wR="startTransition",Cw=DC[wR],_R="flushSync",Aw=W2[_R];function ER(t){Cw?Cw(t):t()}function dl(t){Aw?Aw(t):t()}let TR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function IR(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=K.useState(n.state),[s,l]=K.useState(),[u,d]=K.useState({isTransitioning:!1}),[p,y]=K.useState(),[w,C]=K.useState(),[x,O]=K.useState(),V=K.useRef(new Map),{v7_startTransition:b}=r||{},T=K.useCallback(S=>{b?ER(S):S()},[b]),P=K.useCallback((S,E)=>{let{deletedFetchers:I,unstable_flushSync:R,unstable_viewTransitionOpts:D}=E;I.forEach(k=>V.current.delete(k)),S.fetchers.forEach((k,Fe)=>{k.data!==void 0&&V.current.set(Fe,k.data)});let F=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||F){R?dl(()=>o(S)):T(()=>o(S));return}if(R){dl(()=>{w&&(p&&p.resolve(),w.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let k=n.window.document.startViewTransition(()=>{dl(()=>o(S))});k.finished.finally(()=>{dl(()=>{y(void 0),C(void 0),l(void 0),d({isTransitioning:!1})})}),dl(()=>C(k));return}w?(p&&p.resolve(),w.skipTransition(),O({state:S,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(l(S),d({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,w,p,V,T]);K.useLayoutEffect(()=>n.subscribe(P),[n,P]),K.useEffect(()=>{u.isTransitioning&&!u.flushSync&&y(new TR)},[u]),K.useEffect(()=>{if(p&&s&&n.window){let S=s,E=p.promise,I=n.window.document.startViewTransition(async()=>{T(()=>o(S)),await E});I.finished.finally(()=>{y(void 0),C(void 0),l(void 0),d({isTransitioning:!1})}),C(I)}},[T,s,p,n.window]),K.useEffect(()=>{p&&s&&i.location.key===s.location.key&&p.resolve()},[p,w,i.location,s]),K.useEffect(()=>{!u.isTransitioning&&x&&(l(x.state),d({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),O(void 0))},[u.isTransitioning,x]),K.useEffect(()=>{},[]);let B=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:S=>n.navigate(S),push:(S,E,I)=>n.navigate(S,{state:E,preventScrollReset:I==null?void 0:I.preventScrollReset}),replace:(S,E,I)=>n.navigate(S,{replace:!0,state:E,preventScrollReset:I==null?void 0:I.preventScrollReset})}),[n]),G=n.basename||"/",L=K.useMemo(()=>({router:n,navigator:B,static:!1,basename:G}),[n,B,G]);return K.createElement(K.Fragment,null,K.createElement(wh.Provider,{value:L},K.createElement(V1.Provider,{value:i},K.createElement(vR.Provider,{value:V.current},K.createElement(yR.Provider,{value:u},K.createElement(aR,{basename:G,location:i.location,navigationType:i.historyAction,navigator:B,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},i.initialized||n.future.v7_partialHydration?K.createElement(SR,{routes:n.routes,future:n.future,state:i}):e))))),null)}function SR(t){let{routes:e,future:n,state:r}=t;return GP(e,void 0,r,n)}const bR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",CR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ld=K.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:l,target:u,to:d,preventScrollReset:p,unstable_viewTransition:y}=e,w=uR(e,hR),{basename:C}=K.useContext(Is),x,O=!1;if(typeof d=="string"&&CR.test(d)&&(x=d,bR))try{let P=new URL(window.location.href),B=d.startsWith("//")?new URL(P.protocol+d):new URL(d),G=Ua(B.pathname,C);B.origin===P.origin&&G!=null?d=G+B.search+B.hash:O=!0}catch{}let V=HP(d,{relative:i}),b=AR(d,{replace:s,state:l,target:u,preventScrollReset:p,relative:i,unstable_viewTransition:y});function T(P){r&&r(P),P.defaultPrevented||b(P)}return K.createElement("a",su({},w,{href:x||V,onClick:O||o?r:T,ref:n,target:u}))});var Pw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Pw||(Pw={}));var Rw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Rw||(Rw={}));function AR(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l}=e===void 0?{}:e,u=Eh(),d=_h(),p=j1(t,{relative:s});return K.useCallback(y=>{if(dR(y,n)){y.preventDefault();let w=r!==void 0?r:cs(d)===cs(p);u(t,{replace:w,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:l})}},[d,u,p,r,i,n,t,o,s,l])}var kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},PR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},H1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,y=(o&3)<<4|l>>4;let w=(l&15)<<2|d>>6,C=d&63;u||(C=64,s||(w=64)),r.push(n[p],n[y],n[w],n[C])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):PR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const y=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||d==null||y==null)throw new RR;const w=o<<2|l>>4;if(r.push(w),d!==64){const C=l<<4&240|d>>2;if(r.push(C),y!==64){const x=d<<6&192|y;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kR=function(t){const e=$1(t);return H1.encodeByteArray(e,!0)},Md=function(t){return kR(t).replace(/\./g,"")},q1=function(t){try{return H1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR=()=>xR().__FIREBASE_DEFAULTS__,NR=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q1(t[1]);return e&&JSON.parse(e)},Th=()=>{try{return OR()||NR()||DR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W1=t=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},K1=t=>{const e=W1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G1=()=>{var t;return(t=Th())===null||t===void 0?void 0:t.config},Q1=t=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Md(JSON.stringify(n)),Md(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function VR(){var t;const e=(t=Th())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function X1(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function FR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function UR(){const t=en();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jR(){return!VR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J1(){try{return typeof indexedDB=="object"}catch{return!1}}function Z1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function BR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class hr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zR,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ss.prototype.create)}}class Ss{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?$R(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new hr(i,l,r)}}function $R(t,e){return t.replace(HR,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const HR=/\{\$([^}]+)}/g;function qR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function au(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(xw(o)&&xw(s)){if(!au(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function xw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function _l(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function WR(t,e){const n=new KR(t,e);return n.subscribe.bind(n)}class KR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Vf),i.error===void 0&&(i.error=Vf),i.complete===void 0&&(i.complete=Vf);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Vf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,YR=2,XR=4*60*60*1e3,JR=.5;function Ow(t,e=QR,n=YR){const r=e*Math.pow(n,t),i=Math.round(JR*r*(Math.random()-.5)*2);return Math.min(XR,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(t){return t&&t._delegate?t._delegate:t}class cr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tk(e))try{this.getOrInitializeService({instanceIdentifier:$o})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=$o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$o){return this.instances.has(e)}getOptions(e=$o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ek(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=$o){return this.component?this.component.multipleInstances?e:$o:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ek(t){return t===$o?void 0:t}function tk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new ZR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const rk={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},ik=ke.INFO,ok={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},sk=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ok[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=ik,this._logHandler=sk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const ak=(t,e)=>e.some(n=>t instanceof n);let Nw,Dw;function lk(){return Nw||(Nw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uk(){return Dw||(Dw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eT=new WeakMap,Qp=new WeakMap,tT=new WeakMap,Ff=new WeakMap,Tg=new WeakMap;function ck(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(fo(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eT.set(n,t)}).catch(()=>{}),Tg.set(e,t),e}function dk(t){if(Qp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qp.set(t,e)}let Yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function hk(t){Yp=t(Yp)}function fk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Uf(this),e,...n);return tT.set(r,e.sort?e.sort():[e]),fo(r)}:uk().includes(t)?function(...e){return t.apply(Uf(this),e),fo(eT.get(this))}:function(...e){return fo(t.apply(Uf(this),e))}}function pk(t){return typeof t=="function"?fk(t):(t instanceof IDBTransaction&&dk(t),ak(t,lk())?new Proxy(t,Yp):t)}function fo(t){if(t instanceof IDBRequest)return ck(t);if(Ff.has(t))return Ff.get(t);const e=pk(t);return e!==t&&(Ff.set(t,e),Tg.set(e,t)),e}const Uf=t=>Tg.get(t);function nT(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=fo(s);return r&&s.addEventListener("upgradeneeded",u=>{r(fo(s.result),u.oldVersion,u.newVersion,fo(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const mk=["get","getKey","getAll","getAllKeys","count"],gk=["put","add","delete","clear"],jf=new Map;function Lw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=gk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mk.includes(n)))return;const o=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&u.done]))[0]};return jf.set(e,o),o}hk(t=>({...t,get:(e,n,r)=>Lw(e,n)||t.get(e,n,r),has:(e,n)=>!!Lw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(vk(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function vk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xp="@firebase/app",Mw="0.10.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new Ih("@firebase/app"),wk="@firebase/app-compat",_k="@firebase/analytics-compat",Ek="@firebase/analytics",Tk="@firebase/app-check-compat",Ik="@firebase/app-check",Sk="@firebase/auth",bk="@firebase/auth-compat",Ck="@firebase/database",Ak="@firebase/database-compat",Pk="@firebase/functions",Rk="@firebase/functions-compat",kk="@firebase/installations",xk="@firebase/installations-compat",Ok="@firebase/messaging",Nk="@firebase/messaging-compat",Dk="@firebase/performance",Lk="@firebase/performance-compat",Mk="@firebase/remote-config",Vk="@firebase/remote-config-compat",Fk="@firebase/storage",Uk="@firebase/storage-compat",jk="@firebase/firestore",Bk="@firebase/vertexai-preview",zk="@firebase/firestore-compat",$k="firebase",Hk="10.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="[DEFAULT]",qk={[Xp]:"fire-core",[wk]:"fire-core-compat",[Ek]:"fire-analytics",[_k]:"fire-analytics-compat",[Ik]:"fire-app-check",[Tk]:"fire-app-check-compat",[Sk]:"fire-auth",[bk]:"fire-auth-compat",[Ck]:"fire-rtdb",[Ak]:"fire-rtdb-compat",[Pk]:"fire-fn",[Rk]:"fire-fn-compat",[kk]:"fire-iid",[xk]:"fire-iid-compat",[Ok]:"fire-fcm",[Nk]:"fire-fcm-compat",[Dk]:"fire-perf",[Lk]:"fire-perf-compat",[Mk]:"fire-rc",[Vk]:"fire-rc-compat",[Fk]:"fire-gcs",[Uk]:"fire-gcs-compat",[jk]:"fire-fst",[zk]:"fire-fst-compat",[Bk]:"fire-vertex","fire-js":"fire-js",[$k]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vd=new Map,Wk=new Map,Zp=new Map;function Vw(t,e){try{t.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Or(t){const e=t.name;if(Zp.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;Zp.set(e,t);for(const n of Vd.values())Vw(n,t);for(const n of Wk.values())Vw(n,t);return!0}function bo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},po=new Ss("app","Firebase",Kk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw po.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=Hk;function rT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw po.create("bad-app-name",{appName:String(i)});if(n||(n=G1()),!n)throw po.create("no-options");const o=Vd.get(i);if(o){if(au(n,o.options)&&au(r,o.config))return o;throw po.create("duplicate-app",{appName:i})}const s=new nk(i);for(const u of Zp.values())s.addComponent(u);const l=new Gk(n,r,s);return Vd.set(i,l),l}function Sh(t=Jp){const e=Vd.get(t);if(!e&&t===Jp&&G1())return rT();if(!e)throw po.create("no-app",{appName:t});return e}function Mn(t,e,n){var r;let i=(r=qk[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const l=[`Unable to register library "${i}" with version "${e}":`];o&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(l.join(" "));return}Or(new cr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebase-heartbeat-database",Yk=1,lu="firebase-heartbeat-store";let Bf=null;function iT(){return Bf||(Bf=nT(Qk,Yk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw po.create("idb-open",{originalErrorMessage:t.message})})),Bf}async function Xk(t){try{const n=(await iT()).transaction(lu),r=await n.objectStore(lu).get(oT(t));return await n.done,r}catch(e){if(e instanceof hr)ds.warn(e.message);else{const n=po.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function Fw(t,e){try{const r=(await iT()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,oT(t)),await r.done}catch(n){if(n instanceof hr)ds.warn(n.message);else{const r=po.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function oT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=1024,Zk=30*24*60*60*1e3;class ex{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Uw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=Zk}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Uw(),{heartbeatsToSend:r,unsentEntries:i}=tx(this._heartbeatsCache.heartbeats),o=Md(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Uw(){return new Date().toISOString().substring(0,10)}function tx(t,e=Jk){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J1()?Z1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Xk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function jw(t){return Md(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t){Or(new cr("platform-logger",e=>new yk(e),"PRIVATE")),Or(new cr("heartbeat",e=>new ex(e),"PRIVATE")),Mn(Xp,Mw,t),Mn(Xp,Mw,"esm2017"),Mn("fire-js","")}rx("");function Ig(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ix=sT,aT=new Ss("auth","Firebase",sT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Ih("@firebase/auth");function ox(t,...e){Fd.logLevel<=ke.WARN&&Fd.warn(`Auth (${bs}): ${t}`,...e)}function ed(t,...e){Fd.logLevel<=ke.ERROR&&Fd.error(`Auth (${bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,...e){throw bg(t,...e)}function kr(t,...e){return bg(t,...e)}function Sg(t,e,n){const r=Object.assign(Object.assign({},ix()),{[e]:n});return new Ss("auth","Firebase",r).create(e,{appName:t.name})}function Ii(t){return Sg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sx(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&dr(t,"argument-error"),Sg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function bg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return aT.create(t,...e)}function me(t,e,...n){if(!t)throw bg(e,...n)}function yi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ed(e),new Error(e)}function Ri(t,e){t||yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ax(){return Bw()==="http:"||Bw()==="https:"}function Bw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ax()||X1()||"connection"in navigator)?navigator.onLine:!0}function ux(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ri(n>e,"Short delay should be less than long delay!"),this.isMobile=MR()||FR()}get(){return lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(t,e){Ri(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Ru(3e4,6e4);function Co(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ao(t,e,n,r,i={}){return uT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=Pu(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),lT.fetch()(cT(t,t.config.apiHost,n,l),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))})}async function uT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},cx),e);try{const i=new fx(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Oc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[u,d]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Oc(t,"user-disabled",s);const p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Sg(t,p,d);dr(t,p)}}catch(i){if(i instanceof hr)throw i;dr(t,"network-request-failed",{message:String(i)})}}async function ku(t,e,n,r,i={}){const o=await Ao(t,e,n,r,i);return"mfaPendingCredential"in o&&dr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function cT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Cg(t.config,i):`${t.config.apiScheme}://${i}`}function hx(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fx{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),dx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Oc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kr(t,e,r);return i.customData._tokenResponse=n,i}function zw(t){return t!==void 0&&t.enterprise!==void 0}class px{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function mx(t,e){return Ao(t,"GET","/v2/recaptchaConfig",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gx(t,e){return Ao(t,"POST","/v1/accounts:delete",e)}async function dT(t,e){return Ao(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function yx(t,e=!1){const n=rt(t),r=await n.getIdToken(e),i=Ag(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Dl(zf(i.auth_time)),issuedAtTime:Dl(zf(i.iat)),expirationTime:Dl(zf(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function zf(t){return Number(t)*1e3}function Ag(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ed("JWT malformed, contained fewer than 3 sections"),null;try{const i=q1(n);return i?JSON.parse(i):(ed("Failed to decode base64 JWT payload"),null)}catch(i){return ed("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function $w(t){const e=Ag(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof hr&&vx(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function vx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dl(this.lastLoginAt),this.creationTime=Dl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ud(t){var e;const n=t.auth,r=await t.getIdToken(),i=await uu(t,dT(n,{idToken:r}));me(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hT(o.providerUserInfo):[],l=Ex(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!(l!=null&&l.length),p=u?d:!1,y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new tm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,y)}async function _x(t){const e=rt(t);await Ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ex(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hT(t){return t.map(e=>{var{providerId:n}=e,r=Ig(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tx(t,e){const n=await uT(t,{},async()=>{const r=Pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=cT(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",lT.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Ix(t,e){return Ao(t,"POST","/v2/accounts:revokeToken",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){me(e.length!==0,"internal-error");const n=$w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Tx(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new ma;return r&&(me(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(me(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ma,this.toJSON())}_performRefresh(){return yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ig(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return yx(this,e)}reload(){return _x(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ud(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Ii(this.auth));const e=await this.getIdToken();return await uu(this,gx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,l,u,d,p;const y=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(i=n.email)!==null&&i!==void 0?i:void 0,C=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,x=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(l=n.tenantId)!==null&&l!==void 0?l:void 0,V=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,b=(d=n.createdAt)!==null&&d!==void 0?d:void 0,T=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:P,emailVerified:B,isAnonymous:G,providerData:L,stsTokenManager:S}=n;me(P&&S,e,"internal-error");const E=ma.fromJSON(this.name,S);me(typeof P=="string",e,"internal-error"),$i(y,e.name),$i(w,e.name),me(typeof B=="boolean",e,"internal-error"),me(typeof G=="boolean",e,"internal-error"),$i(C,e.name),$i(x,e.name),$i(O,e.name),$i(V,e.name),$i(b,e.name),$i(T,e.name);const I=new vi({uid:P,auth:e,email:w,emailVerified:B,displayName:y,isAnonymous:G,photoURL:x,phoneNumber:C,tenantId:O,stsTokenManager:E,createdAt:b,lastLoginAt:T});return L&&Array.isArray(L)&&(I.providerData=L.map(R=>Object.assign({},R))),V&&(I._redirectEventId=V),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new ma;i.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ud(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];me(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?hT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new ma;l.updateFromIdToken(r);const u=new vi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,d),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Map;function wi(t){Ri(t instanceof Function,"Expected a class definition");let e=Hw.get(t);return e?(Ri(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Hw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fT.type="NONE";const qw=fT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t,e,n){return`firebase:${t}:${e}:${n}`}class ga{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=td(this.userKey,i.apiKey,o),this.fullPersistenceKey=td("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ga(wi(qw),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||wi(qw);const s=td(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const p=await d._get(s);if(p){const y=vi._fromJSON(e,p);d!==o&&(l=y),o=d;break}}catch{}const u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new ga(o,e,r):(o=u[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new ga(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(vT(e))return"Blackberry";if(wT(e))return"Webos";if(Pg(e))return"Safari";if((e.includes("chrome/")||mT(e))&&!e.includes("edge/"))return"Chrome";if(yT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function pT(t=en()){return/firefox\//i.test(t)}function Pg(t=en()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mT(t=en()){return/crios\//i.test(t)}function gT(t=en()){return/iemobile/i.test(t)}function yT(t=en()){return/android/i.test(t)}function vT(t=en()){return/blackberry/i.test(t)}function wT(t=en()){return/webos/i.test(t)}function bh(t=en()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Sx(t=en()){var e;return bh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bx(){return UR()&&document.documentMode===10}function _T(t=en()){return bh(t)||yT(t)||wT(t)||vT(t)||/windows phone/i.test(t)||gT(t)}function Cx(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ET(t,e=[]){let n;switch(t){case"Browser":n=Ww(en());break;case"Worker":n=`${Ww(en())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${bs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const u=e(o);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Px(t,e={}){return Ao(t,"GET","/v2/passwordPolicy",Co(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=6;class kx{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Rx,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kw(this),this.idTokenSubscription=new Kw(this),this.beforeStateQueue=new Ax(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ga.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await dT(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ud(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Ii(this));const n=e?rt(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Ii(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Ii(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Px(this),n=new kx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ss("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ix(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&wi(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await ga.create(this,[wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(me(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ox(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Po(t){return rt(t)}class Kw{constructor(e){this.auth=e,this.observer=null,this.addObserver=WR(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ch={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ox(t){Ch=t}function TT(t){return Ch.loadJS(t)}function Nx(){return Ch.recaptchaEnterpriseScript}function Dx(){return Ch.gapiScript}function Lx(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Mx="recaptcha-enterprise",Vx="NO_RECAPTCHA";class Fx{constructor(e){this.type=Mx,this.auth=Po(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{mx(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new px(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{l(u)})})}function i(o,s,l){const u=window.grecaptcha;zw(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(Vx)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&zw(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Nx();u.length!==0&&(u+=l),TT(u).then(()=>{i(l,o,s)}).catch(d=>{s(d)})}}).catch(l=>{s(l)})})}}async function Gw(t,e,n,r=!1){const i=new Fx(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function nm(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Gw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await Gw(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(t,e){const n=bo(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(au(o,e??{}))return i;dr(i,"already-initialized")}return n.initialize({options:e})}function jx(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(wi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Bx(t,e,n){const r=Po(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=IT(e),{host:s,port:l}=zx(e),u=l===null?"":`:${l}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),$x()}function IT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function zx(t){const e=IT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Qw(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Qw(s)}}}function Qw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $x(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return yi("not implemented")}_getIdTokenResponse(e){return yi("not implemented")}_linkToIdToken(e,n){return yi("not implemented")}_getReauthenticationResolver(e){return yi("not implemented")}}async function Hx(t,e){return Ao(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qx(t,e){return ku(t,"POST","/v1/accounts:signInWithPassword",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wx(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}async function Kx(t,e){return ku(t,"POST","/v1/accounts:signInWithEmailLink",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Rg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,n,"signInWithPassword",qx);case"emailLink":return Wx(e,{email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nm(e,r,"signUpPassword",Hx);case"emailLink":return Kx(e,{idToken:n,email:this._email,oobCode:this._password});default:dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ya(t,e){return ku(t,"POST","/v1/accounts:signInWithIdp",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="http://localhost";class hs extends Rg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new hs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ig(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new hs(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ya(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ya(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ya(e,n)}buildRequest(){const e={requestUri:Gx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Yx(t){const e=wl(_l(t)).link,n=e?wl(_l(e)).deep_link_id:null,r=wl(_l(t)).deep_link_id;return(r?wl(_l(r)).link:null)||r||n||e||t}class kg{constructor(e){var n,r,i,o,s,l;const u=wl(_l(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,y=Qx((i=u.mode)!==null&&i!==void 0?i:null);me(d&&p&&y,"argument-error"),this.apiKey=d,this.operation=y,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(l=u.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=Yx(e);try{return new kg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(){this.providerId=ja.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=kg.parseLink(n);return me(r,"argument-error"),cu._fromEmailAndCode(e,r.code,r.tenantId)}}ja.PROVIDER_ID="password";ja.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ja.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends xg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends xu{constructor(){super("facebook.com")}static credential(e){return hs._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return hs._fromParams({providerId:pi.PROVIDER_ID,signInMethod:pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return pi.credentialFromTaggedObject(e)}static credentialFromError(e){return pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return pi.credential(n,r)}catch{return null}}}pi.GOOGLE_SIGN_IN_METHOD="google.com";pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends xu{constructor(){super("github.com")}static credential(e){return hs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends xu{constructor(){super("twitter.com")}static credential(e,n){return hs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e){return ku(t,"POST","/v1/accounts:signUp",Co(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await vi._fromIdTokenResponse(e,r,i),s=Yw(r);return new fs({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Yw(r);return new fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Yw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd extends hr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jd.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jd(e,n,r,i)}}function ST(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jd._fromErrorAndOperation(t,o,e,r):o})}async function Jx(t,e,n=!1){const r=await uu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zx(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(Ii(r));const i="reauthenticate";try{const o=await uu(t,ST(r,i,e,t),n);me(o.idToken,r,"internal-error");const s=Ag(o.idToken);me(s,r,"internal-error");const{sub:l}=s;return me(t.uid===l,r,"user-mismatch"),fs._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&dr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ii(t));const r="signIn",i=await ST(t,r,e),o=await fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function eO(t,e){return bT(Po(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CT(t){const e=Po(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tO(t,e,n){if(Cr(t.app))return Promise.reject(Ii(t));const r=Po(t),s=await nm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Xx).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&CT(t),u}),l=await fs._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function nO(t,e,n){return Cr(t.app)?Promise.reject(Ii(t)):eO(rt(t),ja.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&CT(t),r})}function rO(t,e,n,r){return rt(t).onIdTokenChanged(e,n,r)}function iO(t,e,n){return rt(t).beforeAuthStateChanged(e,n)}function oO(t,e,n,r){return rt(t).onAuthStateChanged(e,n,r)}const Bd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Bd,"1"),this.storage.removeItem(Bd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(){const t=en();return Pg(t)||bh(t)}const aO=1e3,lO=10;class PT extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=sO()&&Cx(),this.fallbackToPolling=_T(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);bx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,lO):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}PT.type="LOCAL";const uO=PT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}RT.type="SESSION";const kT=RT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Ah(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async d=>d(n.origin,o)),u=await cO(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ah.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,u)=>{const d=Og("",20);i.port1.start();const p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(y){const w=y;if(w.data.eventId===d)switch(w.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(w.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(){return window}function hO(t){Gr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof Gr().WorkerGlobalScope<"u"&&typeof Gr().importScripts=="function"}async function fO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function pO(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function mO(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firebaseLocalStorageDb",gO=1,zd="firebaseLocalStorage",NT="fbase_key";class Ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ph(t,e){return t.transaction([zd],e?"readwrite":"readonly").objectStore(zd)}function yO(){const t=indexedDB.deleteDatabase(OT);return new Ou(t).toPromise()}function rm(){const t=indexedDB.open(OT,gO);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(zd,{keyPath:NT})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(zd)?e(r):(r.close(),await yO(),e(await rm()))})})}async function Xw(t,e,n){const r=Ph(t,!0).put({[NT]:e,value:n});return new Ou(r).toPromise()}async function vO(t,e){const n=Ph(t,!1).get(e),r=await new Ou(n).toPromise();return r===void 0?null:r.value}function Jw(t,e){const n=Ph(t,!0).delete(e);return new Ou(n).toPromise()}const wO=800,_O=3;class DT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>_O)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ah._getInstance(mO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fO(),!this.activeServiceWorker)return;this.sender=new dO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||pO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Xw(e,Bd,"1"),await Jw(e,Bd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Xw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Jw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ph(i,!1).getAll();return new Ou(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}DT.type="LOCAL";const EO=DT;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(t,e){return e?wi(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Rg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ya(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ya(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ya(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TO(t){return bT(t.auth,new Ng(t),t.bypassAuthState)}function IO(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Zx(n,new Ng(t),t.bypassAuthState)}async function SO(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),Jx(n,new Ng(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TO;case"linkViaPopup":case"linkViaRedirect":return SO;case"reauthViaPopup":case"reauthViaRedirect":return IO;default:dr(this.auth,"internal-error")}}resolve(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO=new Ru(2e3,1e4);async function CO(t,e,n){if(Cr(t.app))return Promise.reject(kr(t,"operation-not-supported-in-this-environment"));const r=Po(t);sx(t,e,xg);const i=LT(r,n);return new Yo(r,"signInViaPopup",e,i).executeNotNull()}class Yo extends MT{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Yo.currentPopupAction&&Yo.currentPopupAction.cancel(),Yo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){Ri(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,bO.get())};e()}}Yo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO="pendingRedirect",nd=new Map;class PO extends MT{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=nd.get(this.auth._key());if(!e){try{const r=await RO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}nd.set(this.auth._key(),e)}return this.bypassAuthState||nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RO(t,e){const n=OO(e),r=xO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function kO(t,e){nd.set(t._key(),e)}function xO(t){return wi(t._redirectPersistence)}function OO(t){return td(AO,t.config.apiKey,t.name)}async function NO(t,e,n=!1){if(Cr(t.app))return Promise.reject(Ii(t));const r=Po(t),i=LT(r,e),s=await new PO(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=10*60*1e3;class LO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!VT(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=DO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zw(e))}saveEventToCache(e){this.cachedEventUids.add(Zw(e)),this.lastProcessedEventTime=Date.now()}}function Zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function VT({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(t,e={}){return Ao(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,UO=/^https?/;async function jO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await VO(t);for(const n of e)try{if(BO(n))return}catch{}dr(t,"unauthorized-domain")}function BO(t){const e=em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!UO.test(n))return!1;if(FO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO=new Ru(3e4,6e4);function e_(){const t=Gr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $O(t){return new Promise((e,n)=>{var r,i,o;function s(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(kr(t,"network-request-failed"))},timeout:zO.get()})}if(!((i=(r=Gr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Gr().gapi)===null||o===void 0)&&o.load)s();else{const l=Lx("iframefcb");return Gr()[l]=()=>{gapi.load?s():n(kr(t,"network-request-failed"))},TT(`${Dx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw rd=null,e})}let rd=null;function HO(t){return rd=rd||$O(t),rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Ru(5e3,15e3),WO="__/auth/iframe",KO="emulator/auth/iframe",GO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YO(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cg(e,KO):`https://${t.config.authDomain}/${WO}`,r={apiKey:e.apiKey,appName:t.name,v:bs},i=QO.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Pu(r).slice(1)}`}async function XO(t){const e=await HO(t),n=Gr().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:YO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GO,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=kr(t,"network-request-failed"),l=Gr().setTimeout(()=>{o(s)},qO.get());function u(){Gr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZO=500,eN=600,tN="_blank",nN="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rN(t,e,n,r=ZO,i=eN){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},JO),{width:r.toString(),height:i.toString(),top:o,left:s}),d=en().toLowerCase();n&&(l=mT(d)?tN:n),pT(d)&&(e=e||nN,u.scrollbars="yes");const p=Object.entries(u).reduce((w,[C,x])=>`${w}${C}=${x},`,"");if(Sx(d)&&l!=="_self")return iN(e||"",l),new t_(null);const y=window.open(e||"",l,p);me(y,t,"popup-blocked");try{y.focus()}catch{}return new t_(y)}function iN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",sN="emulator/auth/handler",aN=encodeURIComponent("fac");async function n_(t,e,n,r,i,o){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:bs,eventId:i};if(e instanceof xg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",qR(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,y]of Object.entries({}))s[p]=y}if(e instanceof xu){const p=e.getScopes().filter(y=>y!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const p of Object.keys(l))l[p]===void 0&&delete l[p];const u=await t._getAppCheckToken(),d=u?`#${aN}=${encodeURIComponent(u)}`:"";return`${lN(t)}?${Pu(l).slice(1)}${d}`}function lN({config:t}){return t.emulator?Cg(t,sN):`https://${t.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="webStorageSupport";class uN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kT,this._completeRedirectFn=NO,this._overrideRedirectResult=kO}async _openPopup(e,n,r,i){var o;Ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await n_(e,n,r,em(),i);return rN(e,s,Og())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await n_(e,n,r,em(),i);return hO(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ri(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XO(e),r=new LO(e);return n.register("authEvent",i=>(me(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send($f,{type:$f},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[$f];s!==void 0&&n(!!s),dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _T()||Pg()||bh()}}const cN=uN;var r_="@firebase/auth",i_="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fN(t){Or(new cr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;me(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(t)},d=new xx(r,i,o,u);return jx(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Or(new cr("auth-internal",e=>{const n=Po(e.getProvider("auth").getImmediate());return(r=>new dN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mn(r_,i_,hN(t)),Mn(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=5*60,mN=Q1("authIdTokenMaxAge")||pN;let o_=null;const gN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>mN)return;const i=n==null?void 0:n.token;o_!==i&&(o_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function yN(t=Sh()){const e=bo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ux(t,{popupRedirectResolver:cN,persistence:[EO,uO,kT]}),r=Q1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=gN(o.toString());iO(n,s,()=>s(n.currentUser)),rO(n,l=>s(l))}}const i=W1("auth");return i&&Bx(n,`http://${i}`),n}function vN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ox({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=kr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",vN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fN("Browser");var FT={exports:{}};/*!
* sweetalert2 v11.12.2
* Released under the MIT License.
*/(function(t,e){(function(n,r){t.exports=r()})(Bi,function(){function n(v,c){(c==null||c>v.length)&&(c=v.length);for(var h=0,g=Array(c);h<c;h++)g[h]=v[h];return g}function r(v){if(Array.isArray(v))return v}function i(v){if(Array.isArray(v))return n(v)}function o(v,c,h){if(typeof v=="function"?v===c:v.has(c))return arguments.length<3?c:h;throw new TypeError("Private element is not present on this object")}function s(v){if(v===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v}function l(v,c,h){return c=T(c),I(v,B()?Reflect.construct(c,h||[],T(v).constructor):c.apply(v,h))}function u(v,c){if(c.has(v))throw new TypeError("Cannot initialize the same private elements twice on an object")}function d(v,c){if(!(v instanceof c))throw new TypeError("Cannot call a class as a function")}function p(v,c){return v.get(o(v,c))}function y(v,c,h){u(v,c),c.set(v,h)}function w(v,c,h){return v.set(o(v,c),h),h}function C(v,c,h){if(B())return Reflect.construct.apply(null,arguments);var g=[null];g.push.apply(g,c);var A=new(v.bind.apply(v,g));return A}function x(v,c){for(var h=0;h<c.length;h++){var g=c[h];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(v,tn(g.key),g)}}function O(v,c,h){return c&&x(v.prototype,c),Object.defineProperty(v,"prototype",{writable:!1}),v}function V(v,c){var h=typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(!h){if(Array.isArray(v)||(h=xe(v))||c){h&&(v=h);var g=0,A=function(){};return{s:A,n:function(){return g>=v.length?{done:!0}:{done:!1,value:v[g++]}},e:function(_e){throw _e},f:A}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var W,ie=!0,Ie=!1;return{s:function(){h=h.call(v)},n:function(){var _e=h.next();return ie=_e.done,_e},e:function(_e){Ie=!0,W=_e},f:function(){try{ie||h.return==null||h.return()}finally{if(Ie)throw W}}}}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(v,c,h){var g=F(v,c);if(g){var A=Object.getOwnPropertyDescriptor(g,c);return A.get?A.get.call(arguments.length<3?v:h):A.value}},b.apply(null,arguments)}function T(v){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)},T(v)}function P(v,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function");v.prototype=Object.create(c&&c.prototype,{constructor:{value:v,writable:!0,configurable:!0}}),Object.defineProperty(v,"prototype",{writable:!1}),c&&R(v,c)}function B(){try{var v=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(B=function(){return!!v})()}function G(v){if(typeof Symbol<"u"&&v[Symbol.iterator]!=null||v["@@iterator"]!=null)return Array.from(v)}function L(v,c){var h=v==null?null:typeof Symbol<"u"&&v[Symbol.iterator]||v["@@iterator"];if(h!=null){var g,A,W,ie,Ie=[],_e=!0,yt=!1;try{if(W=(h=h.call(v)).next,c!==0)for(;!(_e=(g=W.call(h)).done)&&(Ie.push(g.value),Ie.length!==c);_e=!0);}catch(el){yt=!0,A=el}finally{try{if(!_e&&h.return!=null&&(ie=h.return(),Object(ie)!==ie))return}finally{if(yt)throw A}}return Ie}}function S(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(v,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s(v)}function R(v,c){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(h,g){return h.__proto__=g,h},R(v,c)}function D(v,c){return r(v)||L(v,c)||xe(v,c)||S()}function F(v,c){for(;!{}.hasOwnProperty.call(v,c)&&(v=T(v))!==null;);return v}function k(v){return i(v)||G(v)||xe(v)||E()}function Fe(v,c){if(typeof v!="object"||!v)return v;var h=v[Symbol.toPrimitive];if(h!==void 0){var g=h.call(v,c);if(typeof g!="object")return g;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(v)}function tn(v){var c=Fe(v,"string");return typeof c=="symbol"?c:c+""}function Ke(v){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},Ke(v)}function xe(v,c){if(v){if(typeof v=="string")return n(v,c);var h={}.toString.call(v).slice(8,-1);return h==="Object"&&v.constructor&&(h=v.constructor.name),h==="Map"||h==="Set"?Array.from(v):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?n(v,c):void 0}}var re=100,Z={},pe=function(){Z.previousActiveElement instanceof HTMLElement?(Z.previousActiveElement.focus(),Z.previousActiveElement=null):document.body&&document.body.focus()},Re=function(c){return new Promise(function(h){if(!c)return h();var g=window.scrollX,A=window.scrollY;Z.restoreFocusTimeout=setTimeout(function(){pe(),h()},re),window.scrollTo(g,A)})},be="swal2-",He=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],$=He.reduce(function(v,c){return v[c]=be+c,v},{}),Rt=["success","warning","info","question","error"],mt=Rt.reduce(function(v,c){return v[c]=be+c,v},{}),Sn="SweetAlert2:",ti=function(c){return c.charAt(0).toUpperCase()+c.slice(1)},Ft=function(c){console.warn("".concat(Sn," ").concat(Ke(c)==="object"?c.join(" "):c))},bn=function(c){console.error("".concat(Sn," ").concat(c))},ni=[],wt=function(c){ni.includes(c)||(ni.push(c),Ft(c))},Fn=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;wt('"'.concat(c,'" is deprecated and will be removed in the next major release.').concat(h?' Use "'.concat(h,'" instead.'):""))},fr=function(c){return typeof c=="function"?c():c},ri=function(c){return c&&typeof c.toPromise=="function"},nn=function(c){return ri(c)?c.toPromise():Promise.resolve(c)},Ro=function(c){return c&&Promise.resolve(c)===c},Ut=function(){return document.body.querySelector(".".concat($.container))},pr=function(c){var h=Ut();return h?h.querySelector(c):null},kt=function(c){return pr(".".concat(c))},Oe=function(){return kt($.popup)},ii=function(){return kt($.icon)},ko=function(){return kt($["icon-content"])},Qn=function(){return kt($.title)},Yn=function(){return kt($["html-container"])},gt=function(){return kt($.image)},at=function(){return kt($["progress-steps"])},jt=function(){return kt($["validation-message"])},lt=function(){return pr(".".concat($.actions," .").concat($.confirm))},Xn=function(){return pr(".".concat($.actions," .").concat($.cancel))},Cn=function(){return pr(".".concat($.actions," .").concat($.deny))},oi=function(){return kt($["input-label"])},Bt=function(){return pr(".".concat($.loader))},mr=function(){return kt($.actions)},si=function(){return kt($.footer)},ai=function(){return kt($["timer-progress-bar"])},xo=function(){return kt($.close)},Li=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,gr=function(){var c=Oe();if(!c)return[];var h=c.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),g=Array.from(h).sort(function(ie,Ie){var _e=parseInt(ie.getAttribute("tabindex")||"0"),yt=parseInt(Ie.getAttribute("tabindex")||"0");return _e>yt?1:_e<yt?-1:0}),A=c.querySelectorAll(Li),W=Array.from(A).filter(function(ie){return ie.getAttribute("tabindex")!=="-1"});return k(new Set(g.concat(W))).filter(function(ie){return Y(ie)})},li=function(){return xt(document.body,$.shown)&&!xt(document.body,$["toast-shown"])&&!xt(document.body,$["no-backdrop"])},An=function(){var c=Oe();return c?xt(c,$.toast):!1},Dr=function(){var c=Oe();return c?c.hasAttribute("data-loading"):!1},_t=function(c,h){if(c.textContent="",h){var g=new DOMParser,A=g.parseFromString(h,"text/html"),W=A.querySelector("head");W&&Array.from(W.childNodes).forEach(function(Ie){c.appendChild(Ie)});var ie=A.querySelector("body");ie&&Array.from(ie.childNodes).forEach(function(Ie){Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?c.appendChild(Ie.cloneNode(!0)):c.appendChild(Ie)})}},xt=function(c,h){if(!h)return!1;for(var g=h.split(/\s+/),A=0;A<g.length;A++)if(!c.classList.contains(g[A]))return!1;return!0},Oo=function(c,h){Array.from(c.classList).forEach(function(g){!Object.values($).includes(g)&&!Object.values(mt).includes(g)&&!Object.values(h.showClass||{}).includes(g)&&c.classList.remove(g)})},Ot=function(c,h,g){if(Oo(c,h),!!h.customClass){var A=h.customClass[g];if(A){if(typeof A!="string"&&!A.forEach){Ft("Invalid type of customClass.".concat(g,'! Expected string or iterable object, got "').concat(Ke(A),'"'));return}fe(c,A)}}},Lr=function(c,h){if(!h)return null;switch(h){case"select":case"textarea":case"file":return c.querySelector(".".concat($.popup," > .").concat($[h]));case"checkbox":return c.querySelector(".".concat($.popup," > .").concat($.checkbox," input"));case"radio":return c.querySelector(".".concat($.popup," > .").concat($.radio," input:checked"))||c.querySelector(".".concat($.popup," > .").concat($.radio," input:first-child"));case"range":return c.querySelector(".".concat($.popup," > .").concat($.range," input"));default:return c.querySelector(".".concat($.popup," > .").concat($.input))}},Jn=function(c){if(c.focus(),c.type!=="file"){var h=c.value;c.value="",c.value=h}},Mr=function(c,h,g){!c||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(function(A){Array.isArray(c)?c.forEach(function(W){g?W.classList.add(A):W.classList.remove(A)}):g?c.classList.add(A):c.classList.remove(A)}))},fe=function(c,h){Mr(c,h,!0)},pn=function(c,h){Mr(c,h,!1)},N=function(c,h){for(var g=Array.from(c.children),A=0;A<g.length;A++){var W=g[A];if(W instanceof HTMLElement&&xt(W,h))return W}},M=function(c,h,g){g==="".concat(parseInt(g))&&(g=parseInt(g)),g||parseInt(g)===0?c.style.setProperty(h,typeof g=="number"?"".concat(g,"px"):g):c.style.removeProperty(h)},z=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";c&&(c.style.display=h)},q=function(c){c&&(c.style.display="none")},ne=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";c&&new MutationObserver(function(){de(c,c.innerHTML,h)}).observe(c,{childList:!0,subtree:!0})},ae=function(c,h,g,A){var W=c.querySelector(h);W&&W.style.setProperty(g,A)},de=function(c,h){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?z(c,g):q(c)},Y=function(c){return!!(c&&(c.offsetWidth||c.offsetHeight||c.getClientRects().length))},ge=function(){return!Y(lt())&&!Y(Cn())&&!Y(Xn())},ue=function(c){return c.scrollHeight>c.clientHeight},ce=function(c){var h=window.getComputedStyle(c),g=parseFloat(h.getPropertyValue("animation-duration")||"0"),A=parseFloat(h.getPropertyValue("transition-duration")||"0");return g>0||A>0},Te=function(c){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,g=ai();g&&Y(g)&&(h&&(g.style.transition="none",g.style.width="100%"),setTimeout(function(){g.style.transition="width ".concat(c/1e3,"s linear"),g.style.width="0%"},10))},Ne=function(){var c=ai();if(c){var h=parseInt(window.getComputedStyle(c).width);c.style.removeProperty("transition"),c.style.width="100%";var g=parseInt(window.getComputedStyle(c).width),A=h/g*100;c.style.width="".concat(A,"%")}},Me=function(){return typeof window>"u"||typeof document>"u"},Ae=`
 <div aria-labelledby="`.concat($.title,'" aria-describedby="').concat($["html-container"],'" class="').concat($.popup,`" tabindex="-1">
   <button type="button" class="`).concat($.close,`"></button>
   <ul class="`).concat($["progress-steps"],`"></ul>
   <div class="`).concat($.icon,`"></div>
   <img class="`).concat($.image,`" />
   <h2 class="`).concat($.title,'" id="').concat($.title,`"></h2>
   <div class="`).concat($["html-container"],'" id="').concat($["html-container"],`"></div>
   <input class="`).concat($.input,'" id="').concat($.input,`" />
   <input type="file" class="`).concat($.file,`" />
   <div class="`).concat($.range,`">
     <input type="range" />
     <output></output>
   </div>
   <select class="`).concat($.select,'" id="').concat($.select,`"></select>
   <div class="`).concat($.radio,`"></div>
   <label class="`).concat($.checkbox,`">
     <input type="checkbox" id="`).concat($.checkbox,`" />
     <span class="`).concat($.label,`"></span>
   </label>
   <textarea class="`).concat($.textarea,'" id="').concat($.textarea,`"></textarea>
   <div class="`).concat($["validation-message"],'" id="').concat($["validation-message"],`"></div>
   <div class="`).concat($.actions,`">
     <div class="`).concat($.loader,`"></div>
     <button type="button" class="`).concat($.confirm,`"></button>
     <button type="button" class="`).concat($.deny,`"></button>
     <button type="button" class="`).concat($.cancel,`"></button>
   </div>
   <div class="`).concat($.footer,`"></div>
   <div class="`).concat($["timer-progress-bar-container"],`">
     <div class="`).concat($["timer-progress-bar"],`"></div>
   </div>
 </div>
`).replace(/(^|\n)\s*/g,""),ut=function(){var c=Ut();return c?(c.remove(),pn([document.documentElement,document.body],[$["no-backdrop"],$["toast-shown"],$["has-column"]]),!0):!1},Be=function(){Z.currentInstance.resetValidationMessage()},Vr=function(){var c=Oe(),h=N(c,$.input),g=N(c,$.file),A=c.querySelector(".".concat($.range," input")),W=c.querySelector(".".concat($.range," output")),ie=N(c,$.select),Ie=c.querySelector(".".concat($.checkbox," input")),_e=N(c,$.textarea);h.oninput=Be,g.onchange=Be,ie.onchange=Be,Ie.onchange=Be,_e.oninput=Be,A.oninput=function(){Be(),W.value=A.value},A.onchange=function(){Be(),W.value=A.value}},Zn=function(c){return typeof c=="string"?document.querySelector(c):c},Un=function(c){var h=Oe();h.setAttribute("role",c.toast?"alert":"dialog"),h.setAttribute("aria-live",c.toast?"polite":"assertive"),c.toast||h.setAttribute("aria-modal","true")},yr=function(c){window.getComputedStyle(c).direction==="rtl"&&fe(Ut(),$.rtl)},er=function(c){var h=ut();if(Me()){bn("SweetAlert2 requires document to initialize");return}var g=document.createElement("div");g.className=$.container,h&&fe(g,$["no-transition"]),_t(g,Ae);var A=Zn(c.target);A.appendChild(g),Un(c),yr(A),Vr()},It=function(c,h){c instanceof HTMLElement?h.appendChild(c):Ke(c)==="object"?Pn(c,h):c&&_t(h,c)},Pn=function(c,h){c.jquery?Fr(h,c):_t(h,c.toString())},Fr=function(c,h){if(c.textContent="",0 in h)for(var g=0;g in h;g++)c.appendChild(h[g].cloneNode(!0));else c.appendChild(h.cloneNode(!0))},Rn=function(){if(Me())return!1;var v=document.createElement("div");return typeof v.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof v.style.animation<"u"?"animationend":!1}(),ve=function(c,h){var g=mr(),A=Bt();!g||!A||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?q(g):z(g),Ot(g,h,"actions"),Ge(g,A,h),_t(A,h.loaderHtml||""),Ot(A,h,"loader"))};function Ge(v,c,h){var g=lt(),A=Cn(),W=Xn();!g||!A||!W||(Ue(g,"confirm",h),Ue(A,"deny",h),Ue(W,"cancel",h),zt(g,A,W,h),h.reverseButtons&&(h.toast?(v.insertBefore(W,g),v.insertBefore(A,g)):(v.insertBefore(W,c),v.insertBefore(A,c),v.insertBefore(g,c))))}function zt(v,c,h,g){if(!g.buttonsStyling){pn([v,c,h],$.styled);return}fe([v,c,h],$.styled),g.confirmButtonColor&&(v.style.backgroundColor=g.confirmButtonColor,fe(v,$["default-outline"])),g.denyButtonColor&&(c.style.backgroundColor=g.denyButtonColor,fe(c,$["default-outline"])),g.cancelButtonColor&&(h.style.backgroundColor=g.cancelButtonColor,fe(h,$["default-outline"]))}function Ue(v,c,h){var g=ti(c);de(v,h["show".concat(g,"Button")],"inline-block"),_t(v,h["".concat(c,"ButtonText")]||""),v.setAttribute("aria-label",h["".concat(c,"ButtonAriaLabel")]||""),v.className=$[c],Ot(v,h,"".concat(c,"Button"))}var mn=function(c,h){var g=xo();g&&(_t(g,h.closeButtonHtml||""),Ot(g,h,"closeButton"),de(g,h.showCloseButton),g.setAttribute("aria-label",h.closeButtonAriaLabel||""))},No=function(c,h){var g=Ut();g&&(Ps(g,h.backdrop),qh(g,h.position),Wh(g,h.grow),Ot(g,h,"container"))};function Ps(v,c){typeof c=="string"?v.style.background=c:c||fe([document.documentElement,document.body],$["no-backdrop"])}function qh(v,c){c&&(c in $?fe(v,$[c]):(Ft('The "position" parameter is not valid, defaulting to "center"'),fe(v,$.center)))}function Wh(v,c){c&&fe(v,$["grow-".concat(c)])}var qe={innerParams:new WeakMap,domCache:new WeakMap},zu=["input","file","range","select","radio","checkbox","textarea"],Kh=function(c,h){var g=Oe();if(g){var A=qe.innerParams.get(c),W=!A||h.input!==A.input;zu.forEach(function(ie){var Ie=N(g,$[ie]);Ie&&(Rs(ie,h.inputAttributes),Ie.className=$[ie],W&&q(Ie))}),h.input&&(W&&ui(h),ks(h))}},ui=function(c){if(c.input){if(!Qe[c.input]){bn("Unexpected type of input! Expected ".concat(Object.keys(Qe).join(" | "),', got "').concat(c.input,'"'));return}var h=Do(c.input),g=Qe[c.input](h,c);z(h),c.inputAutoFocus&&setTimeout(function(){Jn(g)})}},vr=function(c){for(var h=0;h<c.attributes.length;h++){var g=c.attributes[h].name;["id","type","value","style"].includes(g)||c.removeAttribute(g)}},Rs=function(c,h){var g=Lr(Oe(),c);if(g){vr(g);for(var A in h)g.setAttribute(A,h[A])}},ks=function(c){var h=Do(c.input);Ke(c.customClass)==="object"&&fe(h,c.customClass.input)},xs=function(c,h){(!c.placeholder||h.inputPlaceholder)&&(c.placeholder=h.inputPlaceholder)},ze=function(c,h,g){if(g.inputLabel){var A=document.createElement("label"),W=$["input-label"];A.setAttribute("for",c.id),A.className=W,Ke(g.customClass)==="object"&&fe(A,g.customClass.inputLabel),A.innerText=g.inputLabel,h.insertAdjacentElement("beforebegin",A)}},Do=function(c){return N(Oe(),$[c]||$.input)},Ur=function(c,h){["string","number"].includes(Ke(h))?c.value="".concat(h):Ro(h)||Ft('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(Ke(h),'"'))},Qe={};Qe.text=Qe.email=Qe.password=Qe.number=Qe.tel=Qe.url=Qe.search=Qe.date=Qe["datetime-local"]=Qe.time=Qe.week=Qe.month=function(v,c){return Ur(v,c.inputValue),ze(v,v,c),xs(v,c),v.type=c.input,v},Qe.file=function(v,c){return ze(v,v,c),xs(v,c),v},Qe.range=function(v,c){var h=v.querySelector("input"),g=v.querySelector("output");return Ur(h,c.inputValue),h.type=c.input,Ur(g,c.inputValue),ze(h,v,c),v},Qe.select=function(v,c){if(v.textContent="",c.inputPlaceholder){var h=document.createElement("option");_t(h,c.inputPlaceholder),h.value="",h.disabled=!0,h.selected=!0,v.appendChild(h)}return ze(v,v,c),v},Qe.radio=function(v){return v.textContent="",v},Qe.checkbox=function(v,c){var h=Lr(Oe(),"checkbox");h.value="1",h.checked=!!c.inputValue;var g=v.querySelector("span");return _t(g,c.inputPlaceholder),h},Qe.textarea=function(v,c){Ur(v,c.inputValue),xs(v,c),ze(v,v,c);var h=function(A){return parseInt(window.getComputedStyle(A).marginLeft)+parseInt(window.getComputedStyle(A).marginRight)};return setTimeout(function(){if("MutationObserver"in window){var g=parseInt(window.getComputedStyle(Oe()).width),A=function(){if(document.body.contains(v)){var ie=v.offsetWidth+h(v);ie>g?Oe().style.width="".concat(ie,"px"):M(Oe(),"width",c.width)}};new MutationObserver(A).observe(v,{attributes:!0,attributeFilter:["style"]})}}),v};var Gh=function(c,h){var g=Yn();g&&(ne(g),Ot(g,h,"htmlContainer"),h.html?(It(h.html,g),z(g,"block")):h.text?(g.textContent=h.text,z(g,"block")):q(g),Kh(c,h))},$u=function(c,h){var g=si();g&&(ne(g),de(g,h.footer,"block"),h.footer&&It(h.footer,g),Ot(g,h,"footer"))},Qh=function(c,h){var g=qe.innerParams.get(c),A=ii();if(A){if(g&&h.icon===g.icon){wr(A,h),Hu(A,h);return}if(!h.icon&&!h.iconHtml){q(A);return}if(h.icon&&Object.keys(mt).indexOf(h.icon)===-1){bn('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(h.icon,'"')),q(A);return}z(A),wr(A,h),Hu(A,h),fe(A,h.showClass&&h.showClass.icon)}},Hu=function(c,h){for(var g=0,A=Object.entries(mt);g<A.length;g++){var W=D(A[g],2),ie=W[0],Ie=W[1];h.icon!==ie&&pn(c,Ie)}fe(c,h.icon&&mt[h.icon]),qu(c,h),Yh(),Ot(c,h,"icon")},Yh=function(){var c=Oe();if(c)for(var h=window.getComputedStyle(c).getPropertyValue("background-color"),g=c.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),A=0;A<g.length;A++)g[A].style.backgroundColor=h},Xh=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Lo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,wr=function(c,h){if(!(!h.icon&&!h.iconHtml)){var g=c.innerHTML,A="";if(h.iconHtml)A=Ka(h.iconHtml);else if(h.icon==="success")A=Xh,g=g.replace(/ style=".*?"/g,"");else if(h.icon==="error")A=Lo;else if(h.icon){var W={question:"?",warning:"!",info:"i"};A=Ka(W[h.icon])}g.trim()!==A.trim()&&_t(c,A)}},qu=function(c,h){if(h.iconColor){c.style.color=h.iconColor,c.style.borderColor=h.iconColor;for(var g=0,A=[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"];g<A.length;g++){var W=A[g];ae(c,W,"background-color",h.iconColor)}ae(c,".swal2-success-ring","border-color",h.iconColor)}},Ka=function(c){return'<div class="'.concat($["icon-content"],'">').concat(c,"</div>")},Wu=function(c,h){var g=gt();if(g){if(!h.imageUrl){q(g);return}z(g,""),g.setAttribute("src",h.imageUrl),g.setAttribute("alt",h.imageAlt||""),M(g,"width",h.imageWidth),M(g,"height",h.imageHeight),g.className=$.image,Ot(g,h,"image")}},Mi=function(c,h){var g=Ut(),A=Oe();if(!(!g||!A)){if(h.toast){M(g,"width",h.width),A.style.width="100%";var W=Bt();W&&A.insertBefore(W,ii())}else M(A,"width",h.width);M(A,"padding",h.padding),h.color&&(A.style.color=h.color),h.background&&(A.style.background=h.background),q(jt()),Jh(A,h)}},Jh=function(c,h){var g=h.showClass||{};c.className="".concat($.popup," ").concat(Y(c)?g.popup:""),h.toast?(fe([document.documentElement,document.body],$["toast-shown"]),fe(c,$.toast)):fe(c,$.modal),Ot(c,h,"popup"),typeof h.customClass=="string"&&fe(c,h.customClass),h.icon&&fe(c,$["icon-".concat(h.icon)])},Zh=function(c,h){var g=at();if(g){var A=h.progressSteps,W=h.currentProgressStep;if(!A||A.length===0||W===void 0){q(g);return}z(g),g.textContent="",W>=A.length&&Ft("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),A.forEach(function(ie,Ie){var _e=ef(ie);if(g.appendChild(_e),Ie===W&&fe(_e,$["active-progress-step"]),Ie!==A.length-1){var yt=jr(h);g.appendChild(yt)}})}},ef=function(c){var h=document.createElement("li");return fe(h,$["progress-step"]),_t(h,c),h},jr=function(c){var h=document.createElement("li");return fe(h,$["progress-step-line"]),c.progressStepsDistance&&M(h,"width",c.progressStepsDistance),h},tf=function(c,h){var g=Qn();g&&(ne(g),de(g,h.title||h.titleText,"block"),h.title&&It(h.title,g),h.titleText&&(g.innerText=h.titleText),Ot(g,h,"title"))},Ku=function(c,h){Mi(c,h),No(c,h),Zh(c,h),Qh(c,h),Wu(c,h),tf(c,h),mn(c,h),Gh(c,h),ve(c,h),$u(c,h);var g=Oe();typeof h.didRender=="function"&&g&&h.didRender(g)},Mo=function(){return Y(Oe())},Vo=function(){var c;return(c=lt())===null||c===void 0?void 0:c.click()},Gu=function(){var c;return(c=Cn())===null||c===void 0?void 0:c.click()},Fo=function(){var c;return(c=Xn())===null||c===void 0?void 0:c.click()},tr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ga=function(c){c.keydownTarget&&c.keydownHandlerAdded&&(c.keydownTarget.removeEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!1)},Qa=function(c,h,g){Ga(c),h.toast||(c.keydownHandler=function(A){return Yu(h,A,g)},c.keydownTarget=h.keydownListenerCapture?window:Oe(),c.keydownListenerCapture=h.keydownListenerCapture,c.keydownTarget.addEventListener("keydown",c.keydownHandler,{capture:c.keydownListenerCapture}),c.keydownHandlerAdded=!0)},Ye=function(c,h){var g,A=gr();if(A.length){c=c+h,c===A.length?c=0:c===-1&&(c=A.length-1),A[c].focus();return}(g=Oe())===null||g===void 0||g.focus()},Qu=["ArrowRight","ArrowDown"],nf=["ArrowLeft","ArrowUp"],Yu=function(c,h,g){c&&(h.isComposing||h.keyCode===229||(c.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?Xu(h,c):h.key==="Tab"?Ju(h):[].concat(Qu,nf).includes(h.key)?Os(h.key):h.key==="Escape"&&Zu(h,c,g)))},Xu=function(c,h){if(fr(h.allowEnterKey)){var g=Lr(Oe(),h.input);if(c.target&&g&&c.target instanceof HTMLElement&&c.target.outerHTML===g.outerHTML){if(["textarea","file"].includes(h.input))return;Vo(),c.preventDefault()}}},Ju=function(c){for(var h=c.target,g=gr(),A=-1,W=0;W<g.length;W++)if(h===g[W]){A=W;break}c.shiftKey?Ye(A,-1):Ye(A,1),c.stopPropagation(),c.preventDefault()},Os=function(c){var h=mr(),g=lt(),A=Cn(),W=Xn();if(!(!h||!g||!A||!W)){var ie=[g,A,W];if(!(document.activeElement instanceof HTMLElement&&!ie.includes(document.activeElement))){var Ie=Qu.includes(c)?"nextElementSibling":"previousElementSibling",_e=document.activeElement;if(_e){for(var yt=0;yt<h.children.length;yt++){if(_e=_e[Ie],!_e)return;if(_e instanceof HTMLButtonElement&&Y(_e))break}_e instanceof HTMLButtonElement&&_e.focus()}}}},Zu=function(c,h,g){fr(h.allowEscapeKey)&&(c.preventDefault(),g(tr.esc))},rn={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap},ec=function(){var c=Ut(),h=Array.from(document.body.children);h.forEach(function(g){g.contains(c)||(g.hasAttribute("aria-hidden")&&g.setAttribute("data-previous-aria-hidden",g.getAttribute("aria-hidden")||""),g.setAttribute("aria-hidden","true"))})},tc=function(){var c=Array.from(document.body.children);c.forEach(function(h){h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Vi=typeof window<"u"&&!!window.GestureEvent,nc=function(){if(Vi&&!xt(document.body,$.iosfix)){var c=document.body.scrollTop;document.body.style.top="".concat(c*-1,"px"),fe(document.body,$.iosfix),Ya()}},Ya=function(){var c=Ut();if(c){var h;c.ontouchstart=function(g){h=Ns(g)},c.ontouchmove=function(g){h&&(g.preventDefault(),g.stopPropagation())}}},Ns=function(c){var h=c.target,g=Ut(),A=Yn();return!g||!A||rc(c)||Ds(c)?!1:h===g||!ue(g)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(ue(A)&&A.contains(h))},rc=function(c){return c.touches&&c.touches.length&&c.touches[0].touchType==="stylus"},Ds=function(c){return c.touches&&c.touches.length>1},rf=function(){if(xt(document.body,$.iosfix)){var c=parseInt(document.body.style.top,10);pn(document.body,$.iosfix),document.body.style.top="",document.body.scrollTop=c*-1}},ic=function(){var c=document.createElement("div");c.className=$["scrollbar-measure"],document.body.appendChild(c);var h=c.getBoundingClientRect().width-c.clientWidth;return document.body.removeChild(c),h},nr=null,oc=function(c){nr===null&&(document.body.scrollHeight>window.innerHeight||c==="scroll")&&(nr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(nr+ic(),"px"))},sc=function(){nr!==null&&(document.body.style.paddingRight="".concat(nr,"px"),nr=null)};function Ls(v,c,h,g){An()?Za(v,g):(Re(h).then(function(){return Za(v,g)}),Ga(Z)),Vi?(c.setAttribute("style","display:none !important"),c.removeAttribute("class"),c.innerHTML=""):c.remove(),li()&&(sc(),rf(),tc()),Xa()}function Xa(){pn([document.documentElement,document.body],[$.shown,$["height-auto"],$["no-backdrop"],$["toast-shown"]])}function _r(v){v=ci(v);var c=rn.swalPromiseResolve.get(this),h=Ms(this);this.isAwaitingPromise?v.isDismissed||(Fi(this),c(v)):h&&c(v)}var Ms=function(c){var h=Oe();if(!h)return!1;var g=qe.innerParams.get(c);if(!g||xt(h,g.hideClass.popup))return!1;pn(h,g.showClass.popup),fe(h,g.hideClass.popup);var A=Ut();return pn(A,g.showClass.backdrop),fe(A,g.hideClass.backdrop),ac(c,h,g),!0};function Ja(v){var c=rn.swalPromiseReject.get(this);Fi(this),c&&c(v)}var Fi=function(c){c.isAwaitingPromise&&(delete c.isAwaitingPromise,qe.innerParams.get(c)||c._destroy())},ci=function(c){return typeof c>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},c)},ac=function(c,h,g){var A=Ut(),W=Rn&&ce(h);typeof g.willClose=="function"&&g.willClose(h),W?lc(c,h,A,g.returnFocus,g.didClose):Ls(c,A,g.returnFocus,g.didClose)},lc=function(c,h,g,A,W){Rn&&(Z.swalCloseEventFinishedCallback=Ls.bind(null,c,g,A,W),h.addEventListener(Rn,function(ie){ie.target===h&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback)}))},Za=function(c,h){setTimeout(function(){typeof h=="function"&&h.bind(c.params)(),c._destroy&&c._destroy()})},di=function(c){var h=Oe();if(h||new pc,h=Oe(),!!h){var g=Bt();An()?q(ii()):Vs(h,c),z(g),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()}},Vs=function(c,h){var g=mr(),A=Bt();!g||!A||(!h&&Y(lt())&&(h=lt()),z(g),h&&(q(h),A.setAttribute("data-button-to-replace",h.className),g.insertBefore(A,h)),fe([c,g],$.loading))},gn=function(c,h){h.input==="select"||h.input==="radio"?f(c,h):["text","email","number","tel","textarea"].some(function(g){return g===h.input})&&(ri(h.inputValue)||Ro(h.inputValue))&&(di(lt()),m(c,h))},uc=function(c,h){var g=c.getInput();if(!g)return null;switch(h.input){case"checkbox":return cc(g);case"radio":return Ui(g);case"file":return a(g);default:return h.inputAutoTrim?g.value.trim():g.value}},cc=function(c){return c.checked?1:0},Ui=function(c){return c.checked?c.value:null},a=function(c){return c.files&&c.files.length?c.getAttribute("multiple")!==null?c.files:c.files[0]:null},f=function(c,h){var g=Oe();if(g){var A=function(ie){h.input==="select"?_(g,H(ie),h):h.input==="radio"&&U(g,H(ie),h)};ri(h.inputOptions)||Ro(h.inputOptions)?(di(lt()),nn(h.inputOptions).then(function(W){c.hideLoading(),A(W)})):Ke(h.inputOptions)==="object"?A(h.inputOptions):bn("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(Ke(h.inputOptions)))}},m=function(c,h){var g=c.getInput();g&&(q(g),nn(h.inputValue).then(function(A){g.value=h.input==="number"?"".concat(parseFloat(A)||0):"".concat(A),z(g),g.focus(),c.hideLoading()}).catch(function(A){bn("Error in inputValue promise: ".concat(A)),g.value="",z(g),g.focus(),c.hideLoading()}))};function _(v,c,h){var g=N(v,$.select);if(g){var A=function(ie,Ie,_e){var yt=document.createElement("option");yt.value=_e,_t(yt,Ie),yt.selected=ee(_e,h.inputValue),ie.appendChild(yt)};c.forEach(function(W){var ie=W[0],Ie=W[1];if(Array.isArray(Ie)){var _e=document.createElement("optgroup");_e.label=ie,_e.disabled=!1,g.appendChild(_e),Ie.forEach(function(yt){return A(_e,yt[1],yt[0])})}else A(g,Ie,ie)}),g.focus()}}function U(v,c,h){var g=N(v,$.radio);if(g){c.forEach(function(W){var ie=W[0],Ie=W[1],_e=document.createElement("input"),yt=document.createElement("label");_e.type="radio",_e.name=$.radio,_e.value=ie,ee(ie,h.inputValue)&&(_e.checked=!0);var el=document.createElement("span");_t(el,Ie),el.className=$.label,yt.appendChild(_e),yt.appendChild(el),g.appendChild(yt)});var A=g.querySelectorAll("input");A.length&&A[0].focus()}}var H=function v(c){var h=[];return c instanceof Map?c.forEach(function(g,A){var W=g;Ke(W)==="object"&&(W=v(W)),h.push([A,W])}):Object.keys(c).forEach(function(g){var A=c[g];Ke(A)==="object"&&(A=v(A)),h.push([g,A])}),h},ee=function(c,h){return!!h&&h.toString()===c.toString()},je=void 0,Nt=function(c){var h=qe.innerParams.get(c);c.disableButtons(),h.input?Dt(c,"confirm"):of(c,!0)},De=function(c){var h=qe.innerParams.get(c);c.disableButtons(),h.returnInputValueOnDeny?Dt(c,"deny"):yn(c,!1)},$t=function(c,h){c.disableButtons(),h(tr.cancel)},Dt=function(c,h){var g=qe.innerParams.get(c);if(!g.input){bn('The "input" parameter is needed to be set when using returnInputValueOn'.concat(ti(h)));return}var A=c.getInput(),W=uc(c,g);g.inputValidator?ji(c,W,h):A&&!A.checkValidity()?(c.enableButtons(),c.showValidationMessage(g.validationMessage||A.validationMessage)):h==="deny"?yn(c,W):of(c,W)},ji=function(c,h,g){var A=qe.innerParams.get(c);c.disableInput();var W=Promise.resolve().then(function(){return nn(A.inputValidator(h,A.validationMessage))});W.then(function(ie){c.enableButtons(),c.enableInput(),ie?c.showValidationMessage(ie):g==="deny"?yn(c,h):of(c,h)})},yn=function(c,h){var g=qe.innerParams.get(c||je);if(g.showLoaderOnDeny&&di(Cn()),g.preDeny){c.isAwaitingPromise=!0;var A=Promise.resolve().then(function(){return nn(g.preDeny(h,g.validationMessage))});A.then(function(W){W===!1?(c.hideLoading(),Fi(c)):c.close({isDenied:!0,value:typeof W>"u"?h:W})}).catch(function(W){return Fs(c||je,W)})}else c.close({isDenied:!0,value:h})},Uo=function(c,h){c.close({isConfirmed:!0,value:h})},Fs=function(c,h){c.rejectPromise(h)},of=function(c,h){var g=qe.innerParams.get(c||je);if(g.showLoaderOnConfirm&&di(),g.preConfirm){c.resetValidationMessage(),c.isAwaitingPromise=!0;var A=Promise.resolve().then(function(){return nn(g.preConfirm(h,g.validationMessage))});A.then(function(W){Y(jt())||W===!1?(c.hideLoading(),Fi(c)):Uo(c,typeof W>"u"?h:W)}).catch(function(W){return Fs(c||je,W)})}else Uo(c,h)};function dc(){var v=qe.innerParams.get(this);if(v){var c=qe.domCache.get(this);q(c.loader),An()?v.icon&&z(ii()):wb(c),pn([c.popup,c.actions],$.loading),c.popup.removeAttribute("aria-busy"),c.popup.removeAttribute("data-loading"),c.confirmButton.disabled=!1,c.denyButton.disabled=!1,c.cancelButton.disabled=!1}}var wb=function(c){var h=c.popup.getElementsByClassName(c.loader.getAttribute("data-button-to-replace"));h.length?z(h[0],"inline-block"):ge()&&q(c.actions)};function Ry(){var v=qe.innerParams.get(this),c=qe.domCache.get(this);return c?Lr(c.popup,v.input):null}function ky(v,c,h){var g=qe.domCache.get(v);c.forEach(function(A){g[A].disabled=h})}function xy(v,c){var h=Oe();if(!(!h||!v))if(v.type==="radio")for(var g=h.querySelectorAll('[name="'.concat($.radio,'"]')),A=0;A<g.length;A++)g[A].disabled=c;else v.disabled=c}function Oy(){ky(this,["confirmButton","denyButton","cancelButton"],!1)}function Ny(){ky(this,["confirmButton","denyButton","cancelButton"],!0)}function Dy(){xy(this.getInput(),!1)}function Ly(){xy(this.getInput(),!0)}function My(v){var c=qe.domCache.get(this),h=qe.innerParams.get(this);_t(c.validationMessage,v),c.validationMessage.className=$["validation-message"],h.customClass&&h.customClass.validationMessage&&fe(c.validationMessage,h.customClass.validationMessage),z(c.validationMessage);var g=this.getInput();g&&(g.setAttribute("aria-invalid","true"),g.setAttribute("aria-describedby",$["validation-message"]),Jn(g),fe(g,$.inputerror))}function Vy(){var v=qe.domCache.get(this);v.validationMessage&&q(v.validationMessage);var c=this.getInput();c&&(c.removeAttribute("aria-invalid"),c.removeAttribute("aria-describedby"),pn(c,$.inputerror))}var Us={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},_b=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Eb={allowEnterKey:void 0},Tb=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Fy=function(c){return Object.prototype.hasOwnProperty.call(Us,c)},Uy=function(c){return _b.indexOf(c)!==-1},jy=function(c){return Eb[c]},Ib=function(c){Fy(c)||Ft('Unknown parameter "'.concat(c,'"'))},Sb=function(c){Tb.includes(c)&&Ft('The parameter "'.concat(c,'" is incompatible with toasts'))},bb=function(c){var h=jy(c);h&&Fn(c,h)},Cb=function(c){c.backdrop===!1&&c.allowOutsideClick&&Ft('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(var h in c)Ib(h),c.toast&&Sb(h),bb(h)};function By(v){var c=Oe(),h=qe.innerParams.get(this);if(!c||xt(c,h.hideClass.popup)){Ft("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}var g=Ab(v),A=Object.assign({},h,g);Ku(this,A),qe.innerParams.set(this,A),Object.defineProperties(this,{params:{value:Object.assign({},this.params,v),writable:!1,enumerable:!0}})}var Ab=function(c){var h={};return Object.keys(c).forEach(function(g){Uy(g)?h[g]=c[g]:Ft("Invalid parameter to update: ".concat(g))}),h};function zy(){var v=qe.domCache.get(this),c=qe.innerParams.get(this);if(!c){$y(this);return}v.popup&&Z.swalCloseEventFinishedCallback&&(Z.swalCloseEventFinishedCallback(),delete Z.swalCloseEventFinishedCallback),typeof c.didDestroy=="function"&&c.didDestroy(),Pb(this)}var Pb=function(c){$y(c),delete c.params,delete Z.keydownHandler,delete Z.keydownTarget,delete Z.currentInstance},$y=function(c){c.isAwaitingPromise?(sf(qe,c),c.isAwaitingPromise=!0):(sf(rn,c),sf(qe,c),delete c.isAwaitingPromise,delete c.disableButtons,delete c.enableButtons,delete c.getInput,delete c.disableInput,delete c.enableInput,delete c.hideLoading,delete c.disableLoading,delete c.showValidationMessage,delete c.resetValidationMessage,delete c.close,delete c.closePopup,delete c.closeModal,delete c.closeToast,delete c.rejectPromise,delete c.update,delete c._destroy)},sf=function(c,h){for(var g in c)c[g].delete(h)},Rb=Object.freeze({__proto__:null,_destroy:zy,close:_r,closeModal:_r,closePopup:_r,closeToast:_r,disableButtons:Ny,disableInput:Ly,disableLoading:dc,enableButtons:Oy,enableInput:Dy,getInput:Ry,handleAwaitingPromise:Fi,hideLoading:dc,rejectPromise:Ja,resetValidationMessage:Vy,showValidationMessage:My,update:By}),kb=function(c,h,g){c.toast?xb(c,h,g):(Nb(h),Db(h),Lb(c,h,g))},xb=function(c,h,g){h.popup.onclick=function(){c&&(Ob(c)||c.timer||c.input)||g(tr.close)}},Ob=function(c){return!!(c.showConfirmButton||c.showDenyButton||c.showCancelButton||c.showCloseButton)},hc=!1,Nb=function(c){c.popup.onmousedown=function(){c.container.onmouseup=function(h){c.container.onmouseup=function(){},h.target===c.container&&(hc=!0)}}},Db=function(c){c.container.onmousedown=function(h){h.target===c.container&&h.preventDefault(),c.popup.onmouseup=function(g){c.popup.onmouseup=function(){},(g.target===c.popup||g.target instanceof HTMLElement&&c.popup.contains(g.target))&&(hc=!0)}}},Lb=function(c,h,g){h.container.onclick=function(A){if(hc){hc=!1;return}A.target===h.container&&fr(c.allowOutsideClick)&&g(tr.backdrop)}},Mb=function(c){return Ke(c)==="object"&&c.jquery},Hy=function(c){return c instanceof Element||Mb(c)},Vb=function(c){var h={};return Ke(c[0])==="object"&&!Hy(c[0])?Object.assign(h,c[0]):["title","html","icon"].forEach(function(g,A){var W=c[A];typeof W=="string"||Hy(W)?h[g]=W:W!==void 0&&bn("Unexpected type of ".concat(g,'! Expected "string" or "Element", got ').concat(Ke(W)))}),h};function Fb(){for(var v=this,c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];return C(v,h)}function Ub(v){var c=function(h){function g(){return d(this,g),l(this,g,arguments)}return P(g,h),O(g,[{key:"_main",value:function(W,ie){return b(T(g.prototype),"_main",this).call(this,W,Object.assign({},v,ie))}}])}(this);return c}var jb=function(){return Z.timeout&&Z.timeout.getTimerLeft()},qy=function(){if(Z.timeout)return Ne(),Z.timeout.stop()},Wy=function(){if(Z.timeout){var c=Z.timeout.start();return Te(c),c}},Bb=function(){var c=Z.timeout;return c&&(c.running?qy():Wy())},zb=function(c){if(Z.timeout){var h=Z.timeout.increase(c);return Te(h,!0),h}},$b=function(){return!!(Z.timeout&&Z.timeout.isRunning())},Ky=!1,af={};function Hb(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";af[v]=this,Ky||(document.body.addEventListener("click",qb),Ky=!0)}var qb=function(c){for(var h=c.target;h&&h!==document;h=h.parentNode)for(var g in af){var A=h.getAttribute(g);if(A){af[g].fire({template:A});return}}},Wb=Object.freeze({__proto__:null,argsToParams:Vb,bindClickHandler:Hb,clickCancel:Fo,clickConfirm:Vo,clickDeny:Gu,enableLoading:di,fire:Fb,getActions:mr,getCancelButton:Xn,getCloseButton:xo,getConfirmButton:lt,getContainer:Ut,getDenyButton:Cn,getFocusableElements:gr,getFooter:si,getHtmlContainer:Yn,getIcon:ii,getIconContent:ko,getImage:gt,getInputLabel:oi,getLoader:Bt,getPopup:Oe,getProgressSteps:at,getTimerLeft:jb,getTimerProgressBar:ai,getTitle:Qn,getValidationMessage:jt,increaseTimer:zb,isDeprecatedParameter:jy,isLoading:Dr,isTimerRunning:$b,isUpdatableParameter:Uy,isValidParameter:Fy,isVisible:Mo,mixin:Ub,resumeTimer:Wy,showLoading:di,stopTimer:qy,toggleTimer:Bb}),Kb=function(){function v(c,h){d(this,v),this.callback=c,this.remaining=h,this.running=!1,this.start()}return O(v,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}},{key:"increase",value:function(h){var g=this.running;return g&&this.stop(),this.remaining+=h,g&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}])}(),Gy=["swal-title","swal-html","swal-footer"],Gb=function(c){var h=typeof c.template=="string"?document.querySelector(c.template):c.template;if(!h)return{};var g=h.content;nC(g);var A=Object.assign(Qb(g),Yb(g),Xb(g),Jb(g),Zb(g),eC(g),tC(g,Gy));return A},Qb=function(c){var h={},g=Array.from(c.querySelectorAll("swal-param"));return g.forEach(function(A){jo(A,["name","value"]);var W=A.getAttribute("name"),ie=A.getAttribute("value");typeof Us[W]=="boolean"?h[W]=ie!=="false":Ke(Us[W])==="object"?h[W]=JSON.parse(ie):h[W]=ie}),h},Yb=function(c){var h={},g=Array.from(c.querySelectorAll("swal-function-param"));return g.forEach(function(A){var W=A.getAttribute("name"),ie=A.getAttribute("value");h[W]=new Function("return ".concat(ie))()}),h},Xb=function(c){var h={},g=Array.from(c.querySelectorAll("swal-button"));return g.forEach(function(A){jo(A,["type","color","aria-label"]);var W=A.getAttribute("type");h["".concat(W,"ButtonText")]=A.innerHTML,h["show".concat(ti(W),"Button")]=!0,A.hasAttribute("color")&&(h["".concat(W,"ButtonColor")]=A.getAttribute("color")),A.hasAttribute("aria-label")&&(h["".concat(W,"ButtonAriaLabel")]=A.getAttribute("aria-label"))}),h},Jb=function(c){var h={},g=c.querySelector("swal-image");return g&&(jo(g,["src","width","height","alt"]),g.hasAttribute("src")&&(h.imageUrl=g.getAttribute("src")||void 0),g.hasAttribute("width")&&(h.imageWidth=g.getAttribute("width")||void 0),g.hasAttribute("height")&&(h.imageHeight=g.getAttribute("height")||void 0),g.hasAttribute("alt")&&(h.imageAlt=g.getAttribute("alt")||void 0)),h},Zb=function(c){var h={},g=c.querySelector("swal-icon");return g&&(jo(g,["type","color"]),g.hasAttribute("type")&&(h.icon=g.getAttribute("type")),g.hasAttribute("color")&&(h.iconColor=g.getAttribute("color")),h.iconHtml=g.innerHTML),h},eC=function(c){var h={},g=c.querySelector("swal-input");g&&(jo(g,["type","label","placeholder","value"]),h.input=g.getAttribute("type")||"text",g.hasAttribute("label")&&(h.inputLabel=g.getAttribute("label")),g.hasAttribute("placeholder")&&(h.inputPlaceholder=g.getAttribute("placeholder")),g.hasAttribute("value")&&(h.inputValue=g.getAttribute("value")));var A=Array.from(c.querySelectorAll("swal-input-option"));return A.length&&(h.inputOptions={},A.forEach(function(W){jo(W,["value"]);var ie=W.getAttribute("value"),Ie=W.innerHTML;h.inputOptions[ie]=Ie})),h},tC=function(c,h){var g={};for(var A in h){var W=h[A],ie=c.querySelector(W);ie&&(jo(ie,[]),g[W.replace(/^swal-/,"")]=ie.innerHTML.trim())}return g},nC=function(c){var h=Gy.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(c.children).forEach(function(g){var A=g.tagName.toLowerCase();h.includes(A)||Ft("Unrecognized element <".concat(A,">"))})},jo=function(c,h){Array.from(c.attributes).forEach(function(g){h.indexOf(g.name)===-1&&Ft(['Unrecognized attribute "'.concat(g.name,'" on <').concat(c.tagName.toLowerCase(),">."),"".concat(h.length?"Allowed attributes are: ".concat(h.join(", ")):"To set the value, use HTML within the element.")])})},Qy=10,rC=function(c){var h=Ut(),g=Oe();typeof c.willOpen=="function"&&c.willOpen(g);var A=window.getComputedStyle(document.body),W=A.overflowY;aC(h,g,c),setTimeout(function(){oC(h,g)},Qy),li()&&(sC(h,c.scrollbarPadding,W),ec()),!An()&&!Z.previousActiveElement&&(Z.previousActiveElement=document.activeElement),typeof c.didOpen=="function"&&setTimeout(function(){return c.didOpen(g)}),pn(h,$["no-transition"])},iC=function v(c){var h=Oe();if(!(c.target!==h||!Rn)){var g=Ut();h.removeEventListener(Rn,v),g.style.overflowY="auto"}},oC=function(c,h){Rn&&ce(h)?(c.style.overflowY="hidden",h.addEventListener(Rn,iC)):c.style.overflowY="auto"},sC=function(c,h,g){nc(),h&&g!=="hidden"&&oc(g),setTimeout(function(){c.scrollTop=0})},aC=function(c,h,g){fe(c,g.showClass.backdrop),g.animation?(h.style.setProperty("opacity","0","important"),z(h,"grid"),setTimeout(function(){fe(h,g.showClass.popup),h.style.removeProperty("opacity")},Qy)):z(h,"grid"),fe([document.documentElement,document.body],$.shown),g.heightAuto&&g.backdrop&&!g.toast&&fe([document.documentElement,document.body],$["height-auto"])},Yy={email:function(c,h){return/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid email address")},url:function(c,h){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(c)?Promise.resolve():Promise.resolve(h||"Invalid URL")}};function lC(v){v.inputValidator||(v.input==="email"&&(v.inputValidator=Yy.email),v.input==="url"&&(v.inputValidator=Yy.url))}function uC(v){(!v.target||typeof v.target=="string"&&!document.querySelector(v.target)||typeof v.target!="string"&&!v.target.appendChild)&&(Ft('Target parameter is not valid, defaulting to "body"'),v.target="body")}function cC(v){lC(v),v.showLoaderOnConfirm&&!v.preConfirm&&Ft(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),uC(v),typeof v.title=="string"&&(v.title=v.title.split(`
`).join("<br />")),er(v)}var Br,fc=new WeakMap,Et=function(){function v(){if(d(this,v),y(this,fc,void 0),!(typeof window>"u")){Br=this;for(var c=arguments.length,h=new Array(c),g=0;g<c;g++)h[g]=arguments[g];var A=Object.freeze(this.constructor.argsToParams(h));this.params=A,this.isAwaitingPromise=!1,w(fc,this,this._main(Br.params))}}return O(v,[{key:"_main",value:function(h){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Cb(Object.assign({},g,h)),Z.currentInstance){var A=rn.swalPromiseResolve.get(Z.currentInstance),W=Z.currentInstance.isAwaitingPromise;Z.currentInstance._destroy(),W||A({isDismissed:!0}),li()&&tc()}Z.currentInstance=Br;var ie=hC(h,g);cC(ie),Object.freeze(ie),Z.timeout&&(Z.timeout.stop(),delete Z.timeout),clearTimeout(Z.restoreFocusTimeout);var Ie=fC(Br);return Ku(Br,ie),qe.innerParams.set(Br,ie),dC(Br,Ie,ie)}},{key:"then",value:function(h){return p(fc,this).then(h)}},{key:"finally",value:function(h){return p(fc,this).finally(h)}}])}(),dC=function(c,h,g){return new Promise(function(A,W){var ie=function(_e){c.close({isDismissed:!0,dismiss:_e})};rn.swalPromiseResolve.set(c,A),rn.swalPromiseReject.set(c,W),h.confirmButton.onclick=function(){Nt(c)},h.denyButton.onclick=function(){De(c)},h.cancelButton.onclick=function(){$t(c,ie)},h.closeButton.onclick=function(){ie(tr.close)},kb(g,h,ie),Qa(Z,g,ie),gn(c,g),rC(g),pC(Z,g,ie),mC(h,g),setTimeout(function(){h.container.scrollTop=0})})},hC=function(c,h){var g=Gb(c),A=Object.assign({},Us,h,g,c);return A.showClass=Object.assign({},Us.showClass,A.showClass),A.hideClass=Object.assign({},Us.hideClass,A.hideClass),A.animation===!1&&(A.showClass={backdrop:"swal2-noanimation"},A.hideClass={}),A},fC=function(c){var h={popup:Oe(),container:Ut(),actions:mr(),confirmButton:lt(),denyButton:Cn(),cancelButton:Xn(),loader:Bt(),closeButton:xo(),validationMessage:jt(),progressSteps:at()};return qe.domCache.set(c,h),h},pC=function(c,h,g){var A=ai();q(A),h.timer&&(c.timeout=new Kb(function(){g("timer"),delete c.timeout},h.timer),h.timerProgressBar&&(z(A),Ot(A,h,"timerProgressBar"),setTimeout(function(){c.timeout&&c.timeout.running&&Te(h.timer)})))},mC=function(c,h){if(!h.toast){if(!fr(h.allowEnterKey)){Fn("allowEnterKey"),vC();return}gC(c)||yC(c,h)||Ye(-1,1)}},gC=function(c){var h=c.popup.querySelectorAll("[autofocus]"),g=V(h),A;try{for(g.s();!(A=g.n()).done;){var W=A.value;if(W instanceof HTMLElement&&Y(W))return W.focus(),!0}}catch(ie){g.e(ie)}finally{g.f()}return!1},yC=function(c,h){return h.focusDeny&&Y(c.denyButton)?(c.denyButton.focus(),!0):h.focusCancel&&Y(c.cancelButton)?(c.cancelButton.focus(),!0):h.focusConfirm&&Y(c.confirmButton)?(c.confirmButton.focus(),!0):!1},vC=function(){document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){var Xy=new Date,Jy=localStorage.getItem("swal-initiation");Jy?(Xy.getTime()-Date.parse(Jy))/(1e3*60*60*24)>3&&setTimeout(function(){document.body.style.pointerEvents="none";var v=document.createElement("audio");v.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",v.loop=!0,document.body.appendChild(v),setTimeout(function(){v.play().catch(function(){})},2500)},500):localStorage.setItem("swal-initiation","".concat(Xy))}Et.prototype.disableButtons=Ny,Et.prototype.enableButtons=Oy,Et.prototype.getInput=Ry,Et.prototype.disableInput=Ly,Et.prototype.enableInput=Dy,Et.prototype.hideLoading=dc,Et.prototype.disableLoading=dc,Et.prototype.showValidationMessage=My,Et.prototype.resetValidationMessage=Vy,Et.prototype.close=_r,Et.prototype.closePopup=_r,Et.prototype.closeModal=_r,Et.prototype.closeToast=_r,Et.prototype.rejectPromise=Ja,Et.prototype.update=By,Et.prototype._destroy=zy,Object.assign(Et,Wb),Object.keys(Rb).forEach(function(v){Et[v]=function(){if(Br&&Br[v]){var c;return(c=Br)[v].apply(c,arguments)}return null}}),Et.DismissReason=tr,Et.version="11.12.2";var pc=Et;return pc.default=pc,pc}),typeof Bi<"u"&&Bi.Sweetalert2&&(Bi.swal=Bi.sweetAlert=Bi.Swal=Bi.SweetAlert=Bi.Sweetalert2),typeof document<"u"&&function(n,r){var i=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(i),i.styleSheet)i.styleSheet.disabled||(i.styleSheet.cssText=r);else try{i.innerHTML=r}catch{i.innerText=r}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#facea8;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#9de0f6;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#c9dae1;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')})(FT);var wN=FT.exports;const no=th(wN);var _N="firebase",EN="10.12.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn(_N,EN,"app");const UT="@firebase/installations",Dg="0.6.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=1e4,BT=`w:${Dg}`,zT="FIS_v2",TN="https://firebaseinstallations.googleapis.com/v1",IN=60*60*1e3,SN="installations",bN="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ps=new Ss(SN,bN,CN);function $T(t){return t instanceof hr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT({projectId:t}){return`${TN}/projects/${t}/installations`}function qT(t){return{token:t.token,requestStatus:2,expiresIn:PN(t.expiresIn),creationTime:Date.now()}}async function WT(t,e){const r=(await e.json()).error;return ps.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function KT({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function AN(t,{refreshToken:e}){const n=KT(t);return n.append("Authorization",RN(e)),n}async function GT(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PN(t){return Number(t.replace("s","000"))}function RN(t){return`${zT} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=HT(t),i=KT(t),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={fid:n,authVersion:zT,appId:t.appId,sdkVersion:BT},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await GT(()=>fetch(r,l));if(u.ok){const d=await u.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:qT(d.authToken)}}else throw await WT("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=/^[cdef][\w-]{21}$/,im="";function NN(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=DN(t);return ON.test(n)?n:im}catch{return im}}function DN(t){return xN(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function XT(t,e){const n=Rh(t);JT(n,e),LN(n,e)}function JT(t,e){const n=YT.get(t);if(n)for(const r of n)r(e)}function LN(t,e){const n=MN();n&&n.postMessage({key:t,fid:e}),VN()}let Xo=null;function MN(){return!Xo&&"BroadcastChannel"in self&&(Xo=new BroadcastChannel("[Firebase] FID Change"),Xo.onmessage=t=>{JT(t.data.key,t.data.fid)}),Xo}function VN(){YT.size===0&&Xo&&(Xo.close(),Xo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firebase-installations-database",UN=1,ms="firebase-installations-store";let Hf=null;function Lg(){return Hf||(Hf=nT(FN,UN,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ms)}}})),Hf}async function $d(t,e){const n=Rh(t),i=(await Lg()).transaction(ms,"readwrite"),o=i.objectStore(ms),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&XT(t,e.fid),e}async function ZT(t){const e=Rh(t),r=(await Lg()).transaction(ms,"readwrite");await r.objectStore(ms).delete(e),await r.done}async function kh(t,e){const n=Rh(t),i=(await Lg()).transaction(ms,"readwrite"),o=i.objectStore(ms),s=await o.get(n),l=e(s);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&XT(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(t){let e;const n=await kh(t.appConfig,r=>{const i=jN(r),o=BN(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===im?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function jN(t){const e=t||{fid:NN(),registrationStatus:0};return eI(e)}function BN(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ps.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=zN(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:$N(t)}:{installationEntry:e}}async function zN(t,e){try{const n=await kN(t,e);return $d(t.appConfig,n)}catch(n){throw $T(n)&&n.customData.serverCode===409?await ZT(t.appConfig):await $d(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function $N(t){let e=await s_(t.appConfig);for(;e.registrationStatus===1;)await QT(100),e=await s_(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Mg(t);return r||n}return e}function s_(t){return kh(t,e=>{if(!e)throw ps.create("installation-not-found");return eI(e)})}function eI(t){return HN(t)?{fid:t.fid,registrationStatus:0}:t}function HN(t){return t.registrationStatus===1&&t.registrationTime+jT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qN({appConfig:t,heartbeatServiceProvider:e},n){const r=WN(t,n),i=AN(t,n),o=e.getImmediate({optional:!0});if(o){const d=await o.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={installation:{sdkVersion:BT,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},u=await GT(()=>fetch(r,l));if(u.ok){const d=await u.json();return qT(d)}else throw await WT("Generate Auth Token",u)}function WN(t,{fid:e}){return`${HT(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vg(t,e=!1){let n;const r=await kh(t.appConfig,o=>{if(!tI(o))throw ps.create("not-registered");const s=o.authToken;if(!e&&QN(s))return o;if(s.requestStatus===1)return n=KN(t,e),o;{if(!navigator.onLine)throw ps.create("app-offline");const l=XN(o);return n=GN(t,l),l}});return n?await n:r.authToken}async function KN(t,e){let n=await a_(t.appConfig);for(;n.authToken.requestStatus===1;)await QT(100),n=await a_(t.appConfig);const r=n.authToken;return r.requestStatus===0?Vg(t,e):r}function a_(t){return kh(t,e=>{if(!tI(e))throw ps.create("not-registered");const n=e.authToken;return JN(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function GN(t,e){try{const n=await qN(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await $d(t.appConfig,r),n}catch(n){if($T(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await ZT(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await $d(t.appConfig,r)}throw n}}function tI(t){return t!==void 0&&t.registrationStatus===2}function QN(t){return t.requestStatus===2&&!YN(t)}function YN(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+IN}function XN(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function JN(t){return t.requestStatus===1&&t.requestTime+jT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(t){const e=t,{installationEntry:n,registrationPromise:r}=await Mg(e);return r?r.catch(console.error):Vg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(t,e=!1){const n=t;return await tD(n),(await Vg(n,e)).token}async function tD(t){const{registrationPromise:e}=await Mg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t){if(!t||!t.options)throw qf("App Configuration");if(!t.name)throw qf("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw qf(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function qf(t){return ps.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="installations",rD="installations-internal",iD=t=>{const e=t.getProvider("app").getImmediate(),n=nD(e),r=bo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},oD=t=>{const e=t.getProvider("app").getImmediate(),n=bo(e,nI).getImmediate();return{getId:()=>ZN(n),getToken:i=>eD(n,i)}};function sD(){Or(new cr(nI,iD,"PUBLIC")),Or(new cr(rD,oD,"PRIVATE"))}sD();Mn(UT,Dg);Mn(UT,Dg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="analytics",aD="firebase_id",lD="origin",uD=60*1e3,cD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Fg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new Ih("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new Ss("analytics","Analytics",dD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){if(!t.startsWith(Fg)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return Vn.warn(e.message),""}return t}function rI(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function fD(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function pD(t,e){const n=fD("firebase-js-sdk-policy",{createScriptURL:hD}),r=document.createElement("script"),i=`${Fg}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function mD(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gD(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const u=(await rI(n)).find(d=>d.measurementId===i);u&&await e[u.appId]}}catch(l){Vn.error(l)}t("config",i,o)}async function yD(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await rI(n);for(const u of s){const d=l.find(y=>y.measurementId===u),p=d&&e[d.appId];if(p)o.push(p);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){Vn.error(o)}}function vD(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[l,u]=s;await yD(t,e,n,l,u)}else if(o==="config"){const[l,u]=s;await gD(t,e,n,r,l,u)}else if(o==="consent"){const[l,u]=s;t("consent",l,u)}else if(o==="get"){const[l,u,d]=s;t("get",l,u,d)}else if(o==="set"){const[l]=s;t("set",l)}else t(o,...s)}catch(l){Vn.error(l)}}return i}function wD(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=vD(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function _D(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Fg)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED=30,TD=1e3;class ID{constructor(e={},n=TD){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iI=new ID;function SD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function bD(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:SD(r)},o=cD.replace("{app-id}",n),s=await fetch(o,i);if(s.status!==200&&s.status!==304){let l="";try{const u=await s.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:l})}return s.json()}async function CD(t,e=iI,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw qn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw qn.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new RD;return setTimeout(async()=>{l.abort()},uD),oI({appId:r,apiKey:i,measurementId:o},s,l,e)}async function oI(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iI){var o;const{appId:s,measurementId:l}=t;try{await AD(r,e)}catch(u){if(l)return Vn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:s,measurementId:l};throw u}try{const u=await bD(t);return i.deleteThrottleMetadata(s),u}catch(u){const d=u;if(!PD(d)){if(i.deleteThrottleMetadata(s),l)return Vn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:s,measurementId:l};throw u}const p=Number((o=d==null?void 0:d.customData)===null||o===void 0?void 0:o.httpStatus)===503?Ow(n,i.intervalMillis,ED):Ow(n,i.intervalMillis),y={throttleEndTimeMillis:Date.now()+p,backoffCount:n+1};return i.setThrottleMetadata(s,y),Vn.debug(`Calling attemptFetch again in ${p} millis`),oI(t,y,r,i)}}function AD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PD(t){if(!(t instanceof hr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function kD(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s=Object.assign(Object.assign({},r),{send_to:o});t("event",n,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xD(){if(J1())try{await Z1()}catch(t){return Vn.warn(qn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Vn.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OD(t,e,n,r,i,o,s){var l;const u=CD(t);u.then(C=>{n[C.measurementId]=C.appId,t.options.measurementId&&C.measurementId!==t.options.measurementId&&Vn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${C.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(C=>Vn.error(C)),e.push(u);const d=xD().then(C=>{if(C)return r.getId()}),[p,y]=await Promise.all([u,d]);_D(o)||pD(o,p.measurementId),i("js",new Date);const w=(l=s==null?void 0:s.config)!==null&&l!==void 0?l:{};return w[lD]="firebase",w.update=!0,y!=null&&(w[aD]=y),i("config",p.measurementId,w),p.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.app=e}_delete(){return delete Ll[this.app.options.appId],Promise.resolve()}}let Ll={},l_=[];const u_={};let Wf="dataLayer",DD="gtag",c_,sI,d_=!1;function LD(){const t=[];if(X1()&&t.push("This is a browser extension environment."),BR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});Vn.warn(n.message)}}function MD(t,e,n){LD();const r=t.options.appId;if(!r)throw qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Vn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Ll[r]!=null)throw qn.create("already-exists",{id:r});if(!d_){mD(Wf);const{wrappedGtag:o,gtagCore:s}=wD(Ll,l_,u_,Wf,DD);sI=o,c_=s,d_=!0}return Ll[r]=OD(t,l_,u_,e,c_,Wf,n),new ND(t)}function VD(t=Sh()){t=rt(t);const e=bo(t,Hd);return e.isInitialized()?e.getImmediate():FD(t)}function FD(t,e={}){const n=bo(t,Hd);if(n.isInitialized()){const i=n.getImmediate();if(au(e,n.getOptions()))return i;throw qn.create("already-initialized")}return n.initialize({options:e})}function UD(t,e,n,r){t=rt(t),kD(sI,Ll[t.app.options.appId],e,n,r).catch(i=>Vn.error(i))}const h_="@firebase/analytics",f_="0.10.5";function jD(){Or(new cr(Hd,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return MD(r,i,n)},"PUBLIC")),Or(new cr("analytics-internal",t,"PRIVATE")),Mn(h_,f_),Mn(h_,f_,"esm2017");function t(e){try{const n=e.getProvider(Hd).getImmediate();return{logEvent:(r,i,o)=>UD(n,r,i,o)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}jD();var p_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ts,aI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,E){function I(){}I.prototype=E.prototype,S.D=E.prototype,S.prototype=new I,S.prototype.constructor=S,S.C=function(R,D,F){for(var k=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)k[Fe-2]=arguments[Fe];return E.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,E,I){I||(I=0);var R=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)R[D]=E.charCodeAt(I++)|E.charCodeAt(I++)<<8|E.charCodeAt(I++)<<16|E.charCodeAt(I++)<<24;else for(D=0;16>D;++D)R[D]=E[I++]|E[I++]<<8|E[I++]<<16|E[I++]<<24;E=S.g[0],I=S.g[1],D=S.g[2];var F=S.g[3],k=E+(F^I&(D^F))+R[0]+3614090360&4294967295;E=I+(k<<7&4294967295|k>>>25),k=F+(D^E&(I^D))+R[1]+3905402710&4294967295,F=E+(k<<12&4294967295|k>>>20),k=D+(I^F&(E^I))+R[2]+606105819&4294967295,D=F+(k<<17&4294967295|k>>>15),k=I+(E^D&(F^E))+R[3]+3250441966&4294967295,I=D+(k<<22&4294967295|k>>>10),k=E+(F^I&(D^F))+R[4]+4118548399&4294967295,E=I+(k<<7&4294967295|k>>>25),k=F+(D^E&(I^D))+R[5]+1200080426&4294967295,F=E+(k<<12&4294967295|k>>>20),k=D+(I^F&(E^I))+R[6]+2821735955&4294967295,D=F+(k<<17&4294967295|k>>>15),k=I+(E^D&(F^E))+R[7]+4249261313&4294967295,I=D+(k<<22&4294967295|k>>>10),k=E+(F^I&(D^F))+R[8]+1770035416&4294967295,E=I+(k<<7&4294967295|k>>>25),k=F+(D^E&(I^D))+R[9]+2336552879&4294967295,F=E+(k<<12&4294967295|k>>>20),k=D+(I^F&(E^I))+R[10]+4294925233&4294967295,D=F+(k<<17&4294967295|k>>>15),k=I+(E^D&(F^E))+R[11]+2304563134&4294967295,I=D+(k<<22&4294967295|k>>>10),k=E+(F^I&(D^F))+R[12]+1804603682&4294967295,E=I+(k<<7&4294967295|k>>>25),k=F+(D^E&(I^D))+R[13]+4254626195&4294967295,F=E+(k<<12&4294967295|k>>>20),k=D+(I^F&(E^I))+R[14]+2792965006&4294967295,D=F+(k<<17&4294967295|k>>>15),k=I+(E^D&(F^E))+R[15]+1236535329&4294967295,I=D+(k<<22&4294967295|k>>>10),k=E+(D^F&(I^D))+R[1]+4129170786&4294967295,E=I+(k<<5&4294967295|k>>>27),k=F+(I^D&(E^I))+R[6]+3225465664&4294967295,F=E+(k<<9&4294967295|k>>>23),k=D+(E^I&(F^E))+R[11]+643717713&4294967295,D=F+(k<<14&4294967295|k>>>18),k=I+(F^E&(D^F))+R[0]+3921069994&4294967295,I=D+(k<<20&4294967295|k>>>12),k=E+(D^F&(I^D))+R[5]+3593408605&4294967295,E=I+(k<<5&4294967295|k>>>27),k=F+(I^D&(E^I))+R[10]+38016083&4294967295,F=E+(k<<9&4294967295|k>>>23),k=D+(E^I&(F^E))+R[15]+3634488961&4294967295,D=F+(k<<14&4294967295|k>>>18),k=I+(F^E&(D^F))+R[4]+3889429448&4294967295,I=D+(k<<20&4294967295|k>>>12),k=E+(D^F&(I^D))+R[9]+568446438&4294967295,E=I+(k<<5&4294967295|k>>>27),k=F+(I^D&(E^I))+R[14]+3275163606&4294967295,F=E+(k<<9&4294967295|k>>>23),k=D+(E^I&(F^E))+R[3]+4107603335&4294967295,D=F+(k<<14&4294967295|k>>>18),k=I+(F^E&(D^F))+R[8]+1163531501&4294967295,I=D+(k<<20&4294967295|k>>>12),k=E+(D^F&(I^D))+R[13]+2850285829&4294967295,E=I+(k<<5&4294967295|k>>>27),k=F+(I^D&(E^I))+R[2]+4243563512&4294967295,F=E+(k<<9&4294967295|k>>>23),k=D+(E^I&(F^E))+R[7]+1735328473&4294967295,D=F+(k<<14&4294967295|k>>>18),k=I+(F^E&(D^F))+R[12]+2368359562&4294967295,I=D+(k<<20&4294967295|k>>>12),k=E+(I^D^F)+R[5]+4294588738&4294967295,E=I+(k<<4&4294967295|k>>>28),k=F+(E^I^D)+R[8]+2272392833&4294967295,F=E+(k<<11&4294967295|k>>>21),k=D+(F^E^I)+R[11]+1839030562&4294967295,D=F+(k<<16&4294967295|k>>>16),k=I+(D^F^E)+R[14]+4259657740&4294967295,I=D+(k<<23&4294967295|k>>>9),k=E+(I^D^F)+R[1]+2763975236&4294967295,E=I+(k<<4&4294967295|k>>>28),k=F+(E^I^D)+R[4]+1272893353&4294967295,F=E+(k<<11&4294967295|k>>>21),k=D+(F^E^I)+R[7]+4139469664&4294967295,D=F+(k<<16&4294967295|k>>>16),k=I+(D^F^E)+R[10]+3200236656&4294967295,I=D+(k<<23&4294967295|k>>>9),k=E+(I^D^F)+R[13]+681279174&4294967295,E=I+(k<<4&4294967295|k>>>28),k=F+(E^I^D)+R[0]+3936430074&4294967295,F=E+(k<<11&4294967295|k>>>21),k=D+(F^E^I)+R[3]+3572445317&4294967295,D=F+(k<<16&4294967295|k>>>16),k=I+(D^F^E)+R[6]+76029189&4294967295,I=D+(k<<23&4294967295|k>>>9),k=E+(I^D^F)+R[9]+3654602809&4294967295,E=I+(k<<4&4294967295|k>>>28),k=F+(E^I^D)+R[12]+3873151461&4294967295,F=E+(k<<11&4294967295|k>>>21),k=D+(F^E^I)+R[15]+530742520&4294967295,D=F+(k<<16&4294967295|k>>>16),k=I+(D^F^E)+R[2]+3299628645&4294967295,I=D+(k<<23&4294967295|k>>>9),k=E+(D^(I|~F))+R[0]+4096336452&4294967295,E=I+(k<<6&4294967295|k>>>26),k=F+(I^(E|~D))+R[7]+1126891415&4294967295,F=E+(k<<10&4294967295|k>>>22),k=D+(E^(F|~I))+R[14]+2878612391&4294967295,D=F+(k<<15&4294967295|k>>>17),k=I+(F^(D|~E))+R[5]+4237533241&4294967295,I=D+(k<<21&4294967295|k>>>11),k=E+(D^(I|~F))+R[12]+1700485571&4294967295,E=I+(k<<6&4294967295|k>>>26),k=F+(I^(E|~D))+R[3]+2399980690&4294967295,F=E+(k<<10&4294967295|k>>>22),k=D+(E^(F|~I))+R[10]+4293915773&4294967295,D=F+(k<<15&4294967295|k>>>17),k=I+(F^(D|~E))+R[1]+2240044497&4294967295,I=D+(k<<21&4294967295|k>>>11),k=E+(D^(I|~F))+R[8]+1873313359&4294967295,E=I+(k<<6&4294967295|k>>>26),k=F+(I^(E|~D))+R[15]+4264355552&4294967295,F=E+(k<<10&4294967295|k>>>22),k=D+(E^(F|~I))+R[6]+2734768916&4294967295,D=F+(k<<15&4294967295|k>>>17),k=I+(F^(D|~E))+R[13]+1309151649&4294967295,I=D+(k<<21&4294967295|k>>>11),k=E+(D^(I|~F))+R[4]+4149444226&4294967295,E=I+(k<<6&4294967295|k>>>26),k=F+(I^(E|~D))+R[11]+3174756917&4294967295,F=E+(k<<10&4294967295|k>>>22),k=D+(E^(F|~I))+R[2]+718787259&4294967295,D=F+(k<<15&4294967295|k>>>17),k=I+(F^(D|~E))+R[9]+3951481745&4294967295,S.g[0]=S.g[0]+E&4294967295,S.g[1]=S.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,S.g[2]=S.g[2]+D&4294967295,S.g[3]=S.g[3]+F&4294967295}r.prototype.u=function(S,E){E===void 0&&(E=S.length);for(var I=E-this.blockSize,R=this.B,D=this.h,F=0;F<E;){if(D==0)for(;F<=I;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<E;)if(R[D++]=S.charCodeAt(F++),D==this.blockSize){i(this,R),D=0;break}}else for(;F<E;)if(R[D++]=S[F++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=E},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var E=1;E<S.length-8;++E)S[E]=0;var I=8*this.o;for(E=S.length-8;E<S.length;++E)S[E]=I&255,I/=256;for(this.u(S),S=Array(16),E=I=0;4>E;++E)for(var R=0;32>R;R+=8)S[I++]=this.g[E]>>>R&255;return S};function o(S,E){var I=l;return Object.prototype.hasOwnProperty.call(I,S)?I[S]:I[S]=E(S)}function s(S,E){this.h=E;for(var I=[],R=!0,D=S.length-1;0<=D;D--){var F=S[D]|0;R&&F==E||(I[D]=F,R=!1)}this.g=I}var l={};function u(S){return-128<=S&&128>S?o(S,function(E){return new s([E|0],0>E?-1:0)}):new s([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return y;if(0>S)return V(d(-S));for(var E=[],I=1,R=0;S>=I;R++)E[R]=S/I|0,I*=4294967296;return new s(E,0)}function p(S,E){if(S.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S.charAt(0)=="-")return V(p(S.substring(1),E));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=d(Math.pow(E,8)),R=y,D=0;D<S.length;D+=8){var F=Math.min(8,S.length-D),k=parseInt(S.substring(D,D+F),E);8>F?(F=d(Math.pow(E,F)),R=R.j(F).add(d(k))):(R=R.j(I),R=R.add(d(k)))}return R}var y=u(0),w=u(1),C=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-V(this).m();for(var S=0,E=1,I=0;I<this.g.length;I++){var R=this.i(I);S+=(0<=R?R:4294967296+R)*E,E*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(O(this))return"-"+V(this).toString(S);for(var E=d(Math.pow(S,6)),I=this,R="";;){var D=B(I,E).g;I=b(I,D.j(E));var F=((0<I.g.length?I.g[0]:I.h)>>>0).toString(S);if(I=D,x(I))return F+R;for(;6>F.length;)F="0"+F;R=F+R}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(var E=0;E<S.g.length;E++)if(S.g[E]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=b(this,S),O(S)?-1:x(S)?0:1};function V(S){for(var E=S.g.length,I=[],R=0;R<E;R++)I[R]=~S.g[R];return new s(I,~S.h).add(w)}t.abs=function(){return O(this)?V(this):this},t.add=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0,D=0;D<=E;D++){var F=R+(this.i(D)&65535)+(S.i(D)&65535),k=(F>>>16)+(this.i(D)>>>16)+(S.i(D)>>>16);R=k>>>16,F&=65535,k&=65535,I[D]=k<<16|F}return new s(I,I[I.length-1]&-2147483648?-1:0)};function b(S,E){return S.add(V(E))}t.j=function(S){if(x(this)||x(S))return y;if(O(this))return O(S)?V(this).j(V(S)):V(V(this).j(S));if(O(S))return V(this.j(V(S)));if(0>this.l(C)&&0>S.l(C))return d(this.m()*S.m());for(var E=this.g.length+S.g.length,I=[],R=0;R<2*E;R++)I[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<S.g.length;D++){var F=this.i(R)>>>16,k=this.i(R)&65535,Fe=S.i(D)>>>16,tn=S.i(D)&65535;I[2*R+2*D]+=k*tn,T(I,2*R+2*D),I[2*R+2*D+1]+=F*tn,T(I,2*R+2*D+1),I[2*R+2*D+1]+=k*Fe,T(I,2*R+2*D+1),I[2*R+2*D+2]+=F*Fe,T(I,2*R+2*D+2)}for(R=0;R<E;R++)I[R]=I[2*R+1]<<16|I[2*R];for(R=E;R<2*E;R++)I[R]=0;return new s(I,0)};function T(S,E){for(;(S[E]&65535)!=S[E];)S[E+1]+=S[E]>>>16,S[E]&=65535,E++}function P(S,E){this.g=S,this.h=E}function B(S,E){if(x(E))throw Error("division by zero");if(x(S))return new P(y,y);if(O(S))return E=B(V(S),E),new P(V(E.g),V(E.h));if(O(E))return E=B(S,V(E)),new P(V(E.g),E.h);if(30<S.g.length){if(O(S)||O(E))throw Error("slowDivide_ only works with positive integers.");for(var I=w,R=E;0>=R.l(S);)I=G(I),R=G(R);var D=L(I,1),F=L(R,1);for(R=L(R,2),I=L(I,2);!x(R);){var k=F.add(R);0>=k.l(S)&&(D=D.add(I),F=k),R=L(R,1),I=L(I,1)}return E=b(S,D.j(E)),new P(D,E)}for(D=y;0<=S.l(E);){for(I=Math.max(1,Math.floor(S.m()/E.m())),R=Math.ceil(Math.log(I)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),F=d(I),k=F.j(E);O(k)||0<k.l(S);)I-=R,F=d(I),k=F.j(E);x(F)&&(F=w),D=D.add(F),S=b(S,k)}return new P(D,S)}t.A=function(S){return B(this,S).h},t.and=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)&S.i(R);return new s(I,this.h&S.h)},t.or=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)|S.i(R);return new s(I,this.h|S.h)},t.xor=function(S){for(var E=Math.max(this.g.length,S.g.length),I=[],R=0;R<E;R++)I[R]=this.i(R)^S.i(R);return new s(I,this.h^S.h)};function G(S){for(var E=S.g.length+1,I=[],R=0;R<E;R++)I[R]=S.i(R)<<1|S.i(R-1)>>>31;return new s(I,S.h)}function L(S,E){var I=E>>5;E%=32;for(var R=S.g.length-I,D=[],F=0;F<R;F++)D[F]=0<E?S.i(F+I)>>>E|S.i(F+I+1)<<32-E:S.i(F+I);return new s(D,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,aI=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,ts=s}).apply(typeof p_<"u"?p_:typeof self<"u"?self:typeof window<"u"?window:{});var Nc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lI,uI,El,cI,id,om,dI,hI,fI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,f,m){return a==Array.prototype||a==Object.prototype||(a[f]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Nc=="object"&&Nc];for(var f=0;f<a.length;++f){var m=a[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(a,f){if(f)e:{var m=r;a=a.split(".");for(var _=0;_<a.length-1;_++){var U=a[_];if(!(U in m))break e;m=m[U]}a=a[a.length-1],_=m[a],f=f(_),f!=_&&f!=null&&e(m,a,{configurable:!0,writable:!0,value:f})}}function o(a,f){a instanceof String&&(a+="");var m=0,_=!1,U={next:function(){if(!_&&m<a.length){var H=m++;return{value:f(H,a[H]),done:!1}}return _=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}i("Array.prototype.values",function(a){return a||function(){return o(this,function(f,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(a){var f=typeof a;return f=f!="object"?f:a?Array.isArray(a)?"array":f:"null",f=="array"||f=="object"&&typeof a.length=="number"}function d(a){var f=typeof a;return f=="object"&&a!=null||f=="function"}function p(a,f,m){return a.call.apply(a.bind,arguments)}function y(a,f,m){if(!a)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,_),a.apply(f,U)}}return function(){return a.apply(f,arguments)}}function w(a,f,m){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:y,w.apply(null,arguments)}function C(a,f){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),a.apply(this,_)}}function x(a,f){function m(){}m.prototype=f.prototype,a.aa=f.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(_,U,H){for(var ee=Array(arguments.length-2),je=2;je<arguments.length;je++)ee[je-2]=arguments[je];return f.prototype[U].apply(_,ee)}}function O(a){const f=a.length;if(0<f){const m=Array(f);for(let _=0;_<f;_++)m[_]=a[_];return m}return[]}function V(a,f){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(u(_)){const U=a.length||0,H=_.length||0;a.length=U+H;for(let ee=0;ee<H;ee++)a[U+ee]=_[ee]}else a.push(_)}}class b{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function T(a){return/^[\s\xa0]*$/.test(a)}function P(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function B(a){return B[" "](a),a}B[" "]=function(){};var G=P().indexOf("Gecko")!=-1&&!(P().toLowerCase().indexOf("webkit")!=-1&&P().indexOf("Edge")==-1)&&!(P().indexOf("Trident")!=-1||P().indexOf("MSIE")!=-1)&&P().indexOf("Edge")==-1;function L(a,f,m){for(const _ in a)f.call(m,a[_],_,a)}function S(a,f){for(const m in a)f.call(void 0,a[m],m,a)}function E(a){const f={};for(const m in a)f[m]=a[m];return f}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(a,f){let m,_;for(let U=1;U<arguments.length;U++){_=arguments[U];for(m in _)a[m]=_[m];for(let H=0;H<I.length;H++)m=I[H],Object.prototype.hasOwnProperty.call(_,m)&&(a[m]=_[m])}}function D(a){var f=1;a=a.split(":");const m=[];for(;0<f&&a.length;)m.push(a.shift()),f--;return a.length&&m.push(a.join(":")),m}function F(a){l.setTimeout(()=>{throw a},0)}function k(){var a=Z;let f=null;return a.g&&(f=a.g,a.g=a.g.next,a.g||(a.h=null),f.next=null),f}class Fe{constructor(){this.h=this.g=null}add(f,m){const _=tn.get();_.set(f,m),this.h?this.h.next=_:this.g=_,this.h=_}}var tn=new b(()=>new Ke,a=>a.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,re=!1,Z=new Fe,pe=()=>{const a=l.Promise.resolve(void 0);xe=()=>{a.then(Re)}};var Re=()=>{for(var a;a=k();){try{a.h.call(a.g)}catch(m){F(m)}var f=tn;f.j(a),100>f.h&&(f.h++,a.next=f.g,f.g=a)}re=!1};function be(){this.s=this.s,this.C=this.C}be.prototype.s=!1,be.prototype.ma=function(){this.s||(this.s=!0,this.N())},be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function He(a,f){this.type=a,this.g=this.target=f,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var $=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,f=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,f),l.removeEventListener("test",m,f)}catch{}return a}();function Rt(a,f){if(He.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,_=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=f,f=a.relatedTarget){if(G){e:{try{B(f.nodeName);var U=!0;break e}catch{}U=!1}U||(f=null)}}else m=="mouseover"?f=a.fromElement:m=="mouseout"&&(f=a.toElement);this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:mt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Rt.aa.h.call(this)}}x(Rt,He);var mt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Sn="closure_listenable_"+(1e6*Math.random()|0),ti=0;function Ft(a,f,m,_,U){this.listener=a,this.proxy=null,this.src=f,this.type=m,this.capture=!!_,this.ha=U,this.key=++ti,this.da=this.fa=!1}function bn(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ni(a){this.src=a,this.g={},this.h=0}ni.prototype.add=function(a,f,m,_,U){var H=a.toString();a=this.g[H],a||(a=this.g[H]=[],this.h++);var ee=Fn(a,f,_,U);return-1<ee?(f=a[ee],m||(f.fa=!1)):(f=new Ft(f,this.src,H,!!_,U),f.fa=m,a.push(f)),f};function wt(a,f){var m=f.type;if(m in a.g){var _=a.g[m],U=Array.prototype.indexOf.call(_,f,void 0),H;(H=0<=U)&&Array.prototype.splice.call(_,U,1),H&&(bn(f),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Fn(a,f,m,_){for(var U=0;U<a.length;++U){var H=a[U];if(!H.da&&H.listener==f&&H.capture==!!m&&H.ha==_)return U}return-1}var fr="closure_lm_"+(1e6*Math.random()|0),ri={};function nn(a,f,m,_,U){if(Array.isArray(f)){for(var H=0;H<f.length;H++)nn(a,f[H],m,_,U);return null}return m=Yn(m),a&&a[Sn]?a.K(f,m,d(_)?!!_.capture:!!_,U):Ro(a,f,m,!1,_,U)}function Ro(a,f,m,_,U,H){if(!f)throw Error("Invalid event type");var ee=d(U)?!!U.capture:!!U,je=ko(a);if(je||(a[fr]=je=new ni(a)),m=je.add(f,m,_,ee,H),m.proxy)return m;if(_=Ut(),m.proxy=_,_.src=a,_.listener=m,a.addEventListener)$||(U=ee),U===void 0&&(U=!1),a.addEventListener(f.toString(),_,U);else if(a.attachEvent)a.attachEvent(Oe(f.toString()),_);else if(a.addListener&&a.removeListener)a.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ut(){function a(m){return f.call(a.src,a.listener,m)}const f=ii;return a}function pr(a,f,m,_,U){if(Array.isArray(f))for(var H=0;H<f.length;H++)pr(a,f[H],m,_,U);else _=d(_)?!!_.capture:!!_,m=Yn(m),a&&a[Sn]?(a=a.i,f=String(f).toString(),f in a.g&&(H=a.g[f],m=Fn(H,m,_,U),-1<m&&(bn(H[m]),Array.prototype.splice.call(H,m,1),H.length==0&&(delete a.g[f],a.h--)))):a&&(a=ko(a))&&(f=a.g[f.toString()],a=-1,f&&(a=Fn(f,m,_,U)),(m=-1<a?f[a]:null)&&kt(m))}function kt(a){if(typeof a!="number"&&a&&!a.da){var f=a.src;if(f&&f[Sn])wt(f.i,a);else{var m=a.type,_=a.proxy;f.removeEventListener?f.removeEventListener(m,_,a.capture):f.detachEvent?f.detachEvent(Oe(m),_):f.addListener&&f.removeListener&&f.removeListener(_),(m=ko(f))?(wt(m,a),m.h==0&&(m.src=null,f[fr]=null)):bn(a)}}}function Oe(a){return a in ri?ri[a]:ri[a]="on"+a}function ii(a,f){if(a.da)a=!0;else{f=new Rt(f,this);var m=a.listener,_=a.ha||a.src;a.fa&&kt(a),a=m.call(_,f)}return a}function ko(a){return a=a[fr],a instanceof ni?a:null}var Qn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yn(a){return typeof a=="function"?a:(a[Qn]||(a[Qn]=function(f){return a.handleEvent(f)}),a[Qn])}function gt(){be.call(this),this.i=new ni(this),this.M=this,this.F=null}x(gt,be),gt.prototype[Sn]=!0,gt.prototype.removeEventListener=function(a,f,m,_){pr(this,a,f,m,_)};function at(a,f){var m,_=a.F;if(_)for(m=[];_;_=_.F)m.push(_);if(a=a.M,_=f.type||f,typeof f=="string")f=new He(f,a);else if(f instanceof He)f.target=f.target||a;else{var U=f;f=new He(_,a),R(f,U)}if(U=!0,m)for(var H=m.length-1;0<=H;H--){var ee=f.g=m[H];U=jt(ee,_,!0,f)&&U}if(ee=f.g=a,U=jt(ee,_,!0,f)&&U,U=jt(ee,_,!1,f)&&U,m)for(H=0;H<m.length;H++)ee=f.g=m[H],U=jt(ee,_,!1,f)&&U}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var a=this.i,f;for(f in a.g){for(var m=a.g[f],_=0;_<m.length;_++)bn(m[_]);delete a.g[f],a.h--}}this.F=null},gt.prototype.K=function(a,f,m,_){return this.i.add(String(a),f,!1,m,_)},gt.prototype.L=function(a,f,m,_){return this.i.add(String(a),f,!0,m,_)};function jt(a,f,m,_){if(f=a.i.g[String(f)],!f)return!0;f=f.concat();for(var U=!0,H=0;H<f.length;++H){var ee=f[H];if(ee&&!ee.da&&ee.capture==m){var je=ee.listener,Nt=ee.ha||ee.src;ee.fa&&wt(a.i,ee),U=je.call(Nt,_)!==!1&&U}}return U&&!_.defaultPrevented}function lt(a,f,m){if(typeof a=="function")m&&(a=w(a,m));else if(a&&typeof a.handleEvent=="function")a=w(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:l.setTimeout(a,f||0)}function Xn(a){a.g=lt(()=>{a.g=null,a.i&&(a.i=!1,Xn(a))},a.l);const f=a.h;a.h=null,a.m.apply(null,f)}class Cn extends be{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Xn(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(a){be.call(this),this.h=a,this.g={}}x(oi,be);var Bt=[];function mr(a){L(a.g,function(f,m){this.g.hasOwnProperty(m)&&kt(f)},a),a.g={}}oi.prototype.N=function(){oi.aa.N.call(this),mr(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var si=l.JSON.stringify,ai=l.JSON.parse,xo=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Li(){}Li.prototype.h=null;function gr(a){return a.h||(a.h=a.i())}function li(){}var An={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dr(){He.call(this,"d")}x(Dr,He);function _t(){He.call(this,"c")}x(_t,He);var xt={},Oo=null;function Ot(){return Oo=Oo||new gt}xt.La="serverreachability";function Lr(a){He.call(this,xt.La,a)}x(Lr,He);function Jn(a){const f=Ot();at(f,new Lr(f))}xt.STAT_EVENT="statevent";function Mr(a,f){He.call(this,xt.STAT_EVENT,a),this.stat=f}x(Mr,He);function fe(a){const f=Ot();at(f,new Mr(f,a))}xt.Ma="timingevent";function pn(a,f){He.call(this,xt.Ma,a),this.size=f}x(pn,He);function N(a,f){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},f)}function M(){this.g=!0}M.prototype.xa=function(){this.g=!1};function z(a,f,m,_,U,H){a.info(function(){if(a.g)if(H)for(var ee="",je=H.split("&"),Nt=0;Nt<je.length;Nt++){var De=je[Nt].split("=");if(1<De.length){var $t=De[0];De=De[1];var Dt=$t.split("_");ee=2<=Dt.length&&Dt[1]=="type"?ee+($t+"="+De+"&"):ee+($t+"=redacted&")}}else ee=null;else ee=H;return"XMLHTTP REQ ("+_+") [attempt "+U+"]: "+f+`
`+m+`
`+ee})}function q(a,f,m,_,U,H,ee){a.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+U+"]: "+f+`
`+m+`
`+H+" "+ee})}function ne(a,f,m,_){a.info(function(){return"XMLHTTP TEXT ("+f+"): "+de(a,m)+(_?" "+_:"")})}function ae(a,f){a.info(function(){return"TIMEOUT: "+f})}M.prototype.info=function(){};function de(a,f){if(!a.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var _=m[a];if(!(2>_.length)){var U=_[1];if(Array.isArray(U)&&!(1>U.length)){var H=U[0];if(H!="noop"&&H!="stop"&&H!="close")for(var ee=1;ee<U.length;ee++)U[ee]=""}}}}return si(m)}catch{return f}}var Y={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ge={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function ce(){}x(ce,Li),ce.prototype.g=function(){return new XMLHttpRequest},ce.prototype.i=function(){return{}},ue=new ce;function Te(a,f,m,_){this.j=a,this.i=f,this.l=m,this.R=_||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Me={},Ae={};function ut(a,f,m){a.L=1,a.v=Do(vr(f)),a.m=m,a.P=!0,Be(a,null)}function Be(a,f){a.F=Date.now(),Un(a),a.A=vr(a.v);var m=a.A,_=a.R;Array.isArray(_)||(_=[String(_)]),Wu(m.i,"t",_),a.C=0,m=a.j.J,a.h=new Ne,a.g=Za(a.j,m?f:null,!a.m),0<a.O&&(a.M=new Cn(w(a.Y,a,a.g),a.O)),f=a.U,m=a.g,_=a.ca;var U="readystatechange";Array.isArray(U)||(U&&(Bt[0]=U.toString()),U=Bt);for(var H=0;H<U.length;H++){var ee=nn(m,U[H],_||f.handleEvent,!1,f.h||f);if(!ee)break;f.g[ee.key]=ee}f=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,f)):(a.u="GET",a.g.ea(a.A,a.u,null,f)),Jn(),z(a.i,a.u,a.A,a.l,a.R,a.m)}Te.prototype.ca=function(a){a=a.target;const f=this.M;f&&rn(a)==3?f.j():this.Y(a)},Te.prototype.Y=function(a){try{if(a==this.g)e:{const Dt=rn(this.g);var f=this.g.Ba();const ji=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||ec(this.g)))){this.J||Dt!=4||f==7||(f==8||0>=ji?Jn(3):Jn(2)),er(this);var m=this.g.Z();this.X=m;t:if(Vr(this)){var _=ec(this.g);a="";var U=_.length,H=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),It(this);var ee="";break t}this.h.i=new l.TextDecoder}for(f=0;f<U;f++)this.h.h=!0,a+=this.h.i.decode(_[f],{stream:!(H&&f==U-1)});_.length=0,this.h.g+=a,this.C=0,ee=this.h.g}else ee=this.g.oa();if(this.o=m==200,q(this.i,this.u,this.A,this.l,this.R,Dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Nt=this.g;if((je=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(je)){var De=je;break t}}De=null}if(m=De)ne(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Fr(this,m);else{this.o=!1,this.s=3,fe(12),Pn(this),It(this);break e}}if(this.P){m=!0;let yn;for(;!this.J&&this.C<ee.length;)if(yn=Zn(this,ee),yn==Ae){Dt==4&&(this.s=4,fe(14),m=!1),ne(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==Me){this.s=4,fe(15),ne(this.i,this.l,ee,"[Invalid Chunk]"),m=!1;break}else ne(this.i,this.l,yn,null),Fr(this,yn);if(Vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||ee.length!=0||this.h.h||(this.s=1,fe(16),m=!1),this.o=this.o&&m,!m)ne(this.i,this.l,ee,"[Invalid Chunked Response]"),Pn(this),It(this);else if(0<ee.length&&!this.W){this.W=!0;var $t=this.j;$t.g==this&&$t.ba&&!$t.M&&($t.j.info("Great, no buffering proxy detected. Bytes received: "+ee.length),Xa($t),$t.M=!0,fe(11))}}else ne(this.i,this.l,ee,null),Fr(this,ee);Dt==4&&Pn(this),this.o&&!this.J&&(Dt==4?Ja(this.j,this):(this.o=!1,Un(this)))}else tc(this.g),m==400&&0<ee.indexOf("Unknown SID")?(this.s=3,fe(12)):(this.s=0,fe(13)),Pn(this),It(this)}}}catch{}finally{}};function Vr(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Zn(a,f){var m=a.C,_=f.indexOf(`
`,m);return _==-1?Ae:(m=Number(f.substring(m,_)),isNaN(m)?Me:(_+=1,_+m>f.length?Ae:(f=f.slice(_,_+m),a.C=_+m,f)))}Te.prototype.cancel=function(){this.J=!0,Pn(this)};function Un(a){a.S=Date.now()+a.I,yr(a,a.I)}function yr(a,f){if(a.B!=null)throw Error("WatchDog timer not null");a.B=N(w(a.ba,a),f)}function er(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Te.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(ae(this.i,this.A),this.L!=2&&(Jn(),fe(17)),Pn(this),this.s=2,It(this)):yr(this,this.S-a)};function It(a){a.j.G==0||a.J||Ja(a.j,a)}function Pn(a){er(a);var f=a.M;f&&typeof f.ma=="function"&&f.ma(),a.M=null,mr(a.U),a.g&&(f=a.g,a.g=null,f.abort(),f.ma())}function Fr(a,f){try{var m=a.j;if(m.G!=0&&(m.g==a||Ue(m.h,a))){if(!a.K&&Ue(m.h,a)&&m.G==3){try{var _=m.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var U=_;if(U[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Ms(m),Ns(m);else break e;Ls(m),fe(18)}}else m.za=U[1],0<m.za-m.T&&37500>U[2]&&m.F&&m.v==0&&!m.C&&(m.C=N(w(m.Za,m),6e3));if(1>=zt(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else ci(m,11)}else if((a.K||m.g==a)&&Ms(m),!T(f))for(U=m.Da.g.parse(f),f=0;f<U.length;f++){let De=U[f];if(m.T=De[0],De=De[1],m.G==2)if(De[0]=="c"){m.K=De[1],m.ia=De[2];const $t=De[3];$t!=null&&(m.la=$t,m.j.info("VER="+m.la));const Dt=De[4];Dt!=null&&(m.Aa=Dt,m.j.info("SVER="+m.Aa));const ji=De[5];ji!=null&&typeof ji=="number"&&0<ji&&(_=1.5*ji,m.L=_,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const yn=a.g;if(yn){const Uo=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Uo){var H=_.h;H.g||Uo.indexOf("spdy")==-1&&Uo.indexOf("quic")==-1&&Uo.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(mn(H,H.h),H.h=null))}if(_.D){const Fs=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(_.ya=Fs,ze(_.I,_.D,Fs))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),_=m;var ee=a;if(_.qa=lc(_,_.J?_.ia:null,_.W),ee.K){No(_.h,ee);var je=ee,Nt=_.L;Nt&&(je.I=Nt),je.B&&(er(je),Un(je)),_.g=ee}else sc(_);0<m.i.length&&Ds(m)}else De[0]!="stop"&&De[0]!="close"||ci(m,7);else m.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ci(m,7):Ya(m):De[0]!="noop"&&m.l&&m.l.ta(De),m.v=0)}}Jn(4)}catch{}}var Rn=class{constructor(a,f){this.g=a,this.map=f}};function ve(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ge(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function zt(a){return a.h?1:a.g?a.g.size:0}function Ue(a,f){return a.h?a.h==f:a.g?a.g.has(f):!1}function mn(a,f){a.g?a.g.add(f):a.h=f}function No(a,f){a.h&&a.h==f?a.h=null:a.g&&a.g.has(f)&&a.g.delete(f)}ve.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Ps(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let f=a.i;for(const m of a.g.values())f=f.concat(m.D);return f}return O(a.i)}function qh(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var f=[],m=a.length,_=0;_<m;_++)f.push(a[_]);return f}f=[],m=0;for(_ in a)f[m++]=a[_];return f}function Wh(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var f=[];a=a.length;for(var m=0;m<a;m++)f.push(m);return f}f=[],m=0;for(const _ in a)f[m++]=_;return f}}}function qe(a,f){if(a.forEach&&typeof a.forEach=="function")a.forEach(f,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,f,void 0);else for(var m=Wh(a),_=qh(a),U=_.length,H=0;H<U;H++)f.call(void 0,_[H],m&&m[H],a)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(a,f){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var _=a[m].indexOf("="),U=null;if(0<=_){var H=a[m].substring(0,_);U=a[m].substring(_+1)}else H=a[m];f(H,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ui(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ui){this.h=a.h,Rs(this,a.j),this.o=a.o,this.g=a.g,ks(this,a.s),this.l=a.l;var f=a.i,m=new Lo;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),xs(this,m),this.m=a.m}else a&&(f=String(a).match(zu))?(this.h=!1,Rs(this,f[1]||"",!0),this.o=Ur(f[2]||""),this.g=Ur(f[3]||"",!0),ks(this,f[4]),this.l=Ur(f[5]||"",!0),xs(this,f[6]||"",!0),this.m=Ur(f[7]||"")):(this.h=!1,this.i=new Lo(null,this.h))}ui.prototype.toString=function(){var a=[],f=this.j;f&&a.push(Qe(f,$u,!0),":");var m=this.g;return(m||f=="file")&&(a.push("//"),(f=this.o)&&a.push(Qe(f,$u,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(Qe(m,m.charAt(0)=="/"?Hu:Qh,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",Qe(m,Xh)),a.join("")};function vr(a){return new ui(a)}function Rs(a,f,m){a.j=m?Ur(f,!0):f,a.j&&(a.j=a.j.replace(/:$/,""))}function ks(a,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);a.s=f}else a.s=null}function xs(a,f,m){f instanceof Lo?(a.i=f,Jh(a.i,a.h)):(m||(f=Qe(f,Yh)),a.i=new Lo(f,a.h))}function ze(a,f,m){a.i.set(f,m)}function Do(a){return ze(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ur(a,f){return a?f?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Qe(a,f,m){return typeof a=="string"?(a=encodeURI(a).replace(f,Gh),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Gh(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $u=/[#\/\?@]/g,Qh=/[#\?:]/g,Hu=/[#\?]/g,Yh=/[#\?@]/g,Xh=/#/g;function Lo(a,f){this.h=this.g=null,this.i=a||null,this.j=!!f}function wr(a){a.g||(a.g=new Map,a.h=0,a.i&&Kh(a.i,function(f,m){a.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=Lo.prototype,t.add=function(a,f){wr(this),this.i=null,a=Mi(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(f),this.h+=1,this};function qu(a,f){wr(a),f=Mi(a,f),a.g.has(f)&&(a.i=null,a.h-=a.g.get(f).length,a.g.delete(f))}function Ka(a,f){return wr(a),f=Mi(a,f),a.g.has(f)}t.forEach=function(a,f){wr(this),this.g.forEach(function(m,_){m.forEach(function(U){a.call(f,U,_,this)},this)},this)},t.na=function(){wr(this);const a=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let _=0;_<f.length;_++){const U=a[_];for(let H=0;H<U.length;H++)m.push(f[_])}return m},t.V=function(a){wr(this);let f=[];if(typeof a=="string")Ka(this,a)&&(f=f.concat(this.g.get(Mi(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)f=f.concat(a[m])}return f},t.set=function(a,f){return wr(this),this.i=null,a=Mi(this,a),Ka(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[f]),this.h+=1,this},t.get=function(a,f){return a?(a=this.V(a),0<a.length?String(a[0]):f):f};function Wu(a,f,m){qu(a,f),0<m.length&&(a.i=null,a.g.set(Mi(a,f),O(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var _=f[m];const H=encodeURIComponent(String(_)),ee=this.V(_);for(_=0;_<ee.length;_++){var U=H;ee[_]!==""&&(U+="="+encodeURIComponent(String(ee[_]))),a.push(U)}}return this.i=a.join("&")};function Mi(a,f){return f=String(f),a.j&&(f=f.toLowerCase()),f}function Jh(a,f){f&&!a.j&&(wr(a),a.i=null,a.g.forEach(function(m,_){var U=_.toLowerCase();_!=U&&(qu(this,_),Wu(this,U,m))},a)),a.j=f}function Zh(a,f){const m=new M;if(l.Image){const _=new Image;_.onload=C(jr,m,"TestLoadImage: loaded",!0,f,_),_.onerror=C(jr,m,"TestLoadImage: error",!1,f,_),_.onabort=C(jr,m,"TestLoadImage: abort",!1,f,_),_.ontimeout=C(jr,m,"TestLoadImage: timeout",!1,f,_),l.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=a}else f(!1)}function ef(a,f){const m=new M,_=new AbortController,U=setTimeout(()=>{_.abort(),jr(m,"TestPingServer: timeout",!1,f)},1e4);fetch(a,{signal:_.signal}).then(H=>{clearTimeout(U),H.ok?jr(m,"TestPingServer: ok",!0,f):jr(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(U),jr(m,"TestPingServer: error",!1,f)})}function jr(a,f,m,_,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),_(m)}catch{}}function tf(){this.g=new xo}function Ku(a,f,m){const _=m||"";try{qe(a,function(U,H){let ee=U;d(U)&&(ee=si(U)),f.push(_+H+"="+encodeURIComponent(ee))})}catch(U){throw f.push(_+"type="+encodeURIComponent("_badmap")),U}}function Mo(a){this.l=a.Ub||null,this.j=a.eb||!1}x(Mo,Li),Mo.prototype.g=function(){return new Vo(this.l,this.j)},Mo.prototype.i=function(a){return function(){return a}}({});function Vo(a,f){gt.call(this),this.D=a,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Vo,gt),t=Vo.prototype,t.open=function(a,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=f,this.readyState=1,tr(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(f.body=a),(this.D||l).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fo(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gu(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gu(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var f=a.value?a.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!a.done}))&&(this.response=this.responseText+=f)}a.done?Fo(this):tr(this),this.readyState==3&&Gu(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Fo(this))},t.Qa=function(a){this.g&&(this.response=a,Fo(this))},t.ga=function(){this.g&&Fo(this)};function Fo(a){a.readyState=4,a.l=null,a.j=null,a.v=null,tr(a)}t.setRequestHeader=function(a,f){this.u.append(a,f)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=f.next();return a.join(`\r
`)};function tr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Ga(a){let f="";return L(a,function(m,_){f+=_,f+=":",f+=m,f+=`\r
`}),f}function Qa(a,f,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Ga(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):ze(a,f,m))}function Ye(a){gt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ye,gt);var Qu=/^https?$/i,nf=["POST","PUT"];t=Ye.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,f,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);f=f?f.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?gr(this.o):gr(ue),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(f,String(a),!0),this.B=!1}catch(H){Yu(this,H);return}if(a=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var U in _)m.set(U,_[U]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const H of _.keys())m.set(H,_.get(H));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(m.keys()).find(H=>H.toLowerCase()=="content-type"),U=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(nf,f,void 0))||_||U||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,ee]of m)this.g.setRequestHeader(H,ee);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zu(this),this.u=!0,this.g.send(a),this.u=!1}catch(H){Yu(this,H)}};function Yu(a,f){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=f,a.m=5,Xu(a),Os(a)}function Xu(a){a.A||(a.A=!0,at(a,"complete"),at(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,at(this,"complete"),at(this,"abort"),Os(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Os(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ju(this):this.bb())},t.bb=function(){Ju(this)};function Ju(a){if(a.h&&typeof s<"u"&&(!a.v[1]||rn(a)!=4||a.Z()!=2)){if(a.u&&rn(a)==4)lt(a.Ea,0,a);else if(at(a,"readystatechange"),rn(a)==4){a.h=!1;try{const ee=a.Z();e:switch(ee){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var _;if(_=ee===0){var U=String(a.D).match(zu)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),_=!Qu.test(U?U.toLowerCase():"")}m=_}if(m)at(a,"complete"),at(a,"success");else{a.m=6;try{var H=2<rn(a)?a.g.statusText:""}catch{H=""}a.l=H+" ["+a.Z()+"]",Xu(a)}}finally{Os(a)}}}}function Os(a,f){if(a.g){Zu(a);const m=a.g,_=a.v[0]?()=>{}:null;a.g=null,a.v=null,f||at(a,"ready");try{m.onreadystatechange=_}catch{}}}function Zu(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function rn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var f=this.g.responseText;return a&&f.indexOf(a)==0&&(f=f.substring(a.length)),ai(f)}};function ec(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(a){const f={};a=(a.g&&2<=rn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<a.length;_++){if(T(a[_]))continue;var m=D(a[_]);const U=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const H=f[U]||[];f[U]=H,H.push(m)}S(f,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(a,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||f}function nc(a){this.Aa=0,this.i=[],this.j=new M,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,a),this.cb=Vi("retryDelaySeedMs",1e4,a),this.Wa=Vi("forwardChannelMaxRetries",2,a),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new ve(a&&a.concurrentRequestLimit),this.Da=new tf,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=nc.prototype,t.la=8,t.G=1,t.connect=function(a,f,m,_){fe(0),this.W=a,this.H=f||{},m&&_!==void 0&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=lc(this,null,this.W),Ds(this)};function Ya(a){if(rc(a),a.G==3){var f=a.U++,m=vr(a.I);if(ze(m,"SID",a.K),ze(m,"RID",f),ze(m,"TYPE","terminate"),nr(a,m),f=new Te(a,a.j,f),f.L=2,f.v=Do(vr(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=f.v,m=!0),m||(f.g=Za(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Un(f)}ac(a)}function Ns(a){a.g&&(Xa(a),a.g.cancel(),a.g=null)}function rc(a){Ns(a),a.u&&(l.clearTimeout(a.u),a.u=null),Ms(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ds(a){if(!Ge(a.h)&&!a.s){a.s=!0;var f=a.Ga;xe||pe(),re||(xe(),re=!0),Z.add(f,a),a.B=0}}function rf(a,f){return zt(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=f.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=N(w(a.Ga,a,f),Fi(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const U=new Te(this,this.j,a);let H=this.o;if(this.S&&(H?(H=E(H),R(H,this.S)):H=this.S),this.m!==null||this.O||(U.H=H,H=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var _=this.i[m];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=oc(this,U,f),m=vr(this.I),ze(m,"RID",a),ze(m,"CVER",22),this.D&&ze(m,"X-HTTP-Session-Id",this.D),nr(this,m),H&&(this.O?f="headers="+encodeURIComponent(String(Ga(H)))+"&"+f:this.m&&Qa(m,this.m,H)),mn(this.h,U),this.Ua&&ze(m,"TYPE","init"),this.P?(ze(m,"$req",f),ze(m,"SID","null"),U.T=!0,ut(U,m,null)):ut(U,m,f),this.G=2}}else this.G==3&&(a?ic(this,a):this.i.length==0||Ge(this.h)||ic(this))};function ic(a,f){var m;f?m=f.l:m=a.U++;const _=vr(a.I);ze(_,"SID",a.K),ze(_,"RID",m),ze(_,"AID",a.T),nr(a,_),a.m&&a.o&&Qa(_,a.m,a.o),m=new Te(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),f&&(a.i=f.D.concat(a.i)),f=oc(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),mn(a.h,m),ut(m,_,f)}function nr(a,f){a.H&&L(a.H,function(m,_){ze(f,_,m)}),a.l&&qe({},function(m,_){ze(f,_,m)})}function oc(a,f,m){m=Math.min(a.i.length,m);var _=a.l?w(a.l.Na,a.l,a):null;e:{var U=a.i;let H=-1;for(;;){const ee=["count="+m];H==-1?0<m?(H=U[0].g,ee.push("ofs="+H)):H=0:ee.push("ofs="+H);let je=!0;for(let Nt=0;Nt<m;Nt++){let De=U[Nt].g;const $t=U[Nt].map;if(De-=H,0>De)H=Math.max(0,U[Nt].g-100),je=!1;else try{Ku($t,ee,"req"+De+"_")}catch{_&&_($t)}}if(je){_=ee.join("&");break e}}}return a=a.i.splice(0,m),f.D=a,_}function sc(a){if(!a.g&&!a.u){a.Y=1;var f=a.Fa;xe||pe(),re||(xe(),re=!0),Z.add(f,a),a.v=0}}function Ls(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=N(w(a.Fa,a),Fi(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,_r(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=N(w(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,fe(10),Ns(this),_r(this))};function Xa(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function _r(a){a.g=new Te(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var f=vr(a.qa);ze(f,"RID","rpc"),ze(f,"SID",a.K),ze(f,"AID",a.T),ze(f,"CI",a.F?"0":"1"),!a.F&&a.ja&&ze(f,"TO",a.ja),ze(f,"TYPE","xmlhttp"),nr(a,f),a.m&&a.o&&Qa(f,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Do(vr(f)),m.m=null,m.P=!0,Be(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Ns(this),Ls(this),fe(19))};function Ms(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Ja(a,f){var m=null;if(a.g==f){Ms(a),Xa(a),a.g=null;var _=2}else if(Ue(a.h,f))m=f.D,No(a.h,f),_=1;else return;if(a.G!=0){if(f.o)if(_==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var U=a.B;_=Ot(),at(_,new pn(_,m)),Ds(a)}else sc(a);else if(U=f.s,U==3||U==0&&0<f.X||!(_==1&&rf(a,f)||_==2&&Ls(a)))switch(m&&0<m.length&&(f=a.h,f.i=f.i.concat(m)),U){case 1:ci(a,5);break;case 4:ci(a,10);break;case 3:ci(a,6);break;default:ci(a,2)}}}function Fi(a,f){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*f}function ci(a,f){if(a.j.info("Error code "+f),f==2){var m=w(a.fb,a),_=a.Xa;const U=!_;_=new ui(_||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Rs(_,"https"),Do(_),U?Zh(_.toString(),m):ef(_.toString(),m)}else fe(2);a.G=0,a.l&&a.l.sa(f),ac(a),rc(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),fe(2)):(this.j.info("Failed to ping google.com"),fe(1))};function ac(a){if(a.G=0,a.ka=[],a.l){const f=Ps(a.h);(f.length!=0||a.i.length!=0)&&(V(a.ka,f),V(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function lc(a,f,m){var _=m instanceof ui?vr(m):new ui(m);if(_.g!="")f&&(_.g=f+"."+_.g),ks(_,_.s);else{var U=l.location;_=U.protocol,f=f?f+"."+U.hostname:U.hostname,U=+U.port;var H=new ui(null);_&&Rs(H,_),f&&(H.g=f),U&&ks(H,U),m&&(H.l=m),_=H}return m=a.D,f=a.ya,m&&f&&ze(_,m,f),ze(_,"VER",a.la),nr(a,_),_}function Za(a,f,m){if(f&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=a.Ca&&!a.pa?new Ye(new Mo({eb:m})):new Ye(a.pa),f.Ha(a.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function di(){}t=di.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Vs(){}Vs.prototype.g=function(a,f){return new gn(a,f)};function gn(a,f){gt.call(this),this.g=new nc(f),this.l=a,this.h=f&&f.messageUrlParams||null,a=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(a?a["X-WebChannel-Content-Type"]=f.messageContentType:a={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(a?a["X-WebChannel-Client-Profile"]=f.va:a={"X-WebChannel-Client-Profile":f.va}),this.g.S=a,(a=f&&f.Sb)&&!T(a)&&(this.g.m=a),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!T(f)&&(this.g.D=f,a=this.h,a!==null&&f in a&&(a=this.h,f in a&&delete a[f])),this.j=new Ui(this)}x(gn,gt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ya(this.g)},gn.prototype.o=function(a){var f=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=si(a),a=m);f.i.push(new Rn(f.Ya++,a)),f.G==3&&Ds(f)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,gn.aa.N.call(this)};function uc(a){Dr.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var f=a.__sm__;if(f){e:{for(const m in f){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,f=f!==null&&a in f?f[a]:void 0),this.data=f}else this.data=a}x(uc,Dr);function cc(){_t.call(this),this.status=1}x(cc,_t);function Ui(a){this.g=a}x(Ui,di),Ui.prototype.ua=function(){at(this.g,"a")},Ui.prototype.ta=function(a){at(this.g,new uc(a))},Ui.prototype.sa=function(a){at(this.g,new cc)},Ui.prototype.ra=function(){at(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,fI=function(){return new Vs},hI=function(){return Ot()},dI=xt,om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Y.NO_ERROR=0,Y.TIMEOUT=8,Y.HTTP_ERROR=6,id=Y,ge.COMPLETE="complete",cI=ge,li.EventType=An,An.OPEN="a",An.CLOSE="b",An.ERROR="c",An.MESSAGE="d",gt.prototype.listen=gt.prototype.K,El=li,uI=Mo,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,lI=Ye}).apply(typeof Nc<"u"?Nc:typeof self<"u"?self:typeof window<"u"?window:{});const m_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ba="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs=new Ih("@firebase/firestore");function hl(){return gs.logLevel}function le(t,...e){if(gs.logLevel<=ke.DEBUG){const n=e.map(Ug);gs.debug(`Firestore (${Ba}): ${t}`,...n)}}function ki(t,...e){if(gs.logLevel<=ke.ERROR){const n=e.map(Ug);gs.error(`Firestore (${Ba}): ${t}`,...n)}}function Pa(t,...e){if(gs.logLevel<=ke.WARN){const n=e.map(Ug);gs.warn(`Firestore (${Ba}): ${t}`,...n)}}function Ug(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${Ba}) INTERNAL ASSERTION FAILED: `+t;throw ki(e),new Error(e)}function Ze(t,e){t||ye()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class se extends hr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class zD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $D{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ns)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string"),new pI(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string"),new ln(e)}}class HD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class qD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,le("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ze(typeof n.token=="string"),this.R=n.token,new WD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function $e(t,e){return t<e?-1:t>e?1:0}function Ra(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new se(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new se(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vt.fromMillis(Date.now())}static fromDate(e){return Vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new Vt(0,0))}static max(){return new we(new Vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return du.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof du?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends du{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new se(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const QD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends du{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return QD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new se(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new se(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new se(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.path=e}static fromPath(e){return new he(tt.fromString(e))}static fromName(e){return new he(tt.fromString(e).popFirst(5))}static empty(){return new he(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new he(new tt(e.slice()))}}function YD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=we.fromTimestamp(r===1e9?new Vt(n+1,0):new Vt(n,r));return new yo(i,he.empty(),e)}function XD(t){return new yo(t.readTime,t.key,-1)}class yo{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yo(we.min(),he.empty(),-1)}static max(){return new yo(we.max(),he.empty(),-1)}}function JD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=he.comparator(t.documentKey,e.documentKey),n!==0?n:$e(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nu(t){if(t.code!==Q.FAILED_PRECONDITION||t.message!==ZD)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof X?n:X.resolve(n)}catch(n){return X.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):X.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):X.reject(n)}static resolve(e){return new X((n,r)=>{n(e)})}static reject(e){return new X((n,r)=>{r(e)})}static waitFor(e){return new X((n,r)=>{let i=0,o=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=X.resolve(!1);for(const r of e)n=n.next(i=>i?X.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new X((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let u=0;u<o;u++){const d=u;n(e[d]).next(p=>{s[d]=p,++l,l===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new X((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function tL(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Du(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}jg.oe=-1;function xh(t){return t==null}function qd(t){return t===0&&1/t==-1/0}function nL(t){return typeof t=="number"&&Number.isInteger(t)&&!qd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function za(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function gI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Gt.RED,this.left=i??Gt.EMPTY,this.right=o??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Gt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Gt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new y_(this.data.getIterator())}getIteratorFrom(e){return new y_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class y_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Ar([])}unionWith(e){let n=new Jt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ar(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ra(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yI("Invalid base64 string: "+o):o}}(e);return new fn(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const rL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vo(t){if(Ze(!!t),typeof t=="string"){let e=0;const n=rL.exec(t);if(Ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ct(t.seconds),nanos:Ct(t.nanos)}}function Ct(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ys(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function zg(t){const e=t.mapValue.fields.__previous_value__;return Bg(e)?zg(e):e}function hu(t){const e=vo(t.mapValue.fields.__local_write_time__.timestampValue);return new Vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i,o,s,l,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=d}}class fu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function vs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bg(t)?4:oL(t)?9007199254740991:10:ye()}function Zr(t,e){if(t===e)return!0;const n=vs(t);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=vo(i.timestampValue),l=vo(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ys(i.bytesValue).isEqual(ys(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Ct(i.geoPointValue.latitude)===Ct(o.geoPointValue.latitude)&&Ct(i.geoPointValue.longitude)===Ct(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ct(i.integerValue)===Ct(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Ct(i.doubleValue),l=Ct(o.doubleValue);return s===l?qd(s)===qd(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return Ra(t.arrayValue.values||[],e.arrayValue.values||[],Zr);case 10:return function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(g_(s)!==g_(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!Zr(s[u],l[u])))return!1;return!0}(t,e);default:return ye()}}function pu(t,e){return(t.values||[]).find(n=>Zr(n,e))!==void 0}function ka(t,e){if(t===e)return 0;const n=vs(t),r=vs(e);if(n!==r)return $e(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return $e(t.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Ct(o.integerValue||o.doubleValue),u=Ct(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return v_(t.timestampValue,e.timestampValue);case 4:return v_(hu(t),hu(e));case 5:return $e(t.stringValue,e.stringValue);case 6:return function(o,s){const l=ys(o),u=ys(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),u=s.split("/");for(let d=0;d<l.length&&d<u.length;d++){const p=$e(l[d],u[d]);if(p!==0)return p}return $e(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const l=$e(Ct(o.latitude),Ct(s.latitude));return l!==0?l:$e(Ct(o.longitude),Ct(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],u=s.values||[];for(let d=0;d<l.length&&d<u.length;++d){const p=ka(l[d],u[d]);if(p)return p}return $e(l.length,u.length)}(t.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===Lc.mapValue&&s===Lc.mapValue)return 0;if(o===Lc.mapValue)return 1;if(s===Lc.mapValue)return-1;const l=o.fields||{},u=Object.keys(l),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let y=0;y<u.length&&y<p.length;++y){const w=$e(u[y],p[y]);if(w!==0)return w;const C=ka(l[u[y]],d[p[y]]);if(C!==0)return C}return $e(u.length,p.length)}(t.mapValue,e.mapValue);default:throw ye()}}function v_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return $e(t,e);const n=vo(t),r=vo(e),i=$e(n.seconds,r.seconds);return i!==0?i:$e(n.nanos,r.nanos)}function xa(t){return sm(t)}function sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=vo(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ys(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return he.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=sm(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${sm(n.fields[s])}`;return i+"}"}(t.mapValue):ye()}function w_(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function am(t){return!!t&&"integerValue"in t}function $g(t){return!!t&&"arrayValue"in t}function __(t){return!!t&&"nullValue"in t}function E_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function od(t){return!!t&&"mapValue"in t}function Ml(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return za(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ml(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ml(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.value=e}static empty(){return new or({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!od(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ml(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Ml(s):i.push(l.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());od(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Zr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){za(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new or(Ml(this.value))}}function vI(t){const e=[];return za(t.fields,(n,r)=>{const i=new Yt([n]);if(od(r)){const o=vI(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ar(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new cn(e,0,we.min(),we.min(),we.min(),or.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,we.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,we.min(),we.min(),or.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,we.min(),we.min(),or.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=or.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=or.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e,n){this.position=e,this.inclusive=n}}function T_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=he.comparator(he.fromName(s.referenceValue),n.key):r=ka(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function I_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Zr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{}class Pt extends wI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new lL(e,n,r):n==="array-contains"?new dL(e,r):n==="in"?new hL(e,r):n==="not-in"?new fL(e,r):n==="array-contains-any"?new pL(e,r):new Pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new uL(e,r):new cL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ka(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends wI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Nr(e,n)}matches(e){return _I(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _I(t){return t.op==="and"}function EI(t){return aL(t)&&_I(t)}function aL(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function lm(t){if(t instanceof Pt)return t.field.canonicalString()+t.op.toString()+xa(t.value);if(EI(t))return t.filters.map(e=>lm(e)).join(",");{const e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function TI(t,e){return t instanceof Pt?function(r,i){return i instanceof Pt&&r.op===i.op&&r.field.isEqual(i.field)&&Zr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,l)=>o&&TI(s,i.filters[l]),!0):!1}(t,e):void ye()}function II(t){return t instanceof Pt?function(n){return`${n.field.canonicalString()} ${n.op} ${xa(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(II).join(" ,")+"}"}(t):"Filter"}class lL extends Pt{constructor(e,n,r){super(e,n,r),this.key=he.fromName(r.referenceValue)}matches(e){const n=he.comparator(e.key,this.key);return this.matchesComparison(n)}}class uL extends Pt{constructor(e,n){super(e,"in",n),this.keys=SI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cL extends Pt{constructor(e,n){super(e,"not-in",n),this.keys=SI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function SI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>he.fromName(r.referenceValue))}class dL extends Pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $g(n)&&pu(n.arrayValue,this.value)}}class hL extends Pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class fL extends Pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}}class pL extends Pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$g(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.ue=null}}function S_(t,e=null,n=[],r=[],i=null,o=null,s=null){return new mL(t,e,n,r,i,o,s)}function Hg(t){const e=Ee(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),xh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>xa(r)).join(",")),e.ue=n}return e.ue}function qg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!TI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!I_(t.startAt,e.startAt)&&I_(t.endAt,e.endAt)}function um(t){return he.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function gL(t,e,n,r,i,o,s,l){return new $a(t,e,n,r,i,o,s,l)}function Wg(t){return new $a(t)}function b_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function bI(t){return t.collectionGroup!==null}function Vl(t){const e=Ee(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new Jt(Yt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new mu(o,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new mu(Yt.keyField(),r))}return e.ce}function Qr(t){const e=Ee(t);return e.le||(e.le=yL(e,Vl(t))),e.le}function yL(t,e){if(t.limitType==="F")return S_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new mu(i.field,o)});const n=t.endAt?new Wd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Wd(t.startAt.position,t.startAt.inclusive):null;return S_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function cm(t,e){const n=t.filters.concat([e]);return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dm(t,e,n){return new $a(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Lu(t,e){return qg(Qr(t),Qr(e))&&t.limitType===e.limitType}function CI(t){return`${Hg(Qr(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>II(i)).join(", ")}]`),xh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>xa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>xa(i)).join(",")),`Target(${r})`}(Qr(t))}; limitType=${t.limitType})`}function Oh(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):he.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Vl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const d=T_(s,l,u);return s.inclusive?d<=0:d<0}(r.startAt,Vl(r),i)||r.endAt&&!function(s,l,u){const d=T_(s,l,u);return s.inclusive?d>=0:d>0}(r.endAt,Vl(r),i))}(t,e)}function vL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function AI(t){return(e,n)=>{let r=!1;for(const i of Vl(t)){const o=wL(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function wL(t,e,n){const r=t.field.isKeyField()?he.comparator(e.key,n.key):function(o,s,l){const u=s.data.field(o),d=l.data.field(o);return u!==null&&d!==null?ka(u,d):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){za(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new ft(he.comparator);function xi(){return _L}const PI=new ft(he.comparator);function Tl(...t){let e=PI;for(const n of t)e=e.insert(n.key,n);return e}function RI(t){let e=PI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jo(){return Fl()}function kI(){return Fl()}function Fl(){return new Ha(t=>t.toString(),(t,e)=>t.isEqual(e))}const EL=new ft(he.comparator),TL=new Jt(he.comparator);function Pe(...t){let e=TL;for(const n of t)e=e.add(n);return e}const IL=new Jt($e);function SL(){return IL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qd(e)?"-0":e}}function OI(t){return{integerValue:""+t}}function bL(t,e){return nL(e)?OI(e):xI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(){this._=void 0}}function CL(t,e,n){return t instanceof gu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Bg(o)&&(o=zg(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof yu?DI(t,e):t instanceof vu?LI(t,e):function(i,o){const s=NI(i,o),l=C_(s)+C_(i.Pe);return am(s)&&am(i.Pe)?OI(l):xI(i.serializer,l)}(t,e)}function AL(t,e,n){return t instanceof yu?DI(t,e):t instanceof vu?LI(t,e):n}function NI(t,e){return t instanceof Kd?function(r){return am(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class gu extends Nh{}class yu extends Nh{constructor(e){super(),this.elements=e}}function DI(t,e){const n=MI(e);for(const r of t.elements)n.some(i=>Zr(i,r))||n.push(r);return{arrayValue:{values:n}}}class vu extends Nh{constructor(e){super(),this.elements=e}}function LI(t,e){let n=MI(e);for(const r of t.elements)n=n.filter(i=>!Zr(i,r));return{arrayValue:{values:n}}}class Kd extends Nh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function C_(t){return Ct(t.integerValue||t.doubleValue)}function MI(t){return $g(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n){this.field=e,this.transform=n}}function RL(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof yu&&i instanceof yu||r instanceof vu&&i instanceof vu?Ra(r.elements,i.elements,Zr):r instanceof Kd&&i instanceof Kd?Zr(r.Pe,i.Pe):r instanceof gu&&i instanceof gu}(t.transform,e.transform)}class kL{constructor(e,n){this.version=e,this.transformResults=n}}class Yr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Yr}static exists(e){return new Yr(void 0,e)}static updateTime(e){return new Yr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function sd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Dh{}function VI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new UI(t.key,Yr.none()):new Mu(t.key,t.data,Yr.none());{const n=t.data,r=or.empty();let i=new Jt(Yt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Cs(t.key,r,new Ar(i.toArray()),Yr.none())}}function xL(t,e,n){t instanceof Mu?function(i,o,s){const l=i.value.clone(),u=P_(i.fieldTransforms,o,s.transformResults);l.setAll(u),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Cs?function(i,o,s){if(!sd(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=P_(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(FI(i)),u.setAll(l),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ul(t,e,n,r){return t instanceof Mu?function(o,s,l,u){if(!sd(o.precondition,s))return l;const d=o.value.clone(),p=R_(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cs?function(o,s,l,u){if(!sd(o.precondition,s))return l;const d=R_(o.fieldTransforms,u,s),p=s.data;return p.setAll(FI(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(y=>y.field))}(t,e,n,r):function(o,s,l){return sd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function OL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=NI(r.transform,i||null);o!=null&&(n===null&&(n=or.empty()),n.set(r.field,o))}return n||null}function A_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Ra(r,i,(o,s)=>RL(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Mu extends Dh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Cs extends Dh{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function FI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function P_(t,e,n){const r=new Map;Ze(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,AL(s,l,n[i]))}return r}function R_(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,CL(o,s,e))}return r}class UI extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NL extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&xL(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ul(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=kI();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const u=VI(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Ra(this.mutations,e.mutations,(n,r)=>A_(n,r))&&Ra(this.baseMutations,e.baseMutations,(n,r)=>A_(n,r))}}class Kg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ze(e.mutations.length===r.length);let i=function(){return EL}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Kg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Le;function VL(t){switch(t){default:return ye();case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0}}function jI(t){if(t===void 0)return ki("GRPC error has no .code"),Q.UNKNOWN;switch(t){case St.OK:return Q.OK;case St.CANCELLED:return Q.CANCELLED;case St.UNKNOWN:return Q.UNKNOWN;case St.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case St.INTERNAL:return Q.INTERNAL;case St.UNAVAILABLE:return Q.UNAVAILABLE;case St.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case St.NOT_FOUND:return Q.NOT_FOUND;case St.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case St.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case St.ABORTED:return Q.ABORTED;case St.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case St.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case St.DATA_LOSS:return Q.DATA_LOSS;default:return ye()}}(Le=St||(St={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=new ts([4294967295,4294967295],0);function k_(t){const e=FL().encode(t),n=new aI;return n.update(e),new Uint8Array(n.digest())}function x_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ts([n,r],0),new ts([i,o],0)]}class Gg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(r<0)throw new Il(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ts.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ts.fromNumber(r)));return i.compare(UL)===1&&(i=new ts([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=k_(e),[r,i]=x_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Gg(o,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;const n=k_(e),[r,i]=x_(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Vu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Lh(we.min(),i,new ft($e),xi(),Pe())}}class Vu{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vu(r,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class BI{constructor(e,n){this.targetId=e,this.me=n}}class zI{constructor(e,n,r=fn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O_{constructor(){this.fe=0,this.ge=D_(),this.pe=fn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Pe(),n=Pe(),r=Pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ye()}}),new Vu(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=D_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jL{constructor(e){this.Le=e,this.Be=new Map,this.ke=xi(),this.qe=N_(),this.Qe=new ft($e)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(um(o))if(r===0){const s=new he(o.path);this.Ue(n,s,cn.newNoDocument(s,we.min()))}else Ze(r===1);else{const s=this.Ye(n);if(s!==r){const l=this.Ze(e),u=l?this.Xe(l,e,s):1;if(u!==0){this.je(n);const d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=ys(r).toUint8Array()}catch(u){if(u instanceof yI)return Pa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new Gg(s,i,o)}catch(u){return Pa(u instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const l=this.Je(s);if(l){if(o.current&&um(l.target)){const u=new he(l.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,cn.newNoDocument(u,e))}o.be&&(n.set(s,o.Ce()),o.ve())}});let r=Pe();this.qe.forEach((o,s)=>{let l=!0;s.forEachWhile(u=>{const d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Lh(e,n,this.Qe,this.ke,r);return this.ke=xi(),this.qe=N_(),this.Qe=new ft($e),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new O_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Jt($e),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function N_(){return new ft(he.comparator)}function D_(){return new ft(he.comparator)}const BL={asc:"ASCENDING",desc:"DESCENDING"},zL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$L={and:"AND",or:"OR"};class HL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hm(t,e){return t.useProto3Json||xh(e)?e:{value:e}}function Gd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $I(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qL(t,e){return Gd(t,e.toTimestamp())}function Xr(t){return Ze(!!t),we.fromTimestamp(function(n){const r=vo(n);return new Vt(r.seconds,r.nanos)}(t))}function Qg(t,e){return fm(t,e).canonicalString()}function fm(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function HI(t){const e=tt.fromString(t);return Ze(QI(e)),e}function pm(t,e){return Qg(t.databaseId,e.path)}function Kf(t,e){const n=HI(e);if(n.get(1)!==t.databaseId.projectId)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new se(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new he(WI(n))}function qI(t,e){return Qg(t.databaseId,e)}function WL(t){const e=HI(t);return e.length===4?tt.emptyPath():WI(e)}function mm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return Ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L_(t,e,n){return{name:pm(t,e),fields:n.value.mapValue.fields}}function KL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Ze(p===void 0||typeof p=="string"),fn.fromBase64String(p||"")):(Ze(p===void 0||p instanceof Buffer||p instanceof Uint8Array),fn.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(d){const p=d.code===void 0?Q.UNKNOWN:jI(d.code);return new se(p,d.message||"")}(s);n=new zI(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kf(t,r.document.name),o=Xr(r.document.updateTime),s=r.document.createTime?Xr(r.document.createTime):we.min(),l=new or({mapValue:{fields:r.document.fields}}),u=cn.newFoundDocument(i,o,s,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new ad(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kf(t,r.document),o=r.readTime?Xr(r.readTime):we.min(),s=cn.newNoDocument(i,o),l=r.removedTargetIds||[];n=new ad([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kf(t,r.document),o=r.removedTargetIds||[];n=new ad([],o,i,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ML(i,o),l=r.targetId;n=new BI(l,s)}}return n}function GL(t,e){let n;if(e instanceof Mu)n={update:L_(t,e.key,e.value)};else if(e instanceof UI)n={delete:pm(t,e.key)};else if(e instanceof Cs)n={update:L_(t,e.key,e.data),updateMask:rM(e.fieldMask)};else{if(!(e instanceof NL))return ye();n={verify:pm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yu)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof vu)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Kd)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:qL(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ye()}(t,e.precondition)),n}function QL(t,e){return t&&t.length>0?(Ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Xr(i.updateTime):Xr(o);return s.isEqual(we.min())&&(s=Xr(o)),new kL(s,i.transformResults||[])}(n,e))):[]}function YL(t,e){return{documents:[qI(t,e.path)]}}function XL(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qI(t,i);const o=function(d){if(d.length!==0)return GI(Nr.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(d){if(d.length!==0)return d.map(p=>function(w){return{field:qs(w.field),direction:eM(w.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=hm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function JL(t){let e=WL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ze(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(y){const w=KI(y);return w instanceof Nr&&EI(w)?w.getFilters():[w]}(n.where));let s=[];n.orderBy&&(s=function(y){return y.map(w=>function(x){return new mu(Ws(x.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(n.orderBy));let l=null;n.limit&&(l=function(y){let w;return w=typeof y=="object"?y.value:y,xh(w)?null:w}(n.limit));let u=null;n.startAt&&(u=function(y){const w=!!y.before,C=y.values||[];return new Wd(C,w)}(n.startAt));let d=null;return n.endAt&&(d=function(y){const w=!y.before,C=y.values||[];return new Wd(C,w)}(n.endAt)),gL(e,i,s,o,l,"F",u,d)}function ZL(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ws(n.unaryFilter.field);return Pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ws(n.unaryFilter.field);return Pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ws(n.unaryFilter.field);return Pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ws(n.unaryFilter.field);return Pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(n){return Pt.create(Ws(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>KI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ye()}}(n.compositeFilter.op))}(t):ye()}function eM(t){return BL[t]}function tM(t){return zL[t]}function nM(t){return $L[t]}function qs(t){return{fieldPath:t.canonicalString()}}function Ws(t){return Yt.fromServerFormat(t.fieldPath)}function GI(t){return t instanceof Pt?function(n){if(n.op==="=="){if(E_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NAN"}};if(__(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E_(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NAN"}};if(__(n.value))return{unaryFilter:{field:qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(n.field),op:tM(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>GI(i));return r.length===1?r[0]:{compositeFilter:{op:nM(n.op),filters:r}}}(t):ye()}function rM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n,r,i,o=we.min(),s=we.min(),l=fn.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ro(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ro(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.ct=e}}function oM(t){const e=JL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this._n=new aM}addToCollectionParentIndex(e,n){return this._n.add(n),X.resolve()}getCollectionParents(e,n){return X.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return X.resolve()}deleteFieldIndex(e,n){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,n){return X.resolve()}getDocumentsMatchingTarget(e,n){return X.resolve(null)}getIndexType(e,n){return X.resolve(0)}getFieldIndexes(e,n){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,n){return X.resolve(yo.min())}getMinOffsetFromCollectionGroup(e,n){return X.resolve(yo.min())}updateCollectionGroup(e,n,r){return X.resolve()}updateIndexEntries(e,n){return X.resolve()}}class aM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Jt(tt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Jt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new Oa(0)}static Ln(){return new Oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.changes=new Ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?X.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ul(r.mutation,i,Ar.empty(),Vt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Pe()){const i=Jo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Tl();return o.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Jo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let o=xi();const s=Fl(),l=function(){return Fl()}();return n.forEach((u,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Cs)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),Ul(p.mutation,d,p.mutation.getFieldMask(),Vt.now())):s.set(d.key,Ar.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var y;return l.set(d,new uM(p,(y=s.get(d))!==null&&y!==void 0?y:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Fl();let i=new ft((s,l)=>s-l),o=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Ar.empty();p=l.applyToLocalView(d,p),r.set(u,p);const y=(i.get(l.batchId)||Pe()).add(u);i=i.insert(l.batchId,y)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),d=u.key,p=u.value,y=kI();p.forEach(w=>{if(!o.has(w)){const C=VI(n.get(w),r.get(w));C!==null&&y.set(w,C),o=o.add(w)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,y))}return X.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return he.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):X.resolve(Jo());let l=-1,u=o;return s.next(d=>X.forEach(d,(p,y)=>(l<y.largestBatchId&&(l=y.largestBatchId),o.get(p)?X.resolve():this.remoteDocumentCache.getEntry(e,p).next(w=>{u=u.insert(p,w)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Pe())).next(p=>({batchId:l,changes:RI(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new he(n)).next(r=>{let i=Tl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Tl();return this.indexManager.getCollectionParents(e,o).next(l=>X.forEach(l,u=>{const d=function(y,w){return new $a(w,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((y,w)=>{s=s.insert(y,w)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{const p=d.getKey();s.get(p)===null&&(s=s.insert(p,cn.newInvalidDocument(p)))});let l=Tl();return s.forEach((u,d)=>{const p=o.get(u);p!==void 0&&Ul(p.mutation,d,Ar.empty(),Vt.now()),Oh(n,d)&&(l=l.insert(u,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return X.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Xr(i.createTime)}}(n)),X.resolve()}getNamedQuery(e,n){return X.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:oM(i.bundledQuery),readTime:Xr(i.readTime)}}(n)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(){this.overlays=new ft(he.comparator),this.hr=new Map}getOverlay(e,n){return X.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jo();return X.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),X.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hr.delete(r)),X.resolve()}getOverlaysForCollection(e,n,r){const i=Jo(),o=n.length+1,s=new he(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return X.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ft((d,p)=>d-p);const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Jo(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Jo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return X.resolve(l)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LL(n,r));let o=this.hr.get(n);o===void 0&&(o=Pe(),this.hr.set(n,o)),this.hr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(){this.Pr=new Jt(Ht.Ir),this.Tr=new Jt(Ht.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Ht(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Ht(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new he(new tt([])),r=new Ht(n,e),i=new Ht(n,e+1),o=[];return this.Tr.forEachInRange([r,i],s=>{this.Ar(s),o.push(s.key)}),o}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new he(new tt([])),r=new Ht(n,e),i=new Ht(n,e+1);let o=Pe();return this.Tr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Ht(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ht{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return he.comparator(e.key,n.key)||$e(e.pr,n.pr)}static Er(e,n){return $e(e.pr,n.pr)||he.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Jt(Ht.Ir)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new DL(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.wr=this.wr.add(new Ht(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return X.resolve(s)}lookupMutationBatch(e,n){return X.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),o=i<0?0:i;return X.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ht(n,0),i=new Ht(n,Number.POSITIVE_INFINITY),o=[];return this.wr.forEachInRange([r,i],s=>{const l=this.Sr(s.pr);o.push(l)}),X.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt($e);return n.forEach(i=>{const o=new Ht(i,0),s=new Ht(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([o,s],l=>{r=r.add(l.pr)})}),X.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;he.isDocumentKey(o)||(o=o.child(""));const s=new Ht(new he(o),0);let l=new Jt($e);return this.wr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(u.pr)),!0)},s),X.resolve(this.Dr(l))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ze(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return X.forEach(n.mutations,i=>{const o=new Ht(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Ht(n,0),i=this.wr.firstAfterOrEqual(r);return X.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.vr=e,this.docs=function(){return new ft(he.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return X.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=xi();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cn.newInvalidDocument(i))}),X.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xi();const s=n.path,l=new he(s.child("")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||JD(XD(p),r)<=0||(i.has(p.key)||Oh(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return X.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ye()}Fr(e,n){return X.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mM(this)}getSize(e){return X.resolve(this.size)}}class mM extends lM{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),X.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.persistence=e,this.Mr=new Ha(n=>Hg(n),qg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Yg,this.targetCount=0,this.Lr=Oa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),X.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new Oa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,X.resolve()}updateTargetData(e,n){return this.qn(n),X.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Mr.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Mr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),X.waitFor(o).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return X.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),X.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),X.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),X.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return X.resolve(r)}containsKey(e,n){return X.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n){this.Br={},this.overlays={},this.kr=new jg(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new gM(this),this.indexManager=new sM,this.remoteDocumentCache=function(i){return new pM(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new iM(n),this.$r=new dM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new hM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new fM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const i=new vM(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(o=>this.referenceDelegate.Wr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Gr(e,n){return X.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class vM extends eL{constructor(e){super(),this.currentSequenceNumber=e}}class Xg{constructor(e){this.persistence=e,this.zr=new Yg,this.jr=null}static Hr(e){return new Xg(e)}get Jr(){if(this.jr)return this.jr;throw ye()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),X.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),X.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Jr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Jr,r=>{const i=he.fromPath(r);return this.Yr(e,i).next(o=>{o||n.removeEntry(i,we.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return X.or([()=>X.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=Pe(),i=Pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Jg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return jR()?8:tL(en())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ji(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Hi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new wM;return this.Ji(e,n,s).next(l=>{if(o.result=l,this.Ui)return this.Yi(e,n,s,l.size)})}).next(()=>o.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(hl()<=ke.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),X.resolve()):(hl()<=ke.DEBUG&&le("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(hl()<=ke.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Qr(n))):X.resolve())}ji(e,n){if(b_(n))return X.resolve(null);let r=Qr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dm(n,null,"F"),r=Qr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=Pe(...o);return this.zi.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Zi(n,l);return this.Xi(n,d,s,u.readTime)?this.ji(e,dm(n,null,"F")):this.es(e,d,n,u)}))})))}Hi(e,n,r,i){return b_(n)||i.isEqual(we.min())?X.resolve(null):this.zi.getDocuments(e,r).next(o=>{const s=this.Zi(n,o);return this.Xi(n,s,r,i)?X.resolve(null):(hl()<=ke.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.es(e,s,n,YD(i,-1)).next(l=>l))})}Zi(e,n){let r=new Jt(AI(e));return n.forEach((i,o)=>{Oh(e,o)&&(r=r.add(o))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ji(e,n,r){return hl()<=ke.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.zi.getDocumentsMatchingQuery(e,n,yo.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new ft($e),this.rs=new Ha(o=>Hg(o),qg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cM(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function TM(t,e,n,r){return new EM(t,e,n,r)}async function YI(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],l=[];let u=Pe();for(const d of i){s.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of o){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({us:d,removedBatchIds:s,addedBatchIds:l}))})})}function IM(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.os.newChangeBuffer({trackRemovals:!0});return function(l,u,d,p){const y=d.batch,w=y.keys();let C=X.resolve();return w.forEach(x=>{C=C.next(()=>p.getEntry(u,x)).next(O=>{const V=d.docVersions.get(x);Ze(V!==null),O.version.compareTo(V)<0&&(y.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(u,y))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Pe();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(u=u.add(l.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function XI(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function SM(t,e){const n=Ee(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const l=[];e.targetChanges.forEach((p,y)=>{const w=i.get(y);if(!w)return;l.push(n.Qr.removeMatchingKeys(o,p.removedDocuments,y).next(()=>n.Qr.addMatchingKeys(o,p.addedDocuments,y)));let C=w.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(y)!==null?C=C.withResumeToken(fn.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):p.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(p.resumeToken,r)),i=i.insert(y,C),function(O,V,b){return O.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(w,C,p)&&l.push(n.Qr.updateTargetData(o,C))});let u=xi(),d=Pe();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),l.push(bM(o,s,e.documentUpdates).next(p=>{u=p.cs,d=p.ls})),!r.isEqual(we.min())){const p=n.Qr.getLastRemoteSnapshotVersion(o).next(y=>n.Qr.setTargetsMetadata(o,o.currentSequenceNumber,r));l.push(p)}return X.waitFor(l).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.ns=i,o))}function bM(t,e,n){let r=Pe(),i=Pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xi();return n.forEach((l,u)=>{const d=o.get(l);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(we.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):le("LocalStore","Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",u.version)}),{cs:s,ls:i}})}function CM(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function AM(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(o=>o?(i=o,X.resolve(i)):n.Qr.allocateTargetId(r).next(s=>(i=new ro(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function gm(t,e,n){const r=Ee(t),i=r.ns.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Du(s))throw s;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function M_(t,e,n){const r=Ee(t);let i=we.min(),o=Pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){const y=Ee(u),w=y.rs.get(p);return w!==void 0?X.resolve(y.ns.get(w)):y.Qr.getTargetData(d,p)}(r,s,Qr(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,l.targetId).next(u=>{o=u})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?i:we.min(),n?o:Pe())).next(l=>(PM(r,vL(e),l),{documents:l,hs:o})))}function PM(t,e,n){let r=t.ss.get(e)||we.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.ss.set(e,r)}class V_{constructor(){this.activeTargetIds=SL()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class RM{constructor(){this.no=new V_,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new V_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc=null;function Gf(){return Mc===null?Mc=function(){return 268435456+Math.round(2147483648*Math.random())}():Mc++,"0x"+Mc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class NM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${o}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Do(){return!1}Co(n,r,i,o,s){const l=Gf(),u=this.vo(n,r.toUriEncodedString());le("RestConnection",`Sending RPC '${n}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(d,o,s),this.Mo(n,u,d,i).then(p=>(le("RestConnection",`Received RPC '${n}' ${l}: `,p),p),p=>{throw Pa("RestConnection",`RPC '${n}' ${l} failed with error: `,p,"url: ",u,"request:",i),p})}xo(n,r,i,o,s,l){return this.Co(n,r,i,o,s)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ba}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}vo(n,r){const i=xM[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const o=Gf();return new Promise((s,l)=>{const u=new lI;u.setWithCredentials(!0),u.listenOnce(cI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case id.NO_ERROR:const p=u.getResponseJson();le(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case id.TIMEOUT:le(an,`RPC '${e}' ${o} timed out`),l(new se(Q.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const y=u.getStatus();if(le(an,`RPC '${e}' ${o} failed with status:`,y,"response text:",u.getResponseText()),y>0){let w=u.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w==null?void 0:w.error;if(C&&C.status&&C.message){const x=function(V){const b=V.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(b)>=0?b:Q.UNKNOWN}(C.status);l(new se(x,C.message))}else l(new se(Q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new se(Q.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{le(an,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);le(an,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Oo(e,n,r){const i=Gf(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fI(),l=hI(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.xmlHttpFactory=new uI({})),this.Fo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=o.join("");le(an,`Creating RPC '${e}' stream ${i}: ${p}`,u);const y=s.createWebChannel(p,u);let w=!1,C=!1;const x=new OM({lo:V=>{C?le(an,`Not sending because RPC '${e}' stream ${i} is closed:`,V):(w||(le(an,`Opening RPC '${e}' stream ${i} transport.`),y.open(),w=!0),le(an,`RPC '${e}' stream ${i} sending:`,V),y.send(V))},ho:()=>y.close()}),O=(V,b,T)=>{V.listen(b,P=>{try{T(P)}catch(B){setTimeout(()=>{throw B},0)}})};return O(y,El.EventType.OPEN,()=>{C||(le(an,`RPC '${e}' stream ${i} transport opened.`),x.mo())}),O(y,El.EventType.CLOSE,()=>{C||(C=!0,le(an,`RPC '${e}' stream ${i} transport closed`),x.po())}),O(y,El.EventType.ERROR,V=>{C||(C=!0,Pa(an,`RPC '${e}' stream ${i} transport errored:`,V),x.po(new se(Q.UNAVAILABLE,"The operation could not be completed")))}),O(y,El.EventType.MESSAGE,V=>{var b;if(!C){const T=V.data[0];Ze(!!T);const P=T,B=P.error||((b=P[0])===null||b===void 0?void 0:b.error);if(B){le(an,`RPC '${e}' stream ${i} received error:`,B);const G=B.status;let L=function(I){const R=St[I];if(R!==void 0)return jI(R)}(G),S=B.message;L===void 0&&(L=Q.INTERNAL,S="Unknown error status: "+G+" with message "+B.message),C=!0,x.po(new se(L,S)),y.close()}else le(an,`RPC '${e}' stream ${i} received:`,T),x.yo(T)}}),O(l,dI.STAT_EVENT,V=>{V.stat===om.PROXY?le(an,`RPC '${e}' stream ${i} detected buffering proxy`):V.stat===om.NOPROXY&&le(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{x.fo()},0),x}}function Qf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){return new HL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r=1e3,i=1.5,o=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=o,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r,i,o,s,l,u){this.oi=e,this.Go=r,this.zo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new JI(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===Q.RESOURCE_EXHAUSTED?(ki(n.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new se(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DM extends ZI{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=KL(this.serializer,e),r=function(o){if(!("targetChange"in o))return we.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?we.min():s.readTime?Xr(s.readTime):we.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(o,s){let l;const u=s.target;if(l=um(u)?{documents:YL(o,u)}:{query:XL(o,u)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=$I(o,s.resumeToken);const d=hm(o,s.expectedCount);d!==null&&(l.expectedCount=d)}else if(s.snapshotVersion.compareTo(we.min())>0){l.readTime=Gd(o,s.snapshotVersion.toTimestamp());const d=hm(o,s.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=ZL(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.i_(n)}}class LM extends ZI{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(Ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=QL(e.writeResults,e.commitTime),r=Xr(e.commitTime);return this.listener.A_(r,n)}return Ze(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=mm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GL(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,fm(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new se(Q.UNKNOWN,o.toString())})}xo(e,n,r,i,o){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.xo(e,fm(n,r),i,s,l,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new se(Q.UNKNOWN,s.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class VM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(ki(n),this.y_=!1):le("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=o,this.O_.io(s=>{r.enqueueAndForget(async()=>{As(this)&&(le("RemoteStore","Restarting streams for network reachability change."),await async function(u){const d=Ee(u);d.M_.add(4),await Fu(d),d.N_.set("Unknown"),d.M_.delete(4),await Vh(d)}(this))})}),this.N_=new VM(r,i)}}async function Vh(t){if(As(t))for(const e of t.x_)await e(!0)}async function Fu(t){for(const e of t.x_)await e(!1)}function eS(t,e){const n=Ee(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ny(n)?ty(n):qa(n).Xo()&&ey(n,e))}function Zg(t,e){const n=Ee(t),r=qa(n);n.F_.delete(e),r.Xo()&&tS(n,e),n.F_.size===0&&(r.Xo()?r.n_():As(n)&&n.N_.set("Unknown"))}function ey(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}qa(t).P_(e)}function tS(t,e){t.L_.xe(e),qa(t).I_(e)}function ty(t){t.L_=new jL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),qa(t).start(),t.N_.w_()}function ny(t){return As(t)&&!qa(t).Zo()&&t.F_.size>0}function As(t){return Ee(t).M_.size===0}function nS(t){t.L_=void 0}async function UM(t){t.N_.set("Online")}async function jM(t){t.F_.forEach((e,n)=>{ey(t,e)})}async function BM(t,e){nS(t),ny(t)?(t.N_.D_(e),ty(t)):t.N_.set("Unknown")}async function zM(t,e,n){if(t.N_.set("Online"),e instanceof zI&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const l of o.targetIds)i.F_.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.F_.delete(l),i.L_.removeTarget(l))}(t,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Qd(t,r)}else if(e instanceof ad?t.L_.Ke(e):e instanceof BI?t.L_.He(e):t.L_.We(e),!n.isEqual(we.min()))try{const r=await XI(t.localStore);n.compareTo(r)>=0&&await function(o,s){const l=o.L_.rt(s);return l.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){const p=o.F_.get(d);p&&o.F_.set(d,p.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,d)=>{const p=o.F_.get(u);if(!p)return;o.F_.set(u,p.withResumeToken(fn.EMPTY_BYTE_STRING,p.snapshotVersion)),tS(o,u);const y=new ro(p.target,u,d,p.sequenceNumber);ey(o,y)}),o.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){le("RemoteStore","Failed to raise snapshot:",r),await Qd(t,r)}}async function Qd(t,e,n){if(!Du(e))throw e;t.M_.add(1),await Fu(t),t.N_.set("Offline"),n||(n=()=>XI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await Vh(t)})}function rS(t,e){return e().catch(n=>Qd(t,n,e))}async function Fh(t){const e=Ee(t),n=wo(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;$M(e);)try{const i=await CM(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,HM(e,i)}catch(i){await Qd(e,i)}iS(e)&&oS(e)}function $M(t){return As(t)&&t.v_.length<10}function HM(t,e){t.v_.push(e);const n=wo(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function iS(t){return As(t)&&!wo(t).Zo()&&t.v_.length>0}function oS(t){wo(t).start()}async function qM(t){wo(t).V_()}async function WM(t){const e=wo(t);for(const n of t.v_)e.d_(n.mutations)}async function KM(t,e,n){const r=t.v_.shift(),i=Kg.from(r,e,n);await rS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fh(t)}async function GM(t,e){e&&wo(t).E_&&await async function(r,i){if(function(s){return VL(s)&&s!==Q.ABORTED}(i.code)){const o=r.v_.shift();wo(r).t_(),await rS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Fh(r)}}(t,e),iS(t)&&oS(t)}async function U_(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=As(n);n.M_.add(3),await Fu(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await Vh(n)}async function QM(t,e){const n=Ee(t);e?(n.M_.delete(2),await Vh(n)):e||(n.M_.add(2),await Fu(n),n.N_.set("Unknown"))}function qa(t){return t.B_||(t.B_=function(n,r,i){const o=Ee(n);return o.f_(),new DM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:UM.bind(null,t),To:jM.bind(null,t),Ao:BM.bind(null,t),h_:zM.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ny(t)?ty(t):t.N_.set("Unknown")):(await t.B_.stop(),nS(t))})),t.B_}function wo(t){return t.k_||(t.k_=function(n,r,i){const o=Ee(n);return o.f_(),new LM(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:qM.bind(null,t),Ao:GM.bind(null,t),R_:WM.bind(null,t),A_:KM.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await Fh(t)):(await t.k_.stop(),t.v_.length>0&&(le("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new ry(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new se(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(t,e){if(ki("AsyncQueue",`${e}: ${t}`),Du(t))return new se(Q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.comparator=e?(n,r)=>e(n,r)||he.comparator(n.key,r.key):(n,r)=>he.comparator(n.key,r.key),this.keyedMap=Tl(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new va(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof va)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new va;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(){this.q_=new ft(he.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):ye():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Na{constructor(e,n,r,i,o,s,l,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Na(e,n,va.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class XM{constructor(){this.queries=new Ha(e=>CI(e),Lu),this.onlineState="Unknown",this.z_=new Set}}async function JM(t,e){const n=Ee(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.W_()&&e.G_()&&(r=2):(o=new YM,r=e.G_()?0:1);try{switch(r){case 0:o.K_=await n.onListen(i,!0);break;case 1:o.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=iy(s,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.U_.push(e),e.j_(n.onlineState),o.K_&&e.H_(o.K_)&&oy(n)}async function ZM(t,e){const n=Ee(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.U_.indexOf(e);s>=0&&(o.U_.splice(s,1),o.U_.length===0?i=e.G_()?0:1:!o.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function e4(t,e){const n=Ee(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.U_)l.H_(i)&&(r=!0);s.K_=i}}r&&oy(n)}function t4(t,e,n){const r=Ee(t),i=r.queries.get(e);if(i)for(const o of i.U_)o.onError(n);r.queries.delete(e)}function oy(t){t.z_.forEach(e=>{e.next()})}var ym,B_;(B_=ym||(ym={})).J_="default",B_.Cache="cache";class n4{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Na(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=Na.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e){this.key=e}}class aS{constructor(e){this.key=e}}class r4{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Pe(),this.mutatedKeys=Pe(),this.Ia=AI(e),this.Ta=new va(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new j_,i=n?n.Ta:this.Ta;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,y)=>{const w=i.get(p),C=Oh(this.query,y)?y:null,x=!!w&&this.mutatedKeys.has(w.key),O=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let V=!1;w&&C?w.data.isEqual(C.data)?x!==O&&(r.track({type:3,doc:C}),V=!0):this.Ra(w,C)||(r.track({type:2,doc:C}),V=!0,(u&&this.Ia(C,u)>0||d&&this.Ia(C,d)<0)&&(l=!0)):!w&&C?(r.track({type:0,doc:C}),V=!0):w&&!C&&(r.track({type:1,doc:w}),V=!0,(u||d)&&(l=!0)),V&&(C?(s=s.add(C),o=O?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ta:s,Aa:r,Xi:l,mutatedKeys:o}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort((p,y)=>function(C,x){const O=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return O(C)-O(x)}(p.type,y.type)||this.Ia(p.doc,y.doc)),this.Va(r),i=i!=null&&i;const l=n&&!i?this.ma():[],u=this.Pa.size===0&&this.current&&!i?1:0,d=u!==this.ha;return this.ha=u,s.length!==0||d?{snapshot:new Na(this.query,e.Ta,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:l}:{fa:l}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new j_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Pe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new aS(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new sS(r))}),n}pa(e){this.la=e.hs,this.Pa=Pe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return Na.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class i4{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class o4{constructor(e){this.key=e,this.wa=!1}}class s4{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new Ha(l=>CI(l),Lu),this.Da=new Map,this.Ca=new Set,this.va=new ft(he.comparator),this.Fa=new Map,this.Ma=new Yg,this.xa={},this.Oa=new Map,this.Na=Oa.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function a4(t,e,n=!0){const r=fS(t);let i;const o=r.ba.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.ya()):i=await lS(r,e,n,!0),i}async function l4(t,e){const n=fS(t);await lS(n,e,!0,!1)}async function lS(t,e,n,r){const i=await AM(t.localStore,Qr(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let l;return r&&(l=await u4(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&eS(t.remoteStore,i),l}async function u4(t,e,n,r,i){t.Ba=(y,w,C)=>async function(O,V,b,T){let P=V.view.da(b);P.Xi&&(P=await M_(O.localStore,V.query,!1).then(({documents:S})=>V.view.da(S,P)));const B=T&&T.targetChanges.get(V.targetId),G=T&&T.targetMismatches.get(V.targetId)!=null,L=V.view.applyChanges(P,O.isPrimaryClient,B,G);return $_(O,V.targetId,L.fa),L.snapshot}(t,y,w,C);const o=await M_(t.localStore,e,!0),s=new r4(e,o.hs),l=s.da(o.documents),u=Vu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(l,t.isPrimaryClient,u);$_(t,n,d.fa);const p=new i4(e,n,s);return t.ba.set(e,p),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),d.snapshot}async function c4(t,e,n){const r=Ee(t),i=r.ba.get(e),o=r.Da.get(i.targetId);if(o.length>1)return r.Da.set(i.targetId,o.filter(s=>!Lu(s,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await gm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zg(r.remoteStore,i.targetId),vm(r,i.targetId)}).catch(Nu)):(vm(r,i.targetId),await gm(r.localStore,i.targetId,!0))}async function d4(t,e){const n=Ee(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zg(n.remoteStore,r.targetId))}async function h4(t,e,n){const r=w4(t);try{const i=await function(s,l){const u=Ee(s),d=Vt.now(),p=l.reduce((C,x)=>C.add(x.key),Pe());let y,w;return u.persistence.runTransaction("Locally write mutations","readwrite",C=>{let x=xi(),O=Pe();return u.os.getEntries(C,p).next(V=>{x=V,x.forEach((b,T)=>{T.isValidDocument()||(O=O.add(b))})}).next(()=>u.localDocuments.getOverlayedDocuments(C,x)).next(V=>{y=V;const b=[];for(const T of l){const P=OL(T,y.get(T.key).overlayedDocument);P!=null&&b.push(new Cs(T.key,P,vI(P.value.mapValue),Yr.exists(!0)))}return u.mutationQueue.addMutationBatch(C,d,b,l)}).next(V=>{w=V;const b=V.applyToLocalDocumentSet(y,O);return u.documentOverlayCache.saveOverlays(C,V.batchId,b)})}).then(()=>({batchId:w.batchId,changes:RI(y)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let d=s.xa[s.currentUser.toKey()];d||(d=new ft($e)),d=d.insert(l,u),s.xa[s.currentUser.toKey()]=d}(r,i.batchId,n),await Uu(r,i.changes),await Fh(r.remoteStore)}catch(i){const o=iy(i,"Failed to persist write");n.reject(o)}}async function uS(t,e){const n=Ee(t);try{const r=await SM(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Fa.get(o);s&&(Ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.wa=!0:i.modifiedDocuments.size>0?Ze(s.wa):i.removedDocuments.size>0&&(Ze(s.wa),s.wa=!1))}),await Uu(n,r,e)}catch(r){await Nu(r)}}function z_(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((o,s)=>{const l=s.view.j_(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=Ee(s);u.onlineState=l;let d=!1;u.queries.forEach((p,y)=>{for(const w of y.U_)w.j_(l)&&(d=!0)}),d&&oy(u)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function f4(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),o=i&&i.key;if(o){let s=new ft(he.comparator);s=s.insert(o,cn.newNoDocument(o,we.min()));const l=Pe().add(o),u=new Lh(we.min(),new Map,new ft($e),s,l);await uS(r,u),r.va=r.va.remove(o),r.Fa.delete(e),sy(r)}else await gm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(Nu)}async function p4(t,e){const n=Ee(t),r=e.batch.batchId;try{const i=await IM(n.localStore,e);dS(n,r,null),cS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uu(n,i)}catch(i){await Nu(i)}}async function m4(t,e,n){const r=Ee(t);try{const i=await function(s,l){const u=Ee(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,l).next(y=>(Ze(y!==null),p=y.keys(),u.mutationQueue.removeMutationBatch(d,y))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);dS(r,e,n),cS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uu(r,i)}catch(i){await Nu(i)}}function cS(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function dS(t,e,n){const r=Ee(t);let i=r.xa[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||hS(t,r)})}function hS(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Zg(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),sy(t))}function $_(t,e,n){for(const r of n)r instanceof sS?(t.Ma.addReference(r.key,e),g4(t,r)):r instanceof aS?(le("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||hS(t,r.key)):ye()}function g4(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(le("SyncEngine","New document in limbo: "+n),t.Ca.add(r),sy(t))}function sy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new he(tt.fromString(e)),r=t.Na.next();t.Fa.set(r,new o4(n)),t.va=t.va.insert(n,r),eS(t.remoteStore,new ro(Qr(Wg(n.path)),r,"TargetPurposeLimboResolution",jg.oe))}}async function Uu(t,e,n){const r=Ee(t),i=[],o=[],s=[];r.ba.isEmpty()||(r.ba.forEach((l,u)=>{s.push(r.Ba(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const y=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,y?"current":"not-current")}if(d){i.push(d);const y=Jg.Ki(u.targetId,d);o.push(y)}}))}),await Promise.all(s),r.Sa.h_(i),await async function(u,d){const p=Ee(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",y=>X.forEach(d,w=>X.forEach(w.qi,C=>p.persistence.referenceDelegate.addReference(y,w.targetId,C)).next(()=>X.forEach(w.Qi,C=>p.persistence.referenceDelegate.removeReference(y,w.targetId,C)))))}catch(y){if(!Du(y))throw y;le("LocalStore","Failed to update sequence numbers: "+y)}for(const y of d){const w=y.targetId;if(!y.fromCache){const C=p.ns.get(w),x=C.snapshotVersion,O=C.withLastLimboFreeSnapshotVersion(x);p.ns=p.ns.insert(w,O)}}}(r.localStore,o))}async function y4(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=await YI(n.localStore,e);n.currentUser=e,function(o,s){o.Oa.forEach(l=>{l.forEach(u=>{u.reject(new se(Q.CANCELLED,s))})}),o.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uu(n,r.us)}}function v4(t,e){const n=Ee(t),r=n.Fa.get(e);if(r&&r.wa)return Pe().add(r.key);{let i=Pe();const o=n.Da.get(e);if(!o)return i;for(const s of o){const l=n.ba.get(s);i=i.unionWith(l.view.Ea)}return i}}function fS(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=uS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=v4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f4.bind(null,e),e.Sa.h_=e4.bind(null,e.eventManager),e.Sa.ka=t4.bind(null,e.eventManager),e}function w4(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m4.bind(null,e),e}class H_{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Mh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return TM(this.persistence,new _M,e.initialUser,this.serializer)}createPersistence(e){return new yM(Xg.Hr,this.serializer)}createSharedClientState(e){return new RM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class _4{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>z_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=y4.bind(null,this.syncEngine),await QM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new XM}()}createDatastore(e){const n=Mh(e.databaseInfo.databaseId),r=function(o){return new NM(o)}(e.databaseInfo);return function(o,s,l,u){return new MM(o,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,l){return new FM(r,i,o,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>z_(this.syncEngine,n,0),function(){return F_.D()?new F_:new kM}())}createSyncEngine(e,n){return function(i,o,s,l,u,d,p){const y=new s4(i,o,s,l,u,d);return p&&(y.La=!0),y}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ee(r);le("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await Fu(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=mI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{le("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new se(Q.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=iy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Yf(t,e){t.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await YI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function q_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await S4(t);le("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>U_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>U_(e.remoteStore,i)),t._onlineComponents=e}function I4(t){return t.name==="FirebaseError"?t.code===Q.FAILED_PRECONDITION||t.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function S4(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{await Yf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!I4(n))throw n;Pa("Error using user provided cache. Falling back to memory cache: "+n),await Yf(t,new H_)}}else le("FirestoreClient","Using default OfflineComponentProvider"),await Yf(t,new H_);return t._offlineComponents}async function pS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),await q_(t,t._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),await q_(t,new _4))),t._onlineComponents}function b4(t){return pS(t).then(e=>e.syncEngine)}async function W_(t){const e=await pS(t),n=e.eventManager;return n.onListen=a4.bind(null,e.syncEngine),n.onUnlisten=c4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=l4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=d4.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){if(!n)throw new se(Q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function C4(t,e,n,r){if(e===!0&&r===!0)throw new se(Q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function G_(t){if(!he.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Q_(t){if(he.isDocumentKey(t))throw new se(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Uh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function rs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new se(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Uh(t);throw new se(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new se(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new se(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}C4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new se(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Y_({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new se(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new se(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Y_(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new BD;switch(r.type){case"firstParty":return new qD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new se(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=K_.get(n);r&&(le("ComponentProvider","Removing Datastore"),K_.delete(n),r.terminate())}(this),Promise.resolve()}}function A4(t,e,n,r={}){var i;const o=(t=rs(t,jh))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let l,u;if(typeof r.mockUserToken=="string")l=r.mockUserToken,u=ln.MOCK_USER;else{l=Y1(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new se(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ln(d)}t._authCredentials=new zD(new pI(l,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Oi(this.firestore,e,this._query)}}class dn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Jr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Jr extends Oi{constructor(e,n,r){super(e,n,Wg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new he(e))}withConverter(e){return new Jr(this.firestore,e,this._path)}}function ay(t,e,...n){if(t=rt(t),gS("collection","path",e),t instanceof jh){const r=tt.fromString(e,...n);return Q_(r),new Jr(t,null,r)}{if(!(t instanceof dn||t instanceof Jr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Q_(r),new Jr(t.firestore,null,r)}}function ws(t,e,...n){if(t=rt(t),arguments.length===1&&(e=mI.newId()),gS("doc","path",e),t instanceof jh){const r=tt.fromString(e,...n);return G_(r),new dn(t,null,new he(r))}{if(!(t instanceof dn||t instanceof Jr))throw new se(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return G_(r),new dn(t.firestore,t instanceof Jr?t.converter:null,new he(r))}}function P4(t,e){return t=rt(t),e=rt(e),(t instanceof dn||t instanceof Jr)&&(e instanceof dn||e instanceof Jr)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function R4(t,e){return t=rt(t),e=rt(e),t instanceof Oi&&e instanceof Oi&&t.firestore===e.firestore&&Lu(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new JI(this,"async_queue_retry"),this.hu=()=>{const n=Qf();n&&le("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=Qf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=Qf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new ns;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!Du(e))throw e;le("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw ki("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,o=>this.Eu(o));return this._u.push(i),i}Pu(){this.au&&ye()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function X_(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class wu extends jh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new k4}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vS(this),this._firestoreClient.terminate()}}function x4(t,e){const n=typeof t=="object"?t:Sh(),r=typeof t=="string"?t:"(default)",i=bo(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=K1("firestore");o&&A4(i,...o)}return i}function yS(t){return t._firestoreClient||vS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function vS(t){var e,n,r;const i=t._freezeSettings(),o=function(l,u,d,p){return new iL(l,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,mS(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new T4(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Da(fn.fromBase64String(e))}catch(n){throw new se(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Da(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new se(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new se(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new se(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=/^__.*__$/;class N4{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Mu(e,this.data,n,this.fieldTransforms)}}function wS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class dy{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.mu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new dy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Yd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(wS(this.fu)&&O4.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class D4{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mh(e)}Fu(e,n,r,i=!1){return new dy({fu:e,methodName:n,vu:r,path:Yt.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hy(t){const e=t._freezeSettings(),n=Mh(t._databaseId);return new D4(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _S(t,e,n,r,i,o={}){const s=t.Fu(o.merge||o.mergeFields?2:0,e,n,i);IS("Data must be an object, but it was:",s,r);const l=ES(r,s);let u,d;if(o.merge)u=new Ar(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const w=M4(e,y,n);if(!s.contains(w))throw new se(Q.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);F4(p,w)||p.push(w)}u=new Ar(p),d=s.fieldTransforms.filter(y=>u.covers(y.field))}else u=null,d=s.fieldTransforms;return new N4(new or(l),u,d)}class fy extends uy{_toFieldTransform(e){return new PL(e.path,new gu)}isEqual(e){return e instanceof fy}}function L4(t,e,n,r=!1){return py(n,t.Fu(r?4:3,e))}function py(t,e){if(TS(t=rt(t)))return IS("Unsupported field value:",e,t),ES(t,e);if(t instanceof uy)return function(r,i){if(!wS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const l of r){let u=py(l,i.bu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=rt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bL(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Vt.fromDate(r);return{timestampValue:Gd(i.serializer,o)}}if(r instanceof Vt){const o=new Vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Gd(i.serializer,o)}}if(r instanceof cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Da)return{bytesValue:$I(i.serializer,r._byteString)};if(r instanceof dn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Du(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${Uh(r)}`)}(t,e)}function ES(t,e){const n={};return gI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):za(t,(r,i)=>{const o=py(i,e.pu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function TS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Vt||t instanceof cy||t instanceof Da||t instanceof dn||t instanceof uy)}function IS(t,e,n){if(!TS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Uh(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function M4(t,e,n){if((e=rt(e))instanceof ly)return e._internalPath;if(typeof e=="string")return SS(t,e);throw Yd("Field path arguments must be of type string or ",t,!1,void 0,n)}const V4=new RegExp("[~\\*/\\[\\]]");function SS(t,e,n){if(e.search(V4)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ly(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yd(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new se(Q.INVALID_ARGUMENT,l+t+u)}function F4(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new U4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(my("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class U4 extends bS{data(){return super.data()}}function my(t,e){return typeof e=="string"?SS(t,e):e instanceof ly?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new se(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gy{}class CS extends gy{}function B4(t,e,...n){let r=[];e instanceof gy&&r.push(e),r=r.concat(n),function(o){const s=o.filter(u=>u instanceof vy).length,l=o.filter(u=>u instanceof yy).length;if(s>1||s>0&&l>0)throw new se(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class yy extends CS{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yy(e,n,r)}_apply(e){const n=this._parse(e);return AS(e._query,n),new Oi(e.firestore,e.converter,cm(e._query,n))}_parse(e){const n=hy(e.firestore);return function(o,s,l,u,d,p,y){let w;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new se(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Z_(y,p);const C=[];for(const x of y)C.push(J_(u,o,x));w={arrayValue:{values:C}}}else w=J_(u,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Z_(y,p),w=L4(l,s,y,p==="in"||p==="not-in");return Pt.create(d,p,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class vy extends gy{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new vy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const l=o.getFlattenedFilters();for(const u of l)AS(s,u),s=cm(s,u)}(e._query,n),new Oi(e.firestore,e.converter,cm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class wy extends CS{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new wy(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new se(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mu(o,s)}(e._query,this._field,this._direction);return new Oi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new $a(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function z4(t,e="asc"){const n=e,r=my("orderBy",t);return wy._create(r,n)}function J_(t,e,n){if(typeof(n=rt(n))=="string"){if(n==="")throw new se(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bI(e)&&n.indexOf("/")!==-1)throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!he.isDocumentKey(r))throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return w_(t,new he(r))}if(n instanceof dn)return w_(t,n._key);throw new se(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uh(n)}.`)}function Z_(t,e){if(!Array.isArray(t)||t.length===0)throw new se(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AS(t,e){const n=function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new se(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class $4{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return za(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertGeoPoint(e){return new cy(Ct(e.latitude),Ct(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=zg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=vo(e);return new Vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);Ze(QI(r));const i=new fu(r.get(1),r.get(3)),o=new he(r.popFirst(5));return i.isEqual(n)||ki(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class RS extends bS{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ld(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(my("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ld extends RS{data(e={}){return super.data(e)}}class H4{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Sl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ld(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new se(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new ld(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Sl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>o||l.type!==3).map(l=>{const u=new ld(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Sl(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,p=-1;return l.type!==0&&(d=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),p=s.indexOf(l.doc.key)),{type:q4(l.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function q4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}class kS extends $4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function wm(t,e,n){t=rs(t,dn);const r=rs(t.firestore,wu),i=PS(t.converter,e);return xS(r,[_S(hy(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Yr.none())])}function W4(t,e){const n=rs(t.firestore,wu),r=ws(t),i=PS(t.converter,e);return xS(n,[_S(hy(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Yr.exists(!1))]).then(()=>r)}function Xd(t,...e){var n,r,i;t=rt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||X_(e[s])||(o=e[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(X_(e[s])){const y=e[s];e[s]=(n=y.next)===null||n===void 0?void 0:n.bind(y),e[s+1]=(r=y.error)===null||r===void 0?void 0:r.bind(y),e[s+2]=(i=y.complete)===null||i===void 0?void 0:i.bind(y)}let u,d,p;if(t instanceof dn)d=rs(t.firestore,wu),p=Wg(t._key.path),u={next:y=>{e[s]&&e[s](K4(d,t,y))},error:e[s+1],complete:e[s+2]};else{const y=rs(t,Oi);d=rs(y.firestore,wu),p=y._query;const w=new kS(d);u={next:C=>{e[s]&&e[s](new H4(d,w,y,C))},error:e[s+1],complete:e[s+2]},j4(t._query)}return function(w,C,x,O){const V=new E4(O),b=new n4(C,V,x);return w.asyncQueue.enqueueAndForget(async()=>JM(await W_(w),b)),()=>{V.$a(),w.asyncQueue.enqueueAndForget(async()=>ZM(await W_(w),b))}}(yS(d),p,l,u)}function xS(t,e){return function(r,i){const o=new ns;return r.asyncQueue.enqueueAndForget(async()=>h4(await b4(r),i,o)),o.promise}(yS(t),e)}function K4(t,e,n){const r=n.docs.get(e._key),i=new kS(t);return new RS(t,i,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}function G4(){return new fy("serverTimestamp")}(function(e,n=!0){(function(i){Ba=i})(bs),Or(new cr("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new wu(new $D(r.getProvider("auth-internal")),new KD(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new se(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),l._setSettings(o),l},"PUBLIC").setMultipleInstances(!0)),Mn(m_,"4.6.4",e),Mn(m_,"4.6.4","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS="firebasestorage.googleapis.com",NS="storageBucket",Q4=2*60*1e3,Y4=10*60*1e3,X4=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt extends hr{constructor(e,n,r=0){super(Xf(e),`Firebase Storage: ${n} (${Xf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Xf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var it;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(it||(it={}));function Xf(t){return"storage/"+t}function _y(){const t="An unknown error occurred, please check the error payload for server response.";return new pt(it.UNKNOWN,t)}function J4(t){return new pt(it.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Z4(t){return new pt(it.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new pt(it.UNAUTHENTICATED,t)}function tV(){return new pt(it.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nV(t){return new pt(it.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function DS(){return new pt(it.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LS(){return new pt(it.CANCELED,"User canceled the upload/download.")}function rV(t){return new pt(it.INVALID_URL,"Invalid URL '"+t+"'.")}function iV(t){return new pt(it.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oV(){return new pt(it.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+NS+"' property when initializing the app?")}function MS(){return new pt(it.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sV(){return new pt(it.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function aV(){return new pt(it.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function lV(t){return new pt(it.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function _m(t){return new pt(it.INVALID_ARGUMENT,t)}function VS(){return new pt(it.APP_DELETED,"The Firebase app was deleted.")}function uV(t){return new pt(it.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function jl(t,e){return new pt(it.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function fl(t){throw new pt(it.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=$n.makeFromUrl(e,n)}catch{return new $n(e,"")}if(r.path==="")return r;throw iV(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),u={bucket:1,path:3};function d(B){B.path_=decodeURIComponent(B.path)}const p="v[A-Za-z0-9_]+",y=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",C=new RegExp(`^https?://${y}/${p}/b/${i}/o${w}`,"i"),x={bucket:1,path:3},O=n===OS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,V="([^?#]*)",b=new RegExp(`^https?://${O}/${i}/${V}`,"i"),P=[{regex:l,indices:u,postModify:o},{regex:C,indices:x,postModify:d},{regex:b,indices:{bucket:1,path:2},postModify:d}];for(let B=0;B<P.length;B++){const G=P[B],L=G.regex.exec(e);if(L){const S=L[G.indices.bucket];let E=L[G.indices.path];E||(E=""),r=new $n(S,E),G.postModify(r);break}}if(r==null)throw rV(e);return r}}class cV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function u(){return l===2}let d=!1;function p(...V){d||(d=!0,e.apply(null,V))}function y(V){i=setTimeout(()=>{i=null,t(C,u())},V)}function w(){o&&clearTimeout(o)}function C(V,...b){if(d){w();return}if(V){w(),p.call(null,V,...b);return}if(u()||s){w(),p.call(null,V,...b);return}r<64&&(r*=2);let P;l===1?(l=2,P=0):P=(r+Math.random())*1e3,y(P)}let x=!1;function O(V){x||(x=!0,w(),!d&&(i!==null?(V||(l=2),clearTimeout(i),y(0)):V||(l=1)))}return y(0),o=setTimeout(()=>{s=!0,O(!0)},n),O}function hV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fV(t){return t!==void 0}function pV(t){return typeof t=="function"}function mV(t){return typeof t=="object"&&!Array.isArray(t)}function Bh(t){return typeof t=="string"||t instanceof String}function e0(t){return Ey()&&t instanceof Blob}function Ey(){return typeof Blob<"u"}function t0(t,e,n,r){if(r<e)throw _m(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _m(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ju(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function FS(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var is;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(is||(is={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e,n,r,i,o,s,l,u,d,p,y,w=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=y,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,x)=>{this.resolve_=C,this.reject_=x,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Vc(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const u=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===is.NO_ERROR,u=o.getStatus();if(!l||US(u,this.additionalRetryCodes_)&&this.retry){const p=o.getErrorCode()===is.ABORT;r(!1,new Vc(!1,null,p));return}const d=this.successCodes_.indexOf(u)!==-1;r(!0,new Vc(d,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const u=this.callback_(l,l.getResponse());fV(u)?o(u):o()}catch(u){s(u)}else if(l!==null){const u=_y();u.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,u)):s(u)}else if(i.canceled){const u=this.appDelete_?VS():LS();s(u)}else{const u=DS();s(u)}};this.canceled_?n(!1,new Vc(!1,null,!0)):this.backoffId_=dV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&hV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Vc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function yV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function vV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function wV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function _V(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function EV(t,e,n,r,i,o,s=!0){const l=FS(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return wV(d,e),yV(d,n),vV(d,o),_V(d,r),new gV(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function IV(...t){const e=TV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Ey())return new Blob(t);throw new pt(it.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function SV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bV(t){if(typeof atob>"u")throw lV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Jf{constructor(e,n){this.data=e,this.contentType=n||null}}function CV(t,e){switch(t){case qr.RAW:return new Jf(jS(e));case qr.BASE64:case qr.BASE64URL:return new Jf(BS(t,e));case qr.DATA_URL:return new Jf(PV(e),RV(e))}throw _y()}function jS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function AV(t){let e;try{e=decodeURIComponent(t)}catch{throw jl(qr.DATA_URL,"Malformed data URL.")}return jS(e)}function BS(t,e){switch(t){case qr.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw jl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case qr.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw jl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=bV(e)}catch(i){throw i.message.includes("polyfill")?i:jl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class zS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw jl(qr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=kV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function PV(t){const e=new zS(t);return e.base64?BS(qr.BASE64,e.rest):AV(e.rest)}function RV(t){return new zS(t).contentType}function kV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n){let r=0,i="";e0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(e0(this.data_)){const r=this.data_,i=SV(r,e,n);return i===null?null:new Zi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Zi(r,!0)}}static getBlob(...e){if(Ey()){const n=e.map(r=>r instanceof Zi?r.data_:r);return new Zi(IV.apply(null,n))}else{const n=e.map(s=>Bh(s)?CV(qr.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[o++]=s[l]}),new Zi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $S(t){let e;try{e=JSON.parse(t)}catch{return null}return mV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function OV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function HS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(t,e){return e}class vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||NV}}let Fc=null;function DV(t){return!Bh(t)||t.length<2?t:HS(t)}function qS(){if(Fc)return Fc;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(o,s){return DV(s)}const n=new vn("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new vn("size");return i.xform=r,t.push(i),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),Fc=t,Fc}function LV(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new $n(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function MV(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return LV(r,t),r}function WS(t,e,n){const r=$S(e);return r===null?null:MV(t,r,n)}function VV(t,e,n,r){const i=$S(e);if(i===null||!Bh(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(d=>{const p=t.bucket,y=t.fullPath,w="/b/"+s(p)+"/o/"+s(y),C=ju(w,n,r),x=FS({alt:"media",token:d});return C+x})[0]}function KS(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class Wa{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){if(!t)throw _y()}function Ty(t,e){function n(r,i){const o=WS(t,i,e);return Si(o!==null),o}return n}function FV(t,e){function n(r,i){const o=WS(t,i,e);return Si(o!==null),VV(o,i,t.host,t._protocol)}return n}function Bu(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=tV():i=eV():n.getStatus()===402?i=Z4(t.bucket):n.getStatus()===403?i=nV(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function GS(t){const e=Bu(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=J4(t.path)),o.serverResponse=i.serverResponse,o}return n}function UV(t,e,n){const r=e.fullServerUrl(),i=ju(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,l=new Wa(i,o,Ty(t,n),s);return l.errorHandler=GS(e),l}function jV(t,e,n){const r=e.fullServerUrl(),i=ju(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,l=new Wa(i,o,FV(t,n),s);return l.errorHandler=GS(e),l}function BV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QS(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=BV(null,e)),r}function zV(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let P="";for(let B=0;B<2;B++)P=P+Math.random().toString().slice(2);return P}const u=l();s["Content-Type"]="multipart/related; boundary="+u;const d=QS(e,r,i),p=KS(d,n),y="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,w=`\r
--`+u+"--",C=Zi.getBlob(y,r,w);if(C===null)throw MS();const x={name:d.fullPath},O=ju(o,t.host,t._protocol),V="POST",b=t.maxUploadRetryTime,T=new Wa(O,V,Ty(t,n),b);return T.urlParams=x,T.headers=s,T.body=C.uploadData(),T.errorHandler=Bu(e),T}class Jd{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function Iy(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Si(!1)}return Si(!!n&&(e||["active"]).indexOf(n)!==-1),n}function $V(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s=QS(e,r,i),l={name:s.fullPath},u=ju(o,t.host,t._protocol),d="POST",p={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},y=KS(s,n),w=t.maxUploadRetryTime;function C(O){Iy(O);let V;try{V=O.getResponseHeader("X-Goog-Upload-URL")}catch{Si(!1)}return Si(Bh(V)),V}const x=new Wa(u,d,C,w);return x.urlParams=l,x.headers=p,x.body=y,x.errorHandler=Bu(e),x}function HV(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function o(d){const p=Iy(d,["active","final"]);let y=null;try{y=d.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Si(!1)}y||Si(!1);const w=Number(y);return Si(!isNaN(w)),new Jd(w,r.size(),p==="final")}const s="POST",l=t.maxUploadRetryTime,u=new Wa(n,s,o,l);return u.headers=i,u.errorHandler=Bu(e),u}const n0=256*1024;function qV(t,e,n,r,i,o,s,l){const u=new Jd(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw sV();const d=u.total-u.current;let p=d;i>0&&(p=Math.min(p,i));const y=u.current,w=y+p;let C="";p===0?C="finalize":d===p?C="upload, finalize":C="upload";const x={"X-Goog-Upload-Command":C,"X-Goog-Upload-Offset":`${u.current}`},O=r.slice(y,w);if(O===null)throw MS();function V(B,G){const L=Iy(B,["active","final"]),S=u.current+p,E=r.size();let I;return L==="final"?I=Ty(e,o)(B,G):I=null,new Jd(S,E,L==="final",I)}const b="POST",T=e.maxUploadRetryTime,P=new Wa(n,b,V,T);return P.headers=x,P.body=O.uploadData(),P.progressCallback=l||null,P.errorHandler=Bu(t),P}const kn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Zf(t){switch(t){case"running":case"pausing":case"canceling":return kn.RUNNING;case"paused":return kn.PAUSED;case"success":return kn.SUCCESS;case"canceled":return kn.CANCELED;case"error":return kn.ERROR;default:return kn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e,n,r){if(pV(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const o=e;this.next=o.next,this.error=o.error,this.complete=o.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class KV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=is.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=is.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=is.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class GV extends KV{initXhr(){this.xhr_.responseType="text"}}function Ks(){return new GV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=qS(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(it.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const o=this.isExponentialBackoffExpired();if(US(i.status,[]))if(o)i=DS();else{this.sleepTime=Math.max(this.sleepTime*2,X4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(it.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,o)=>{this._resolve=i,this._reject=o,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=$V(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ks,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._uploadUrl=o,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=HV(this._ref.storage,this._ref._location,e,this._blob),o=this._ref.storage._makeRequest(i,Ks,n,r);this._request=o,o.getPromise().then(s=>{s=s,this._request=void 0,this._updateProgress(s.current),this._needToFetchStatus=!1,s.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=n0*this._chunkMultiplier,n=new Jd(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,o)=>{let s;try{s=qV(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const l=this._ref.storage._makeRequest(s,Ks,i,o,!1);this._request=l,l.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){n0*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=UV(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Ks,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=zV(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Ks,e,n);this._request=i,i.getPromise().then(o=>{this._request=void 0,this._metadata=o,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=LS(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Zf(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const o=new WV(n||void 0,r||void 0,i||void 0);return this._addObserver(o),()=>{this._removeObserver(o)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Zf(this._state)){case kn.SUCCESS:zs(this._resolve.bind(null,this.snapshot))();break;case kn.CANCELED:case kn.ERROR:const n=this._reject;zs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Zf(this._state)){case kn.RUNNING:case kn.PAUSED:e.next&&zs(e.next.bind(e,this.snapshot))();break;case kn.SUCCESS:e.complete&&zs(e.complete.bind(e))();break;case kn.CANCELED:case kn.ERROR:e.error&&zs(e.error.bind(e,this._error))();break;default:e.error&&zs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n){this._service=e,n instanceof $n?this._location=n:this._location=$n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _s(e,n)}get root(){const e=new $n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HS(this._location.path)}get storage(){return this._service}get parent(){const e=xV(this._location.path);if(e===null)return null;const n=new $n(this._location.bucket,e);return new _s(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw uV(e)}}function YV(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new QV(t,new Zi(e),n)}function XV(t){t._throwIfRoot("getDownloadURL");const e=jV(t.storage,t._location,qS());return t.storage.makeRequestWithTokens(e,Ks).then(n=>{if(n===null)throw aV();return n})}function JV(t,e){const n=OV(t._location.path,e),r=new $n(t._location.bucket,n);return new _s(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(t){return/^[A-Za-z]+:\/\//.test(t)}function eF(t,e){return new _s(t,e)}function YS(t,e){if(t instanceof Sy){const n=t;if(n._bucket==null)throw oV();const r=new _s(n,n._bucket);return e!=null?YS(r,e):r}else return e!==void 0?JV(t,e):t}function tF(t,e){if(e&&ZV(e)){if(t instanceof Sy)return eF(t,e);throw _m("To use ref(service, url), the first argument must be a Storage instance.")}else return YS(t,e)}function r0(t,e){const n=e==null?void 0:e[NS];return n==null?null:$n.makeFromBucketSpec(n,t)}function nF(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Y1(i,t.app.options.projectId))}class Sy{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=OS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Q4,this._maxUploadRetryTime=Y4,this._requests=new Set,i!=null?this._bucket=$n.makeFromBucketSpec(i,this._host):this._bucket=r0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=$n.makeFromBucketSpec(this._url,e):this._bucket=r0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){t0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _s(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new cV(VS());{const s=EV(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const i0="@firebase/storage",o0="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="storage";function rF(t,e,n){return t=rt(t),YV(t,e,n)}function iF(t){return t=rt(t),XV(t)}function oF(t,e){return t=rt(t),tF(t,e)}function sF(t=Sh(),e){t=rt(t);const r=bo(t,XS).getImmediate({identifier:e}),i=K1("storage");return i&&aF(r,...i),r}function aF(t,e,n,r={}){nF(t,e,n,r)}function lF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Sy(n,r,i,e,bs)}function uF(){Or(new cr(XS,lF,"PUBLIC").setMultipleInstances(!0)),Mn(i0,o0,""),Mn(i0,o0,"esm2017")}uF();const cF={apiKey:"AIzaSyAIv7O9IVXgRactga88JZPNxjgcnJYJ7Mk",authDomain:"chatting-yuk-d13ab.firebaseapp.com",projectId:"chatting-yuk-d13ab",storageBucket:"chatting-yuk-d13ab.appspot.com",messagingSenderId:"139208027201",appId:"1:139208027201:web:40322b00b2d9bcde21aac0",measurementId:"G-68ZM7PF49J"},zh=rT(cF);VD(zh);const ei=yN(zh),Ni=x4(zh),dF=sF(zh);var JS={},by={},ZS={exports:{}},hF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fF=hF,pF=fF;function eb(){}function tb(){}tb.resetWarningCache=eb;var mF=function(){function t(r,i,o,s,l,u){if(u!==pF){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tb,resetWarningCache:eb};return n.PropTypes=n,n};ZS.exports=mF();var nb=ZS.exports,$h={},Qt={};Object.defineProperty(Qt,"__esModule",{value:!0});Qt.svgStyle=Qt.lightStyle=Qt.iconStyle=Qt.hoverStyle=Qt.disabledStyle=Qt.disabledIconStyle=Qt.darkStyle=void 0;function _u(t){"@babel/helpers - typeof";return _u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_u(t)}function s0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(n),!0).forEach(function(r){gF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gF(t,e,n){return e=yF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yF(t){var e=vF(t,"string");return _u(e)=="symbol"?e:e+""}function vF(t,e){if(_u(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_u(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ib={height:"50px",width:"240px",border:"none",textAlign:"center",verticalAlign:"center",boxShadow:"0 2px 4px 0 rgba(0,0,0,.25)",fontSize:"16px",lineHeight:"48px",display:"block",borderRadius:"1px",transition:"background-color .218s, border-color .218s, box-shadow .218s",fontFamily:"Roboto,arial,sans-serif",cursor:"pointer",userSelect:"none"};Qt.darkStyle=rb({backgroundColor:"#4285f4",color:"#fff"},ib);Qt.lightStyle=rb({backgroundColor:"#fff",color:"rgba(0,0,0,.54)"},ib);Qt.iconStyle={width:"48px",height:"48px",textAlign:"center",verticalAlign:"center",display:"block",marginTop:"1px",marginLeft:"1px",float:"left",backgroundColor:"#fff",borderRadius:"1px",whiteSpace:"nowrap"};Qt.svgStyle={width:"48px",height:"48px",display:"block"};Qt.hoverStyle={boxShadow:"0 0 3px 3px rgba(66,133,244,.3)",transition:"background-color .218s, border-color .218s, box-shadow .218s"};Qt.disabledStyle={backgroundColor:"rgba(37, 5, 5, .08)",color:"rgba(0, 0, 0, .40)",cursor:"not-allowed"};Qt.disabledIconStyle={backgroundColor:"transparent"};Object.defineProperty($h,"__esModule",{value:!0});$h.GoogleIcon=void 0;var te=ob(K),a0=ob(nb),wa=Qt;function ob(t){return t&&t.__esModule?t:{default:t}}function Eu(t){"@babel/helpers - typeof";return Eu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eu(t)}function l0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l0(Object(n),!0).forEach(function(r){wF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wF(t,e,n){return e=_F(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _F(t){var e=EF(t,"string");return Eu(e)=="symbol"?e:e+""}function EF(t,e){if(Eu(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TF=te.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:wa.svgStyle},te.default.createElement("defs",null,te.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},te.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),te.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),te.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),te.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),te.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),te.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),te.default.createElement("feMerge",null,te.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),te.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),te.default.createElement("feMergeNode",{in:"SourceGraphic"}))),te.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"}),te.default.createElement("rect",{id:"path-3",x:"5",y:"5",width:"38",height:"38",rx:"1"})),te.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},te.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -219.000000)"}),te.default.createElement("g",{id:"btn_google_dark_normal",transform:"translate(-1.000000, -1.000000)"},te.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},te.default.createElement("g",{id:"button-bg"},te.default.createElement("use",{fill:"#4285F4",fillRule:"evenodd"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}))),te.default.createElement("g",{id:"button-bg-copy"},te.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"})),te.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},te.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),te.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),te.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),te.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),te.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),te.default.createElement("g",{id:"handles_square"})))),IF=te.default.createElement("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"46px",height:"46px",viewBox:"0 0 46 46",style:wa.svgStyle},te.default.createElement("defs",null,te.default.createElement("filter",{x:"-50%",y:"-50%",width:"200%",height:"200%",filterUnits:"objectBoundingBox",id:"filter-1"},te.default.createElement("feOffset",{dx:"0",dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),te.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),te.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.168 0",in:"shadowBlurOuter1",type:"matrix",result:"shadowMatrixOuter1"}),te.default.createElement("feOffset",{dx:"0",dy:"0",in:"SourceAlpha",result:"shadowOffsetOuter2"}),te.default.createElement("feGaussianBlur",{stdDeviation:"0.5",in:"shadowOffsetOuter2",result:"shadowBlurOuter2"}),te.default.createElement("feColorMatrix",{values:"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.084 0",in:"shadowBlurOuter2",type:"matrix",result:"shadowMatrixOuter2"}),te.default.createElement("feMerge",null,te.default.createElement("feMergeNode",{in:"shadowMatrixOuter1"}),te.default.createElement("feMergeNode",{in:"shadowMatrixOuter2"}),te.default.createElement("feMergeNode",{in:"SourceGraphic"}))),te.default.createElement("rect",{id:"path-2",x:"0",y:"0",width:"40",height:"40",rx:"2"})),te.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},te.default.createElement("g",{id:"9-PATCH",transform:"translate(-608.000000, -160.000000)"}),te.default.createElement("g",{id:"btn_google_light_normal",transform:"translate(-1.000000, -1.000000)"},te.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)",filter:"url(#filter-1)"},te.default.createElement("g",{id:"button-bg"},te.default.createElement("use",{fill:"#FFFFFF",fillRule:"evenodd"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}))),te.default.createElement("g",{id:"logo_googleg_48dp",transform:"translate(15.000000, 15.000000)"},te.default.createElement("path",{d:"M17.64,9.20454545 C17.64,8.56636364 17.5827273,7.95272727 17.4763636,7.36363636 L9,7.36363636 L9,10.845 L13.8436364,10.845 C13.635,11.97 13.0009091,12.9231818 12.0477273,13.5613636 L12.0477273,15.8195455 L14.9563636,15.8195455 C16.6581818,14.2527273 17.64,11.9454545 17.64,9.20454545 L17.64,9.20454545 Z",id:"Shape",fill:"#4285F4"}),te.default.createElement("path",{d:"M9,18 C11.43,18 13.4672727,17.1940909 14.9563636,15.8195455 L12.0477273,13.5613636 C11.2418182,14.1013636 10.2109091,14.4204545 9,14.4204545 C6.65590909,14.4204545 4.67181818,12.8372727 3.96409091,10.71 L0.957272727,10.71 L0.957272727,13.0418182 C2.43818182,15.9831818 5.48181818,18 9,18 L9,18 Z",id:"Shape",fill:"#34A853"}),te.default.createElement("path",{d:"M3.96409091,10.71 C3.78409091,10.17 3.68181818,9.59318182 3.68181818,9 C3.68181818,8.40681818 3.78409091,7.83 3.96409091,7.29 L3.96409091,4.95818182 L0.957272727,4.95818182 C0.347727273,6.17318182 0,7.54772727 0,9 C0,10.4522727 0.347727273,11.8268182 0.957272727,13.0418182 L3.96409091,10.71 L3.96409091,10.71 Z",id:"Shape",fill:"#FBBC05"}),te.default.createElement("path",{d:"M9,3.57954545 C10.3213636,3.57954545 11.5077273,4.03363636 12.4404545,4.92545455 L15.0218182,2.34409091 C13.4631818,0.891818182 11.4259091,0 9,0 C5.48181818,0 2.43818182,2.01681818 0.957272727,4.95818182 L3.96409091,7.29 C4.67181818,5.16272727 6.65590909,3.57954545 9,3.57954545 L9,3.57954545 Z",id:"Shape",fill:"#EA4335"}),te.default.createElement("path",{d:"M0,0 L18,0 L18,18 L0,18 L0,0 Z",id:"Shape"})),te.default.createElement("g",{id:"handles_square"})))),SF=te.default.createElement("svg",{width:"46px",height:"46px",viewBox:"0 0 46 46",version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:wa.svgStyle},te.default.createElement("defs",null,te.default.createElement("rect",{id:"path-1",x:"0",y:"0",width:"40",height:"40",rx:"2"})),te.default.createElement("g",{id:"Google-Button",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},te.default.createElement("g",{id:"9-PATCH",transform:"translate(-788.000000, -219.000000)"}),te.default.createElement("g",{id:"btn_google_dark_disabled",transform:"translate(-1.000000, -1.000000)"},te.default.createElement("g",{id:"button",transform:"translate(4.000000, 4.000000)"},te.default.createElement("g",{id:"button-bg"},te.default.createElement("use",{fillOpacity:"0.08",fill:"#000000",fillRule:"evenodd"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}),te.default.createElement("use",{fill:"none"}))),te.default.createElement("path",{d:"M24.001,25.71 L24.001,22.362 L32.425,22.362 C32.551,22.929 32.65,23.46 32.65,24.207 C32.65,29.346 29.203,33 24.01,33 C19.042,33 15.01,28.968 15.01,24 C15.01,19.032 19.042,15 24.01,15 C26.44,15 28.474,15.891 30.031,17.349 L27.475,19.833 C26.827,19.221 25.693,18.501 24.01,18.501 C21.031,18.501 18.601,20.976 18.601,24.009 C18.601,27.042 21.031,29.517 24.01,29.517 C27.457,29.517 28.726,27.132 28.96,25.719 L24.001,25.719 L24.001,25.71 Z",id:"Shape-Copy",fillOpacity:"0.4",fill:"#000000"}),te.default.createElement("g",{id:"handles_square"})))),bF=$h.GoogleIcon=function(e){var n=e.disabled,r=e.type,i=r===void 0?"dark":r;return te.default.createElement("div",{style:n?u0(u0({},wa.iconStyle),wa.disabledIconStyle):wa.iconStyle},n?SF:i==="dark"?TF:IF)};bF.propTypes={disabled:a0.default.bool,type:a0.default.oneOf(["light","dark"])};function La(t){"@babel/helpers - typeof";return La=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},La(t)}Object.defineProperty(by,"__esModule",{value:!0});by.default=ab;var Uc=PF(K),$s=AF(nb),CF=$h,jc=Qt;function AF(t){return t&&t.__esModule?t:{default:t}}function sb(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(sb=function(i){return i?n:e})(t)}function PF(t,e){if(t&&t.__esModule)return t;if(t===null||La(t)!="object"&&typeof t!="function")return{default:t};var n=sb(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&{}.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function c0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c0(Object(n),!0).forEach(function(r){RF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RF(t,e,n){return e=kF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kF(t){var e=xF(t,"string");return La(e)=="symbol"?e:e+""}function xF(t,e){if(La(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(La(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OF(t,e){return MF(t)||LF(t,e)||DF(t,e)||NF()}function NF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DF(t,e){if(t){if(typeof t=="string")return d0(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d0(t,e)}}function d0(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LF(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],u=!0,d=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(u=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(p){d=!0,i=p}finally{try{if(!u&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(d)throw i}}return l}}function MF(t){if(Array.isArray(t))return t}function ab(t){var e=t.label,n=e===void 0?"Sign in with Google":e,r=t.disabled,i=r===void 0?!1:r,o=t.tabIndex,s=o===void 0?0:o,l=t.onClick,u=l===void 0?function(){}:l,d=t.type,p=d===void 0?"dark":d,y=t.style,w=(0,Uc.useState)(!1),C=OF(w,2),x=C[0],O=C[1],V=function(){i||O(!0)},b=function(){i||O(!1)},T=function(){var G=p==="dark"?jc.darkStyle:jc.lightStyle;return Hi(x?Hi(Hi({},G),jc.hoverStyle):i?Hi(Hi({},G),jc.disabledStyle):Hi({},G),y)},P=function(G){i||u(G)};return Uc.default.createElement("div",{disabled:i,tabIndex:s,onClick:P,role:"button",style:T(),onMouseOver:V,onMouseOut:b},Uc.default.createElement(CF.GoogleIcon,{disabled:i,type:p}),Uc.default.createElement("span",null,n))}ab.propTypes={label:$s.default.string,disabled:$s.default.bool,tabIndex:$s.default.number,onClick:$s.default.func,type:$s.default.oneOf(["light","dark"]),style:$s.default.object};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"GoogleButton",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.default}});var e=n(by);function n(r){return r&&r.__esModule?r:{default:r}}})(JS);const lb=th(JS);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Cy(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function l(p){try{d(r.next(p))}catch(y){s(y)}}function u(p){try{d(r.throw(p))}catch(y){s(y)}}function d(p){p.done?o(p.value):i(p.value).then(l,u)}d((r=r.apply(t,[])).next())})}function Ay(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:l(0),throw:l(1),return:l(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function l(d){return function(p){return u([d,p])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=d[0]&2?i.return:d[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,d[1])).done)return o;switch(i=0,o&&(d=[d[0]&2,o.value]),d[0]){case 0:case 1:o=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){n.label=d[1];break}if(d[0]===6&&n.label<o[1]){n.label=o[1],o=d;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(d);break}o[2]&&n.ops.pop(),n.trys.pop();continue}d=e.call(t,n)}catch(p){d=[6,p],i=0}finally{r=o=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var aa=function(){return aa=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},aa.apply(this,arguments)},ub=function(t){return{loading:t==null,value:t}},VF=function(){return function(t,e){switch(e.type){case"error":return aa(aa({},t),{error:e.error,loading:!1,value:void 0});case"reset":return ub(e.defaultValue);case"value":return aa(aa({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},FF=function(t){var e=t?t():void 0,n=K.useReducer(VF(),ub(e)),r=n[0],i=n[1],o=K.useCallback(function(){var u=t?t():void 0;i({type:"reset",defaultValue:u})},[t]),s=K.useCallback(function(u){i({type:"error",error:u})},[]),l=K.useCallback(function(u){i({type:"value",value:u})},[]);return K.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:l,value:r.value}},[r.error,r.loading,o,s,l,r.value])},Hh=function(t,e){var n=FF(function(){return t.currentUser}),r=n.error,i=n.loading,o=n.setError,s=n.setValue,l=n.value;return K.useEffect(function(){var u=oO(t,function(d){return Cy(void 0,void 0,void 0,function(){var p;return Ay(this,function(y){switch(y.label){case 0:return[3,4];case 1:return y.trys.push([1,3,,4]),[4,e.onUserChanged(d)];case 2:return y.sent(),[3,4];case 3:return p=y.sent(),o(p),[3,4];case 4:return s(d),[2]}})})},o);return function(){u()}},[t]),[l,i,r]},cb=function(t){var e=K.useCallback(function(n,r){var i=new pi;return n&&n.forEach(function(o){return i.addScope(o)}),r&&i.setCustomParameters(r),i},[]);return UF(t,e)},UF=function(t,e){var n=K.useState(),r=n[0],i=n[1],o=K.useState(),s=o[0],l=o[1],u=K.useState(!1),d=u[0],p=u[1],y=K.useCallback(function(w,C){return Cy(void 0,void 0,void 0,function(){var x,O,V;return Ay(this,function(b){switch(b.label){case 0:p(!0),i(void 0),b.label=1;case 1:return b.trys.push([1,3,4,5]),x=e(w,C),[4,CO(t,x)];case 2:return O=b.sent(),l(O),[2,O];case 3:return V=b.sent(),i(V),[3,5];case 4:return p(!1),[7];case 5:return[2]}})})},[t,e]);return[y,s,d,r]},jF=function(t){var e=K.useState(),n=e[0],r=e[1],i=K.useState(!1),o=i[0],s=i[1],l=K.useCallback(function(){return Cy(void 0,void 0,void 0,function(){var u;return Ay(this,function(d){switch(d.label){case 0:s(!0),r(void 0),d.label=1;case 1:return d.trys.push([1,3,4,5]),[4,t.signOut()];case 2:return d.sent(),[2,!0];case 3:return u=d.sent(),r(u),[2,!1];case 4:return s(!1),[7];case 5:return[2]}})})},[t]);return[l,o,n]};function BF(){const t=Eh(),[e,n,r,i]=cb(ei),o=async()=>{try{const l=await e();localStorage.setItem("uid",l.user.uid),await wm(ws(Ni,"users",l.user.uid),{avatar:l.user.photoURL,username:"",firstName:l.user.displayName.split(" ")[0]?l.user.displayName.split(" ")[0]:l.user.displayName,lastName:l.user.displayName.split(" ")[1]?l.user.displayName.split(" ")[1]:"",email:l.user.email,birthDate:"",id:l.user.uid}),no.fire({text:"Login success!",icon:"success"}),t("/app")}catch(l){console.log(l),no.fire({title:"Oops...",text:l.message,icon:"error"})}},s=async l=>{l.preventDefault();const u=new FormData(l.target),{email:d,password:p}=Object.fromEntries(u);try{const y=await nO(ei,d,p);localStorage.setItem("uid",y.user.uid),no.fire({text:"Login success!",icon:"success"}),t("/app")}catch(y){console.log(y),no.fire({title:"Oops...",text:y.message,icon:"error"})}};return j.jsx(j.Fragment,{children:j.jsx("div",{className:"hero bg-neutral min-h-screen",children:j.jsxs("div",{className:"hero-content flex-col",children:[j.jsxs("div",{className:"text-center lg:text-center",children:[j.jsx("h1",{className:"text-5xl font-bold",children:"Login now!"}),j.jsx("p",{className:"py-6",children:"Welcome back to ChattingYuk!"})]}),j.jsxs("div",{className:"card bg-base-100 w-full max-w-xl shrink-0 shadow-2xl",children:[j.jsxs("form",{className:"card-body",onSubmit:s,children:[j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Email"})}),j.jsx("input",{type:"email",placeholder:"email",name:"email",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Password"})}),j.jsx("input",{type:"password",placeholder:"password",name:"password",className:"input input-bordered",required:!0})]}),j.jsx("div",{className:"form-control mt-6",children:j.jsx("button",{type:"submit",className:"btn btn-primary",children:"Login"})}),j.jsx("label",{className:"label",style:{fontSize:13},children:j.jsxs("span",{children:["Don't have an account?"," ",j.jsx(Ld,{to:"/register",className:"link link-hover",children:"Register here"})]})})]}),j.jsx("div",{className:"flex justify-center mb-5",children:j.jsx(lb,{style:{borderRadius:5},onClick:o})})]})]})})})}const zF=async t=>{const n=oF(dF,`images/${new Date+t.name}`),r=rF(n,t);return new Promise((i,o)=>{r.on("state_changed",s=>{const l=s.bytesTransferred/s.totalBytes*100;console.log("Upload is "+l+"% done")},s=>{o("Something went wrong!"+s.code)},()=>{iF(r.snapshot.ref).then(s=>{i(s)})})})};function $F(){const[t,e]=K.useState({file:null,url:""}),n=Eh(),[r,i,o,s]=cb(ei),l=async()=>{try{const p=await r();localStorage.setItem("uid",p.user.uid),await wm(ws(Ni,"users",p.user.uid),{avatar:p.user.photoURL,username:"",firstName:p.user.displayName.split(" ")[0],lastName:p.user.displayName.split(" ")[1],email:p.user.email,birthDate:"",id:p.user.uid}),n("/app")}catch(p){console.log(p),no.fire({title:"Oops...",text:p.message,icon:"error"})}},u=p=>{p.target.files[0]&&e({file:p.target.files[0],url:URL.createObjectURL(p.target.files[0])})},d=async p=>{p.preventDefault();const y=new FormData(p.target),{username:w,firstName:C,lastName:x,email:O,password:V,birthDate:b}=Object.fromEntries(y);try{const T=await tO(ei,O,V),P=await zF(t.file);await wm(ws(Ni,"users",T.user.uid),{avatar:P,username:w,firstName:C,lastName:x,email:O,password:V,birthDate:b,id:T.user.uid}),no.fire({text:"Account successfully created!",icon:"success"}),n("/login")}catch(T){console.log(T),no.fire({title:"Oops...",text:T.message,icon:"error"})}};return j.jsx(j.Fragment,{children:j.jsx("div",{className:"hero bg-neutral min-h-screen",children:j.jsxs("div",{className:"hero-content flex-col lg:flex-row-reverse",children:[j.jsxs("div",{className:"text-center lg:text-center",children:[j.jsx("h1",{className:"text-5xl font-bold",children:"Register"}),j.jsx("p",{className:"py-6",children:"Welcome to ChattingYuk! Sign up to experience what our app can offer you."})]}),j.jsxs("div",{className:"card bg-base-100 w-full max-w-lg shrink-0 shadow-2xl",children:[j.jsxs("form",{className:"card-body",onSubmit:d,children:[j.jsxs("div",{className:"form-control ",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Profile Picture"})}),j.jsxs("div",{className:"flex gap-3 items-center",children:[j.jsx("img",{src:t.url||"https://www.shutterstock.com/image-vector/blank-avatar-photo-place-holder-600nw-1114445501.jpg",style:{borderRadius:"50%",height:70,width:70,objectFit:"cover"}}),j.jsx("input",{type:"file",onChange:u,placeholder:"https://www.shutterstock.com/image-vector/blank-avatar-photo-place-holder-600nw-1114445501.jpg",name:"profilePicture",required:!0,className:"file-input file-input-ghost"})]})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Username"})}),j.jsx("input",{type:"text",placeholder:"username",name:"username",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"First Name"})}),j.jsx("input",{type:"text",placeholder:"first name",name:"firstName",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Last Name"})}),j.jsx("input",{type:"text",placeholder:"last name",name:"lastName",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Email"})}),j.jsx("input",{type:"email",placeholder:"email",name:"email",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Password"})}),j.jsx("input",{type:"text",placeholder:"password",name:"password",className:"input input-bordered",required:!0})]}),j.jsxs("div",{className:"form-control",children:[j.jsx("label",{className:"label",children:j.jsx("span",{className:"label-text",children:"Birthday"})}),j.jsx("input",{type:"date",placeholder:"01/01/1970",name:"birthDate",className:"input input-bordered",required:!0})]}),j.jsx("div",{className:"form-control mt-6",children:j.jsx("button",{type:"submit",className:"btn btn-primary",children:"Sign Up"})}),j.jsx("label",{className:"label",style:{fontSize:13},children:j.jsxs("span",{children:["Already have an account? ",j.jsx(Ld,{to:"/login",className:"link link-hover",children:"Login here"})]})})]}),j.jsx("div",{className:"flex justify-center mb-5",children:j.jsx(lb,{label:"Continue with Google",style:{borderRadius:5},onClick:l})})]})]})})})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var la=function(){return la=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},la.apply(this,arguments)},db=function(t){return{loading:t==null,value:t}},HF=function(){return function(t,e){switch(e.type){case"error":return la(la({},t),{error:e.error,loading:!1,value:void 0});case"reset":return db(e.defaultValue);case"value":return la(la({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},hb=function(t){var e=void 0,n=K.useReducer(HF(),db(e)),r=n[0],i=n[1],o=K.useCallback(function(){var u=void 0;i({type:"reset",defaultValue:u})},[t]),s=K.useCallback(function(u){i({type:"error",error:u})},[]),l=K.useCallback(function(u){i({type:"value",value:u})},[]);return K.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:s,setValue:l,value:r.value}},[r.error,r.loading,o,s,l,r.value])},fb=function(t,e,n){var r=K.useRef(t);return K.useEffect(function(){e(t,r.current)||(r.current=t,n&&n())}),r},qF=function(t,e){var n=!t&&!e,r=!!t&&!!e&&P4(t,e);return n||r},WF=function(t,e){return fb(t,qF,e)},KF=function(t,e){var n=!t&&!e,r=!!t&&!!e&&R4(t,e);return n||r},GF=function(t,e){return fb(t,KF,e)},pb=function(t,e){var n=hb(),r=n.error,i=n.loading,o=n.reset,s=n.setError,l=n.setValue,u=n.value,d=GF(t,o);return K.useEffect(function(){if(!d.current){l(void 0);return}var p=e!=null&&e.snapshotListenOptions?Xd(d.current,e.snapshotListenOptions,l,s):Xd(d.current,l,s);return function(){p()}},[d.current]),[u,i,r]},Py=function(t,e){var n=hb(),r=n.error,i=n.loading,o=n.reset,s=n.setError,l=n.setValue,u=n.value,d=WF(t,o);return K.useEffect(function(){if(!d.current){l(void 0);return}var p=e!=null&&e.snapshotListenOptions?Xd(d.current,e.snapshotListenOptions,l,s):Xd(d.current,l,s);return function(){p()}},[d.current]),[u,i,r]},mb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},h0=_i.createContext&&_i.createContext(mb),QF=["attr","size","title"];function YF(t,e){if(t==null)return{};var n=XF(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XF(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function f0(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?f0(Object(n),!0).forEach(function(r){JF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f0(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JF(t,e,n){return e=ZF(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZF(t){var e=e5(t,"string");return typeof e=="symbol"?e:e+""}function e5(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gb(t){return t&&t.map((e,n)=>_i.createElement(e.tag,eh({key:n},e.attr),gb(e.child)))}function t5(t){return e=>_i.createElement(n5,Zd({attr:eh({},t.attr)},e),gb(t.child))}function n5(t){var e=n=>{var{attr:r,size:i,title:o}=t,s=YF(t,QF),l=i||n.size||"1em",u;return n.className&&(u=n.className),t.className&&(u=(u?u+" ":"")+t.className),_i.createElement("svg",Zd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:u,style:eh(eh({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&_i.createElement("title",null,o),t.children)};return h0!==void 0?_i.createElement(h0.Consumer,null,n=>e(n)):e(mb)}const r5=({message:t})=>{const[e]=Hh(ei),[n,r,i]=Py(ws(Ni,"users",e.uid),{snapshotListenOptions:{includeMetadataChanges:!0}}),o=n==null?void 0:n.data();let s=new Date;t.timestamp&&(s=new Date(t.timestamp.seconds*1e3+t.timestamp.nanoseconds/1e6));const l=s.toLocaleTimeString();return j.jsx(j.Fragment,{children:t.uid!==e.uid?j.jsxs("div",{className:"chat chat-start",children:[j.jsx("div",{className:"chat-image avatar",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS chat bubble component",src:"https://cdl.ucf.edu/wp-content/uploads/2021/07/Blank-ID-avatar.png"})})}),j.jsx("div",{className:"chat-header",children:t.name}),j.jsx("div",{className:"chat-bubble",children:t.text}),j.jsx("div",{className:"chat-footer",children:j.jsx("time",{className:"text-xs opacity-50",children:l})})]}):j.jsxs("div",{className:"chat chat-end",children:[j.jsx("div",{className:"chat-image avatar",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS chat bubble component",src:(o==null?void 0:o.avatar)||"https://cdl.ucf.edu/wp-content/uploads/2021/07/Blank-ID-avatar.png"})})}),j.jsx("div",{className:"chat-header",children:(o==null?void 0:o.firstName)+" "+(o==null?void 0:o.lastName)||t.name}),j.jsx("div",{className:"chat-bubble",children:t.text}),j.jsx("div",{className:"chat-footer",children:j.jsx("time",{className:"text-xs opacity-50",children:l})})]})})},i5=()=>{const[t]=Hh(ei),e=ay(Ni,"messages"),n=B4(e,z4("timestamp","asc")),[r,i,o]=pb(n,{snapshotListenOptions:{includeMetadataChanges:!0}});return console.log(r,i,o),j.jsxs(j.Fragment,{children:[o&&j.jsxs("strong",{children:["Error: ",JSON.stringify(o)]}),i&&j.jsx("span",{children:"Chat Loading..."}),j.jsx("div",{className:"flex flex-col p-[10px]",children:r&&r.docs.map(s=>j.jsx(r5,{message:s.data(),currentUser:t},s.id))})]})},o5=({scroll:t})=>{const[e,n]=K.useState(""),[r,i,o]=Hh(ei),[s]=Py(ws(Ni,"users",localStorage.uid),{snapshotListenOptions:{includeMetadataChanges:!0}}),l=s==null?void 0:s.data();console.log(r);const u=async d=>{if(d.preventDefault(),e===""){alert("please enter a valid messages");return}ei.currentUser,await W4(ay(Ni,"messages"),{text:e,name:(l==null?void 0:l.firstName)+" "+(l==null?void 0:l.lastName),uid:r.uid,timestamp:G4()}),n("")};return j.jsx(j.Fragment,{children:j.jsxs("form",{onSubmit:u,className:" w-full h-full flex text-sm",children:[j.jsx("input",{value:e,onChange:d=>n(d.target.value),className:"w-[100%] text-xl p-3 bg-white text-black outline-none border-none",type:"text",placeholder:"Message"}),j.jsx("button",{className:"w-[20%] bg-indigo-500 hover:bg-indigo-950 text-black container-fluid",children:"Send"})]})})};function s5(t){return t5({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"208",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]},{tag:"path",attr:{d:"M256 176v160a80 80 0 0 0 0-160zm0-128v128a80 80 0 0 0 0 160v128c-114.88 0-208-93.12-208-208S141.12 48 256 48z"},child:[]}]})(t)}const yb={light:"pastel",dark:"luxury"},vb=K.createContext({theme:"dark",toggleTheme:()=>{},themes:yb});function a5(t){const[e,n]=K.useState("light"),r=()=>{n(e==="light"?"dark":"light")};return j.jsx(vb.Provider,{value:{theme:e,toggleTheme:r,themes:yb},children:t.children})}function l5(){const[t,e,n]=pb(ay(Ni,"users"),{snapshotListenOptions:{includeMetadataChanges:!0}}),{theme:r,toggleTheme:i,themes:o}=K.useContext(vb),s=o[r];return console.log(s),j.jsx("div",{"data-theme":s,className:"flex items-center justify-center h-full",children:j.jsxs("div",{className:"container bg-secondary flex justify-center",style:{height:"85vh"},children:[j.jsxs("div",{className:"bg-neutral w-1/4 border-r-2 border-gray-50 flex flex-col text-center",children:[j.jsx("h1",{className:"text-xl font-bold mb-4 mt-2 text-center py-5",children:"Registered Users:"}),j.jsx("div",{className:"flex flex-col justify-start",children:t&&t.docs.map(l=>{const u=l.data();return j.jsxs("div",{className:"flex flex-row items-center ms-5 p-2 gap-2",children:[j.jsx("img",{src:u.avatar,style:{borderRadius:"50%",height:30,width:30,objectFit:"cover"}}),j.jsxs("h4",{children:[u.firstName," ",u.lastName]},l.id)]})})})]}),j.jsxs("div",{className:"flex-grow relative",children:[j.jsxs("nav",{className:"bg-accent p-4 flex justify-between",children:[j.jsx("ul",{className:"flex",children:j.jsx("li",{className:"mr-4",children:j.jsx("a",{href:"#",className:"text-blue-500 hover:text-blue-700",children:"ChattingYuk!"})})}),j.jsx("ul",{className:"flex justify-end",children:j.jsxs("button",{onClick:()=>{i()},className:"mr-4 flex justify-end mt-1",children:[" ",j.jsx(s5,{})," "]})})]}),j.jsx("div",{className:"overflow-auto",style:{height:"82%"},children:j.jsx(i5,{})}),j.jsx("div",{className:"absolute bottom-0 w-full p-4 ",children:j.jsx(o5,{})})]})]})})}function u5(){const[t,e,n]=jF(ei),r=Eh();Hh(ei);const[i]=Py(ws(Ni,"users",localStorage.uid),{snapshotListenOptions:{includeMetadataChanges:!0}});let o=i==null?void 0:i.data();return console.log(o),j.jsx(j.Fragment,{children:j.jsx("div",{children:j.jsxs("div",{className:"navbar bg-sky-900 text-white",children:[j.jsx("div",{className:"flex-1",children:j.jsx("a",{className:"btn btn-ghost text-xl font-sans",children:"Chatting Yuk!"})}),j.jsx("div",{className:"flex-none gap-2",children:j.jsxs("div",{className:"dropdown dropdown-end",children:[j.jsx("div",{tabIndex:0,role:"button",className:"btn btn-ghost btn-circle avatar",children:j.jsx("div",{className:"w-10 rounded-full",children:j.jsx("img",{alt:"Tailwind CSS Navbar component",src:(o==null?void 0:o.avatar)||"https://cdl.ucf.edu/wp-content/uploads/2021/07/Blank-ID-avatar.png"})})}),j.jsx("ul",{tabIndex:0,className:"menu menu-sm dropdown-content bg-base-100 rounded-box z-[1] mt-3 w-52 p-2 shadow",children:j.jsx("li",{children:j.jsx("button",{className:"text-neutral",onClick:async()=>{localStorage.clear(),await t()&&(no.fire({text:"You are logged out",icon:"success"}),r("/login"))},children:"Logout"})})})]})})]})})})}function c5(){return j.jsx(j.Fragment,{children:j.jsx(a5,{children:j.jsxs("div",{className:"flex flex-col h-screen",children:[j.jsx(u5,{}),j.jsx("div",{className:"grow",children:j.jsx(sR,{})})]})})})}const d5="/assets/VideoBG-DCvgdDen.mp4";function h5(){return j.jsx(j.Fragment,{children:j.jsxs("div",{className:"hero min-h-screen",children:[j.jsx("div",{className:"video",children:j.jsx("video",{className:"main",src:d5,autoPlay:!0,loop:!0,muted:!0})}),j.jsx("div",{className:"hero-overlay bg-opacity-30"}),j.jsx("div",{className:"hero-content text-neutral-content text-center",children:j.jsx("div",{className:"max-w-md",children:j.jsxs("div",{className:"box-content bg-slate-900/90 rounded-2xl p-10",children:[j.jsx("h1",{className:"mb-5 text-5xl font-bold text-white",children:"Hello There!"}),j.jsx("h3",{className:"mb-5 text-3xl text-white",children:"Welcome to ChattingYuk!"}),j.jsx("hr",{}),j.jsx("p",{className:"mb-5 mt-5 text-white",children:"ChattingYuk! adalah aplikasi yang dirancang untuk berinteraksi dengan orang lain."}),j.jsx("p",{className:"mb-6 mt-5 text-white",children:"Dengan ChattingYuk, Anda dapat memperluas jaringan sosial Anda, menemukan teman baru, dan berbagi pengalaman menarik setiap hari!"}),j.jsx(Ld,{to:"/register",children:j.jsx("button",{className:"btn btn-primary text-center m-1",children:"Get Started"})}),j.jsx(Ld,{to:"/login",children:j.jsx("button",{className:"btn btn-secondary text-center m-1",children:"Login Here"})})]})})})]})})}const f5=pR([{path:"/",element:j.jsx(h5,{})},{path:"/login",element:j.jsx(BF,{})},{path:"/register",element:j.jsx($F,{})},{element:j.jsx(c5,{}),loader:()=>localStorage.getItem("uid")?null:gP("/login"),children:[{path:"/app",element:j.jsx(l5,{})}]}]);ep.createRoot(document.getElementById("root")).render(j.jsx(_i.StrictMode,{children:j.jsx(IR,{router:f5})}));
